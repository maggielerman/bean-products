function validateEmail(a){var b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)}function promoBanner(){if("true"===sessionStorage.getItem("smb")&&($(".promo-banner").css("display","none"),$("#smb-banner").css("display","block")),"true"===sessionStorage.getItem("beta")){var a=$(".promo-banner");a.text(""),a.removeAttr("data-remodal-target"),a.append('<a href="https://b8ta.com/b/molekule-air-purifier-1">WA & OR: Get relief faster. Order from our partner b8ta for expedited shipping & $100 off.</a>'),$(".affirm-cart").css("display","none"),$("#beta-message").css("display","block")}}function adjustUrl(a,b){var c=a.split("molekule.com");c.length>=2?(adjustedUrl="https://molekule.com/"+b+c[1],window.location=adjustedUrl):(adjustedUrl="http://molekule.com/"+b,window.location=adjustedUrl)}function routeInternational(){var a=(getCookie("country"),window.location.href.includes("ca-en"));try{"CA"===country&&a===!1&&(adjustUrl(window.location.href,"ca-en"),analyticsInit())}catch(b){"ReferenceError"===b.name}}function checkCartRemodal(){return!!$(".remodal-is-opened")[0]}function mailPopUpTimers(){isMobile===!0?setTimeout(showMailModal,15e3):setTimeout(showMailModal,5e4)}function showMailModal(){checkCookie("timerMailPopup")===!1&&modalTriggered===!1&&(checkCartRemodal()||(mailingListModal.open(),modalTriggered=!0,analytics.track("Mail Popup Shown",{category:"Engagement"}))),setCookie("timerMailPopup","seen",30)}function setCookie(a,b,c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="expires="+d.toUTCString();document.cookie=a+"="+b+";"+e+";path=/"}function getCookie(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return""}function checkCookie(a){var b=getCookie(a);return""!=b}function shuffleSurveyChoices(){for(var a=document.getElementById("survey-answers-container"),b=a.children.length;b>=0;b--)a.appendChild(a.children[Math.random()*b|0])}function testimonialVideos(){var a=$("[data-remodal-id=user-experiences]").remodal();$(document).on("closed",a,function(a){testimonialPlayer.pauseVideo()})}function appendTestimonialVideo(){var a=window.innerWidth,b=$("#testimonial-video-container");if(a>=768){if(0==testimonialVideoAppended){b.append('<video autoplay muted loop id="testimonial-vid"><source src="/assets/video/testimonials.mp4" type="video/mp4"></video>'),testimonialVideoAppended=!0;var c=document.getElementById("testimonial-vid");c.ontimeupdate=function(){var a=c.currentTime;switch(!0){case a>=0&&a<4:becQuote.fadeIn();break;case a>=4&&a<5:becQuote.fadeOut();break;case a>=5&&a<9:gordonQuote.fadeIn();break;case a>=9&&a<10:gordonQuote.fadeOut();break;case a>=10&&a<14:kimQuote.fadeIn();break;case a>=14&&a<=15:kimQuote.fadeOut()}}}}else b.find("#testimonial-vid").remove(),becQuote.css("display","none"),gordonQuote.css("display","none"),kimQuote.css("display","none"),testimonialVideoAppended=!1}function appendNewhomeTaglineVideo(){var a=$("#quote-1"),b=$("#quote-2"),c=$("#quote-3"),d=window.innerWidth,e=$("#hometagline-video-container");if(d>=768){if(0==newhomeVideoAppended){e.append('<video autoplay muted loop id="newhome-vid"><source src="../assets/video/VIDEO_Homepage_Header_720p.mp4" type="video/mp4"></video>'),newhomeVideoAppended=!0;var f=document.getElementById("newhome-vid");f.ontimeupdate=function(){var d=f.currentTime,e=4.23,g=7.4,h=15;switch(!0){case d>=0&&d<e:a.fadeIn();break;case d>=e+1&&d<g:a.hide(),b.show();break;case d>=g+1&&d<h-1:b.hide(),c.show();break;case d>=h-1&&d<=h:c.fadeOut()}}}}else e.find("#newhome-vid").remove(),a.css("display","none"),b.css("display","none"),c.css("display","none"),newhomeVideoAppended=!1}function appendAllergyTestimonialVideo(){var a=$("#chris-quote"),b=$("#treena-quote"),c=$("#paul-quote"),d=window.innerWidth,e=$("#testimonial-video-container");if(d>=768){if(0==allergyTestimonialVideoAppended){$("body").hasClass("newhome")?e.append('<video autoplay muted loop id="testimonial-vid"><source src="../assets/video/testimonials.mp4" type="video/mp4"></video>'):e.append('<video autoplay muted loop id="testimonial-vid"><source src="../assets/video/allergy_testimonials.mp4" type="video/mp4"></video>'),allergyTestimonialVideoAppended=!0;var f=document.getElementById("testimonial-vid");f.ontimeupdate=function(){var d=f.currentTime;switch(!0){case d>=0&&d<4:c.fadeIn();break;case d>=4&&d<5:c.fadeOut();break;case d>=5&&d<9:b.fadeIn();break;case d>=9&&d<10:b.fadeOut();break;case d>=10&&d<14:a.fadeIn();break;case d>=14&&d<=15:a.fadeOut()}}}}else e.find("#testimonial-vid").remove(),a.css("display","none"),b.css("display","none"),c.css("display","none"),allergyTestimonialVideoAppended=!1}function createStars(){$.getJSON("https://stamped.io/api/widget/reviews?type=site-badge&apiKey=pubkey-460qF6F4sTHaT22iHy2Bc3O9g8F6Aw&storeUrl=molekule.myshopify.com&minrating=1",function(a){var b=a.rating.toFixed(1),c=a.totalAll,d=Math.floor(b),e=Math.floor(5-b),f=b%1,g=$("#nav-stars"),h=$("#landhero-stars"),j=$("#landhero-mobile-stars"),k=$("#module-stars"),l=$("#cta-stars"),m='<i class="icon-star-full"></i>',n='<i class="icon-star-half"></i>',o='<i class="icon-star-empty"></i>';for(i=0;i<d;i++)g.append(m),k.append(m),h.append(m),j.append(m),l.append(m);for(f>=.4?(g.append(n),k.append(n),h.append(n),j.append(n),l.append(n)):e+=1,i=0;i<e;i++)g.append(o),k.append(o),h.append(o),j.append(o),l.append(o);$("#nav-rating").text(b+" / 5 Stars"),$("#landhero-rating").text(b+" / 5 Stars"),$("#landhero-mobile-rating").text(b+" / 5 Stars"),$("#cta-rating").text(b+" / 5 Stars"),$("#landhero-total").text(c+" Customer Reviews"),$("#landhero-mobile-total").text(c+" Customer Reviews"),$("#cta-total").text(c+" Customer Reviews")})}function reviews(){$(document).ready(function(){var a=!1;$(window).scroll(function(){var b=$("#stamped-main-widget").offset().top-70;$(window).scrollTop()>=b&&a===!1&&(a=!0,analytics.track("Read Reviews",{category:"Engagement"}),gtmRunning&&inProd&&fbq("track","reviews_read"))}),$(document).on("stamped:reviews:loaded",function(){$("#stamped-sort-select-placeholder").html(""),$(".stamped-summary-ratings").appendTo($("#summary-rating-placeholder")),$(".stamped-sort-select").appendTo($("#stamped-sort-select-placeholder")),$(".summary-overview").appendTo($("#summary-overview-placeholder")),$("#stamped-sort-select-placeholder").prependTo($(".stamped-header")),$(".stamped-summary-actions-newreview").removeAttr("onclick"),$(".stamped-summary-actions-newreview").attr("href","new-review"),$("li[data-value='age'] span span").each(function(){""!=$(this).attr("data-value")&&$(this).addClass("age")}),$("li.page:first").css("border-right","none"),$("li.page:last").css("border-left","none"),$(".stamped-pagination li").click(function(){$("html, body").animate({scrollTop:$("#stamped-main-widget").offset().top-70},300)}),$(".summary-rating").unbind().click(function(){$("html, body").animate({scrollTop:$("#stamped-main-widget").offset().top-70},300)}),$(".stamped-review").each(function(a){var b,c;b=$(".original-review",this).length?$(".original-review",this).text():$(".stamped-review-content-body",this).text(),b=b.replace(/["]/g,"%22"),b=b.replace(/[']/g,"%27"),c=$(".stamped-review-header-title",this).text();var d=$(this).find(".stamped-review-options ul li:nth-child(3)");d.length&&(d.addClass("motivation"),$(d).insertAfter($(".stamped-review-body > .stamped-review-header-title",this))),screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,screenWidth>=668&&$(".stamped-starratings",this).css("margin-bottom",(27+$("h3",this).height()-28).toString()+"px");var e=$("#stamped-share-links",this),f=e.children("a").splice(0,2);e.text(""),e.append(f),$(".stamped-share-links a",this).text(""),e.append('<a href="mailto:?subject='+c+"&body="+b+'"><svg xmlns="http://www.w3.org/2000/svg" fill="#535454" data-name="Layer 21" height="30" id="Layer_21" viewBox="0 0 24 24" width="30" class="svg mail_share replaced-svg"><title></title><path d="M19,5H5A2,2,0,0,0,3,7V17a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V7A2,2,0,0,0,19,5Zm0,4-7,5L5,9V7l7,5,7-5Z"></path></svg></a>'),$(".stamped-share-links a:first-of-type",this).append('<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 21" fill="#535454" height="30" id="Layer_21" viewBox="0 0 24 24" width="30" class="fb_share svg replaced-svg"><title></title><path d="M16.75,9H13.5V7a1,1,0,0,1,1-1h2V3H14a4,4,0,0,0-4,4V9H8v3h2v9h3.5V12H16Z"></path></svg>'),$(".stamped-share-links a:nth-of-type(2)",this).append('<svg xmlns="http://www.w3.org/2000/svg" fill="#535454" data-name="Layer 21" height="30" id="Layer_21" viewBox="0 0 24 24" width="30" class="svg twitter_share replaced-svg"><title></title><circle cx="16" cy="8" r="4"></circle><path d="M12.58331,8.83331C12.37488,8.83331,12,9.26563,12,9.5A8.5,8.5,0,0,1,3.5,18a8.52217,8.52217,0,0,1-1.28479-.1073A11.41717,11.41717,0,0,0,20,8.41663C20,7.681,15.31757,8.83331,12.58331,8.83331Z"></path><path d="M12.58331,8.83331a11.385,11.385,0,0,1-8.69452-4.028A3.93758,3.93758,0,0,0,3.35,6.77081,3.9792,3.9792,0,0,0,7.32916,10.75c2.12482,0,5.89844.02264,6.14691-1.96179C13.18054,8.81116,12.8847,8.83331,12.58331,8.83331Z"></path><path d="M5.24585,10.04163a3.93437,3.93437,0,0,1-1.88977-.49774c-.00031.02057-.0061.03961-.0061.06024a3.9792,3.9792,0,0,0,3.97919,3.97919c2.19763,0,5.275-1.594,5.275-3.79165C12.60417,8.282,7.42285,10.04163,5.24585,10.04163Z"></path><path d="M7.72642,12.99649a3.90991,3.90991,0,0,1-3.02909.52286A3.96636,3.96636,0,0,0,8.49585,16.375a5.25835,5.25835,0,0,0,4.67082-4.66667C13.16667,9.81478,8.82831,12.28888,7.72642,12.99649Z"></path><path d="M17.61041,5.37915c-1.32214,0-1.63562,1.6604.075,1.6604a3.96629,3.96629,0,0,0,3.754-2.71222A7.49909,7.49909,0,0,1,17.61041,5.37915Z"></path><path d="M18.82916,6.5354a7.52209,7.52209,0,0,1-2.93716-.593c-2.70831-1.14551-4.35526,3.343-.18784,3.343A7.53392,7.53392,0,0,0,22.05579,5.803,7.50268,7.50268,0,0,1,18.82916,6.5354Z"></path></svg>'),$(".stamped-share-links a:nth-of-type(2)",this).attr("href","https://twitter.com/intent/tweet?text="+c+" https://molekule.com/reviews"),$(".stamped-review-options ul",this).prepend($("span.stamped-review-location",this)),$("div.stamped-review-date",this).insertAfter($(".author",this)),$("li.motivation strong",this).text("Reason I bought a Molekule");var g=$("#stamped-review-image",this);0==g.children().length&&g.css("display","none"),$(".stamped-review-option-checkbox").find('[data-value="other"]').remove(),$(".stamped-review-option-checkbox",this).children().length<1&&$('li[data-value="motivation-to-buy"]',this).remove()})})})}function about(){var a=($("#team").children(".row").length,$(".team-portrait","#team")),b=$(".mobile-bio-row","#team"),c=$(".mobile-bio","#team"),d=$(".bio-row","#team"),e=$(".arrow, .mobile-arrow","#team");$("#team").children(".row").each(function(){var f=new Object;f=$(this),f.portraits=$(".team-portrait",this),f.bioRow=$(".bio-row",this),f.bios=$(".bio",this),f.arrow=$(".arrow",this),f.mobileBioRow=$(".mobile-bio-row",this),f.mobileArrow=$(".mobile-arrow",this),f.portraits.each(function(g){$(this).click(function(){function h(){f.bioRow.addClass("active"),$("html, body").animate({scrollTop:l.offset().top-64},300),f.bios.removeClass("active"),n.addClass("active"),f.arrow.addClass("active"),f.arrow.css("left",o+"%"),l.siblings(".team-portrait").addClass("blur"),l.removeClass("blur")}function i(){n.hasClass("active")?(p.removeClass("active"),a.removeClass("blur"),f.mobileArrow.removeClass("active"),setTimeout(function(){n.removeClass("active")},700)):($("html, body").animate({scrollTop:l.offset().top-40},300),e.removeClass("active"),p.addClass("active"),f.mobileArrow.addClass("active"),$(".mobile-bio",p).eq(g).addClass("active"),f.mobileArrow.addClass("active"),f.mobileArrow.css("left",o))}function j(){n.hasClass("active")?(p.removeClass("active"),a.removeClass("blur"),t.removeClass("active"),setTimeout(function(){p.children().removeClass("active")},700)):(c.removeClass("active"),$("html, body").animate({scrollTop:l.offset().top-40},300),e.removeClass("active"),p.addClass("active"),n.addClass("active"),t.addClass("active"),t.css("left",o))}var k=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=$(this);if(k>=668){var l=$(this),m=!1;d.not(f.bioRow).hasClass("active")&&(m=!0),d.removeClass("active"),a.removeClass("blur"),e.removeClass("active");var n=f.bios.eq(g),o=-12.5+25*(g+1);m===!0?setTimeout(h,700):h()}else{var p,o=g%2?"75%":"25%";if(g<2){p=f.mobileBioRow.eq(0);var q,n=$(".mobile-bio",p).eq(g);q=0==g?$(f.portraits[1]):$(f.portraits[0]),a.removeClass("blur"),q.addClass("blur");var m=!1;b.not(p).hasClass("active")&&(m=!0);var r=b.not(p),s=c.not(n);m===!0?(r.removeClass("active"),setTimeout(function(){s.removeClass("active"),i()},700)):(s.removeClass("active"),i())}else{p=f.mobileBioRow.eq(1);var q,n=2==g?$(".mobile-bio",p).eq(0):$(".mobile-bio",p).eq(1),t=f.arrow.eq(1);q=2==g?$(f.portraits[3]):$(f.portraits[2]),a.removeClass("blur"),q.addClass("blur");var m=!1;b.not(p).hasClass("active")&&(m=!0);var r=b.not(p),s=c.not(n);m===!0?(r.removeClass("active"),setTimeout(function(){s.removeClass("active"),j()},700)):(s.removeClass("active"),j())}}})}),f.close=$(".icon-close",this),f.bioRow=$(".bio-row",this),f.close.click(function(){f.bioRow.removeClass("active"),f.portraits.removeClass("blur"),f.arrow.removeClass("active")})})}function jobs(){function a(a){if(a){var b=a.replace(/\s+/gi,"");return b}return"Uncategorized"}function b(a){if(a)return a;var b="Uncategorized";return b}function c(c){function d(a){if(a){var b=a.match(/[^\.!\?]+[\.!\?]+/g);b=null===b?a:b.length>2?b.slice(0,3).join(" "):b.join(" "),b=b.replace("Job Description","")}else var b="No description provided";return b}var e=1;for(i=0;i<c.length;i++){var f=b(c[i].title),g=a(f);$("#jobs-container .jobs-teams").append('<a href="#" class="btn '+g+'">'+f+"</a>")}for(i=0;i<c.length;i++)for(j=0;j<c[i].postings.length;j++){var h,k=c[i].postings[j],l=k.text,m=k.descriptionPlain,n=d(m),o=b(k.categories.location),p=a(o),q=b(k.categories.commitment),r=a(q),f=b(k.categories.team),g=a(f),s=k.hostedUrl;h=e<10?"0"+e:e,$("#jobs-container .jobs-list").append('<div class="job '+g+" "+p+" "+r+'"><div class="left"> <p class="number above">'+h+'</p><h1 class="job-title">'+l+'</h1></div><div class="right"><p class="number above">DESCRIPTION</p><p class="description">'+n+'</p><a class="apply btn" target="_blank" href="'+s+'"">Apply Now</a></div></div>'),e++}}function d(b){$(".jobs-teams").on("click","a",function(c){for(c.preventDefault(),i=0;i<b.length;i++){var d=b[i].title,e=a(d),f=$(".jobs-list");$(this).hasClass(e)&&($(this).hasClass("active")?($(this).removeClass("active"),f.find(".job").fadeIn("fast")):($(".jobs-teams").find("a").removeClass("active"),$(this).addClass("active"),f.find("."+e).fadeIn("fast"),f.find(".job").not("."+e).fadeOut("fast")))}})}url="https://api.lever.co/v0/postings/molekule?group=team&mode=json",$.ajax({dataType:"json",url:url,success:function(a){c(a),d(a)}})}function fixHeightAsthma(){var a,b=$(".js-match-height"),c=function(){b.each(function(){if(screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,screenWidth>900){var a=$(this).css("height");$(this).siblings(".js-inherit-height").css("height",a)}else $(this).siblings(".js-inherit-height").css("height","")})};$(window).on("resize",function(b){clearTimeout(a),a=setTimeout(function(){c()},250)}),c(),$(window).load(function(){c()})}function sectionFixHeight(){var a,b=$(".js-match-height"),c=function(){b.each(function(){if(screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,screenWidth>=1025){var a=$(this).height();$(this).siblings(".js-inherit-height").css("height",a),$(this).siblings(".js-inherit-height").find(".js-inherit-half-height").css("height",a/2)}else $(this).siblings(".js-inherit-height").css("height",""),$(this).siblings(".js-inherit-height").find(".js-inherit-half-height").css("height","")})};$(window).on("resize",function(b){clearTimeout(a),a=setTimeout(function(){c()},250)}),c(),$(window).load(function(){c()})}function sectionFixHeightNews(){var a,b=$(".js-match-height"),c=function(){b.each(function(){if(screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,screenWidth>=668){var a=$(this).outerHeight();$(this).siblings(".js-inherit-height").css("height",a),$(this).siblings(".js-inherit-height").find(".js-inherit-half-height").css("height",a/2)}else $(this).siblings(".js-inherit-height").css("height",""),$(this).siblings(".js-inherit-height").find(".js-inherit-half-height").css("height","")})};$(window).on("resize",function(b){clearTimeout(a),a=setTimeout(function(){c()},250)}),c(),$(window).load(function(){c()})}function sectionFixHeightHome(){var a,b=$(".js-match-height"),c=function(){b.each(function(){if(screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,screenWidth>=768){var a=$(this).height();$(this).find(".js-inherit-height").css("height",a)}else $(this).find(".js-inherit-height").css("height","")})};$(window).on("resize",function(b){clearTimeout(a),a=setTimeout(function(){c()},250)}),c(),$(window).load(function(){c()})}function sectionFixHeightNewHome(){var a,b=$(".js-match-height"),c=function(){b.each(function(){if(screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,screenWidth>=768){var a=$(this).height();$(this).find(".js-inherit-height").css("height",a)}else $(this).find(".js-inherit-height").css("height","")})};$(window).on("resize",function(b){clearTimeout(a),a=setTimeout(function(){c()},250)}),c(),$(window).load(function(){c()})}function loadNavLogic(){$("#scroll-nav").localScroll({easing:"easeInOutExpo",duration:1400}),$("#scroll-nav li").click(function(){$("#scroll-nav li").removeClass("active"),$(this).addClass("active")});new Waypoint.Sticky({element:$(".ribbon-nav")[0],offset:$("header.main-header").outerHeight(!0)})}function loadNavLogicNews(){$("#scroll-nav").localScroll({easing:"easeInOutExpo",duration:1400,offset:-130}),$("#scroll-nav li").click(function(){$("#scroll-nav li").removeClass("active"),$(this).addClass("active")});new Waypoint.Sticky({element:$(".ribbon-nav")[0],offset:$("header.main-header").outerHeight(!0)})}function faqs(){$(".faq_question").click(function(){if($(this).parent().is(".open"))$(this).closest(".faq").find(".faq_answer_container").animate({height:"0"},500),$(this).closest(".faq").removeClass("open");else{var a=$(this).closest(".faq").find(".faq_answer").outerHeight()+"px";$(this).closest(".faq").find(".faq_answer_container").animate({height:a},500),$(this).closest(".faq").addClass("open")}})}function testimonialHovers(){var a=$(".testimonials .item .info"),b=$(".testimonials .item");$(".testimonials .item:first-of-type").addClass("active"),a.click(function(){b.removeClass("active"),$(this).parent().parent().addClass("active")}),a.hover(function(){b.removeClass("active"),$(this).parent().parent().addClass("active")})}function pollutantsHovers(){var a=$(".pollutants .item"),b=$(".pollutants .item");a.click(function(){b.removeClass("active"),$(this).addClass("active")}),a.hover(function(){b.removeClass("active"),$(this).addClass("active")})}function mobileNavLogic(){$(mobBtnOpen).stop().click(function(){return $("html").hasClass("js-nav-active")||openMobileNav(),!1}),$(mobBtnClose).add(cover).stop().click(function(){return $("html").hasClass("js-nav-active")&&closeMobileNav(),!1})}function openMobileNav(){$("html").addClass("js-nav-active"),$("html").addClass("site-back"),menu.addClass("setpos"),cover.fadeIn("fast"),setTimeout(function(){menu.addClass("opening")},40),mobBtnOpen.css("visibility","hidden")}function closeMobileNav(){$("html").removeClass("site-back"),cover.fadeOut("fast"),setTimeout(function(){menu.addClass("closing")},40),setTimeout(function(){!$("html").hasClass("fp-true")},20),setTimeout(function(){$("html").removeClass("js-nav-active"),menu.removeClass("closing opening setpos"),mobBtnOpen.css("visibility","visible")},600)}function videoCloseListeners(){closeBtn=$("div.reveal-vid-wrap i"),wrap=$("div.reveal-vid-wrap"),$(closeBtn).click(function(){$(wrap).fadeOut(),TouchScroll(),enableScroll(),mainVideoPlayer.pauseVideo(),testimonialVideoTimerTrigger=!1,timerPaused===!0&&(fireSectionTimer(),timerPaused=!1)}),$(document).keyup(function(a){27==a.keyCode&&($(wrap).fadeOut(),TouchScroll(),enableScroll(),mainVideoPlayer.pauseVideo(),testimonialVideoTimerTrigger=!1,timerPaused===!0&&(fireSectionTimer(),timerPaused=!1))})}function playVideo(){$(".js-watch-vid, .play-filter-video").click(function(a){a.preventDefault();var b;b=$("div.reveal-vid-wrap.main"),closeBtn=$("div.reveal-vid-wrap.main i"),$(b).fadeIn(),noTouchScroll(),disableScroll();var c=!1;if("undefined"!=typeof window.orientation)var c=!0;c||mainVideoPlayer.playVideo(),$(closeBtn).click(function(){$(b).fadeOut(),TouchScroll(),enableScroll(),mainVideoPlayer.pauseVideo()}),$(b).click(function(){$(b).fadeOut(),TouchScroll(),enableScroll(),mainVideoPlayer.pauseVideo()}),$(document).keyup(function(a){27==a.keyCode&&($(b).fadeOut(),TouchScroll(),enableScroll(),mainVideoPlayer.pauseVideo())})}),videoCloseListeners()}function fireSectionTimer(){var a=setInterval(function(){sectionTimerTrigger===!0?(timeSpentInSection+=1,15===timeSpentInSection&&(analytics.track("Molekule Information Read",{category:"Engagement",type:"Timer"}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"mo-info-read",tags:{}}),informationRead=!0),$(".js-watch-vid").click(function(){clearInterval(a),timerPaused=!0})):(clearInterval(a),timeSpentInSection=0)},1e3)}function scrollTimers(){new Waypoint({element:document.getElementsByClassName("section-entrance"),handler:function(a){"down"===a&&(sectionTimerTrigger=!0,fireSectionTimer())},offset:"50%"}),new Waypoint({element:document.getElementsByClassName("section-exit"),handler:function(a){"down"===a&&(sectionTimerTrigger=!1)},offset:"-50%"})}function playTestimonialVideo(){$("#testimonial-viewport").css("display","flex"),$("#testimonial-viewport").hide(),$(".testimonial-menu .thumb, .og-testimonial-carousel .play-button, .testimonial-carousel .play-button, .gif-cover .quote, .katrina, .allergy-testimonial-carousel .video-title-play-button, .bec, .gordon, .kim").click(function(a){testimonialVideoTimerTrigger=!0,a.preventDefault();var b,c=setInterval(function(){testimonialVideoTimerTrigger===!0?(timeWatched+=1,60===timeWatched&&(analytics.track("Testimonial Video Watched",{category:"Engagement",label:"Timer"}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"testimonial-watched",tags:{}})),$(".bec, .gordon, .kim, .katrina, .treena, .paul, .chris").click(function(){clearInterval(c),timeWatched=0})):(clearInterval(c),timeWatched=0)},1e3);b=$("#testimonial-viewport"),closeBtn=$("#testimonial-viewport i"),$(b).fadeIn(),noTouchScroll(),disableScroll();var d=!1;if("undefined"!=typeof window.orientation)var d=!0;d||testimonialPlayer.playVideo(),$(closeBtn).click(function(){$(b).fadeOut(),TouchScroll(),enableScroll(),testimonialPlayer.pauseVideo()}),$(document).keyup(function(a){27==a.keyCode&&($(b).fadeOut(),TouchScroll(),enableScroll(),testimonialPlayer.pauseVideo())})}),videoCloseListeners()}function appendDestructionVid(){if(screenWidth>=768&&destructionVideoAppended===!1){videoDiv.find("#destruction-video").remove(),videoDiv.append('\t\t\t<video muted playsinline autoplay loop id="destruction-video">                <source src="https://assets.molekule.com/zap15.mp4" type="video/mp4">            </video>\t\t');var a=document.getElementById("destruction-video");a.play(),destructionVideoAppended=!0}else if(screenWidth<768&&destructionVideoAppended===!1){videoDiv.find("#destruction-video").remove(),videoDiv.append('\t\t\t<video muted playsinline autoplay loop id="destruction-video">                <source src="https://assets.molekule.com/zap-mobile.mp4" type="video/mp4">            </video>\t\t');var a=document.getElementById("destruction-video");a.play(),destructionVideoAppended=!0}}function analyticsInit(){$(".buy").click(function(){analytics.track("Initiate Checkout (header)",{category:"Checkout",type:"Button"}),gtmRunning&&inProd&&fbq("track","InitiateCheckout"),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"headerBuy"}),sessionStorage.setItem("initiateCart","true")}),$(".footer-buy").click(function(){analytics.track("Initiate Checkout (footer)",{category:"Checkout",type:"Button"}),gtmRunning&&inProd&&fbq("track","InitiateCheckout"),sessionStorage.setItem("initiateCart","true"),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"footerBuy"})}),$(".checkout-button").click(function(){analytics.track("Quantity Confirm",{category:"Checkout",type:"Button"}),gtmRunning&&inProd&&(fbq("track","quantity_confirm"),pintrk("track","addtocart"),snaptr("track","ADD_CART")),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"quantityConfirm"})}),window.addEventListener("beforeunload",function(a){"true"!==sessionStorage.getItem("initiateCheckout")&&"true"===sessionStorage.getItem("initiateCart")&&(analytics.track("Quantity Confirm Dropoff",{category:"Checkout"}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"qc_drop"}))}),$(".js-watch-vid").click(function(){analytics.track("Video Play",{category:"Video Play",type:"Button"}),gtmRunning&&inProd&&(fbq("track","video_view"),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"mainVideoPlay"}))}),$(".play-filter-video").click(function(){analytics.track("Filter Video Play",{category:"Video Play"})}),$(".home-btn").click(function(){analytics.track("Home page",{category:"Page view"})}),$(".help-btn").click(function(){analytics.track("Help Center",{category:"Page view"})}),$(".blog-btn").click(function(){analytics.track("Link to Blog",{category:"Page view"})}),$(".product-btn").click(function(){analytics.track("Product page",{category:"Page view"})}),$(".tech-btn").click(function(){analytics.track("Tech page",{category:"Page view"})}),$(".pprs-btn").click(function(){analytics.track("White Papers",{category:"Page view"})}),$(".about").click(function(){analytics.track("About Page",{category:"Page view"})}),$(".wrapper .single-paper:nth-of-type(2) a").click(function(){analytics.track("White Paper View",{category:"Download",label:"Beta Study"}),gtmRunning&&inProd&&fbq("track","white_paper_dl")}),$(".wrapper .single-paper:nth-of-type(3) a").click(function(){analytics.track("White Paper View",{category:"Download",label:"Indoor Air Quality"}),gtmRunning&&inProd&&fbq("track","white_paper_dl")}),$(".wrapper .single-paper:nth-of-type(4) a").click(function(){analytics.track("White Paper View",{category:"Download",label:"PECO"}),gtmRunning&&inProd&&fbq("track","white_paper_dl")}),$(".price-btn").click(function(){analytics.track("Price Page",{category:"Page View",label:"Price Page"})}),$("#mold-link").click(function(){analytics.track("Mold Page",{category:"Page View",label:"Mold Page"})}),$("#app-link").click(function(){analytics.track("App Page",{category:"Page View",label:"App Page"})}),$("#mission-link").click(function(){analytics.track("Mission Page",{category:"Page View",label:"Mission Page"})}),$(".filters-link").click(function(){analytics.track("Filter Page",{category:"Page View",label:"Filter Page"})}),$("#qs-link").click(function(){analytics.track("Quick Start Guide",{category:"Download",label:"Quick Start Guide"})}),$("#ios-appstore-link").click(function(){analytics.track("iOS Appstore Link",{category:"Download",label:"iOS"})}),$("#playstore-link").click(function(){analytics.track("Play Store Link",{category:"Download",label:"Android"})}),$("#tech-wp").click(function(){analytics.track("White Paper View",{category:"Engagement",label:"Tech Page White Paper Link",type:"Button"}),gtmRunning&&inProd&&fbq("track","white_paper_dl")}),$("#tech-engagement").click(function(){analytics.track("Tech Science Interest",{category:"Engagement",type:"Button"})}),$("#wp-engagement").click(function(){analytics.track("Beta Study Interest",{category:"Engagement",type:"Button"})}),$(".affirm-site-modal, .affirm-as-low-as, .affirm-product-modal").click(function(){analytics.track("Affirm Info Viewed",{category:"Engagement",type:"Button"}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"affirm_viewed"})}),$(".graphs .owl-dots >div:nth-of-type(1), .graph1").click(function(){analytics.track("Destruction Graph View",{category:"Engagement",label:"VOC"})}),$(".graphs .owl-dots >div:nth-of-type(2), .graph2").click(function(){analytics.track("Destruction Graph View",{category:"Engagement",label:"Bacteria"})}),$(".graphs .owl-dots >div:nth-of-type(3), .graph3").click(function(){analytics.track("Destruction Graph View",{category:"Engagement",label:"Mold"})}),$(".graphs .owl-dots >div:nth-of-type(4), .graph4").click(function(){analytics.track("Destruction Graph View",{category:"Engagement",label:"Viruses"})}),$(".graphs .owl-dots >div:nth-of-type(5), .graph5").click(function(){analytics.track("Destruction Graph View",{category:"Engagement",label:"Allergens"})}),$("#survey-btn").click(function(){analytics.track("Survey Link",{category:"Engagement",type:"Button"}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"wl-conversion"})}),$(".bec").click(function(){analytics.track("Testimonial Video View",{category:"Video Play",label:"Bec"}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"testimonialVideoPlay"})}),$(".gordon").click(function(){analytics.track("Testimonial Video View",{category:"Video Play",label:"Gordon"}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"testimonialVideoPlay"})}),$(".kim").click(function(){analytics.track("Testimonial Video View",{category:"Video Play",label:"Kim"}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"testimonialVideoPlay"})}),$(".paul").click(function(){analytics.track("Testimonial Video View",{category:"Video Play",label:"Paul"}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"testimonialVideoPlay"})}),$(".treena").click(function(){analytics.track("Testimonial Video View",{category:"Video Play",label:"Treena"}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"testimonialVideoPlay"})}),$(".chris").click(function(){analytics.track("Testimonial Video View",{category:"Video Play",label:"Chris"}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"testimonialVideoPlay"})}),$(".katrina").click(function(){analytics.track("Testimonial Video View",{category:"Video Play",label:"Katrina"}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"testimonialVideoPlay"})}),$(".pollutant-container li").click(function(){$(this).hasClass("tab")?analytics.track("Bad guys module view",{category:"Engagement",label:"Additional Info"}):analytics.track("Bad guys module view",{category:"Engagement",label:"Initial Open"})}),$(".reset-carousel").click(function(){analytics.track("Bad guys module view",{category:"Engagement",label:"carousel reset"})}),$(".reviews-link-footer").click(function(){analytics.track("Reviews Page Link",{category:"Engagement",label:"footer"})}),$(".reviews-link-nav").click(function(){analytics.track("Reviews Page Link",{category:"Engagement",label:"nav"})}),$(".owl-reviews .owl-dot").click(function(){analytics.track("Reviews Scrolled",{category:"Engagement"})}),$(".allergies-page-link").click(function(){analytics.track("Link to Allergy Page",{category:"Allergy Funnel",label:window.location.pathname}),gtmRunning&&inProd&&fbq("track","link_to_allergies")}),$(".allergies-play-video").click(function(){analytics.track("Allergy Play Video",{category:"Allergy Funnel",label:window.location.pathname})}),$(".home-page-link").click(function(){analytics.track("Link to Home Page",{category:"Mold Funnel",label:window.location.pathname}),gtmRunning&&inProd&&fbq("track","link_to_home")}),$(".learn-more-tech").click(function(){analytics.track("Learn More Tech",{category:"Engagement",label:window.location.pathname}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"learn_more_tech"})})}function sendSessionDuration(){var a,b=sessionStorage.getItem("timeEntered"),c=sessionStorage.getItem("oneMinPixel"),d=sessionStorage.getItem("eightMinPixel");b||(sessionStorage.setItem("timeEntered",(new Date).getTime()),b=sessionStorage.getItem("timeEntered")),window.onbeforeunload=function(){a=((new Date).getTime()-parseInt(b))/1e3,"true"!==c&&a>=60&&(sessionStorage.setItem("oneMinPixel","true"),analytics.track("One Minute on Site",{category:"Session Duration",type:"Timer"}),gtmRunning&&inProd&&fbq("track","one_min_session")),"true"!==d&&a>=480&&(sessionStorage.setItem("eightMinPixel","true"),analytics.track("Eight Minutes on Site",{category:"Session Duration",type:"Timer"}),gtmRunning&&inProd&&fbq("track","eight_min_session"))}}function owlPureAir(){function a(){var a=$(".owl-carousel.pure-air .owl-item.active .item"),b=a.data("index"),c=$(".labels"),d=$(".labels li");d.removeClass("active"),c.find("[data-index='"+b+"']").addClass("active")}$(".owl-carousel.pure-air").owlCarousel({slideSpeed:300,paginationSpeed:400,pagination:!0,items:1,singleItem:!0,addClassActive:!0,loop:!0,onTranslated:a}),$(".image-breakaway .labels li").click(function(){var a=$(this).data("index"),b=$(".image-breakaway .labels li"),c=$(".filter-tech .owl-dots div");b.removeClass("active"),$(this).addClass("active"),c.eq(a-1).click()})}function owlHomeHeroMobile(){$(".owl-homeHeroMobile").owlCarousel({items:1,autoplay:!0,mouseDrag:!0,touchDrag:!0,smartSpeed:800,dotsSpeeds:800,loop:!0})}function owlLandingHeroMobile(){$(".owl-landing-hero-mobile").owlCarousel({items:1,autoplay:!0,mouseDrag:!0,touchDrag:!0,smartSpeed:800,dotsSpeeds:800,loop:!0})}function owlLandingFilters(){$(".owl-landing-filters").owlCarousel({items:1,autoplayTimeout:1e4,autoplay:!0,mouseDrag:!0,touchDrag:!0,smartSpeed:800,dotsSpeeds:800,loop:!0})}function owlProductFeatures(){$(".owl-product-features").owlCarousel({items:1,autoplay:!0,mouseDrag:!1,touchDrag:!0,smartSpeed:800,dotsSpeeds:800,loop:!0})}function owlHomeAwards(){$(".owl-homeAwards").owlCarousel({items:1,autoplay:!0,smartSpeed:800,dotsSpeeds:800,loop:!0})}function owlOldTestimonials(){function a(){$(".owl-carousel .item").removeClass("hide")}var b=$(".owl-carousel.og-testimonial-carousel");b.owlCarousel({onInitialized:a,autoplay:!0,smartSpeed:800,dotsSpeeds:800,touchDrag:!0,mouseDrag:!0,singleItem:!0,items:1,dots:!0,loop:!0,info:!0})}function owlTestimonials(){function a(){$(".testimonial-carousel .item").removeClass("hide")}var b=$(".owl-carousel.testimonial-carousel");b.owlCarousel({onInitialized:a,autoplay:!1,smartSpeed:!0,dotsSpeeds:800,touchDrag:!0,mouseDrag:!0,singleItem:!0,items:1,dots:!0,loop:!0,info:!0})}function owlAllergyTestimonials(){function a(){$(".allergy-testimonial-carousel .item").removeClass("hide")}var b=$(".allergy-testimonial-carousel");b.owlCarousel({onInitialized:a,autoplay:!0,smartSpeed:800,dotsSpeeds:800,touchDrag:!0,mouseDrag:!0,singleItem:!0,items:1,dots:!0,loop:!0,info:!0})}function owlNewhomeTestimonials(){function a(){$(".newhome-testimonial-carousel .item").removeClass("hide")}var b=$(".newhome-testimonial-carousel");b.owlCarousel({onInitialized:a,autoplay:!0,smartSpeed:800,dotsSpeeds:800,touchDrag:!0,mouseDrag:!0,singleItem:!0,items:1,dots:!0,loop:!0,info:!0})}function owlOldTestimonials(){function a(){$(".owl-carousel .item").removeClass("hide")}var b=$(".owl-carousel.og-testimonial-carousel");b.owlCarousel({onInitialized:a,autoplay:!0,smartSpeed:800,dotsSpeeds:800,touchDrag:!0,mouseDrag:!0,singleItem:!0,items:1,dots:!0,loop:!0,info:!0})}function owlSocials(){screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var a=$(".owl-carousel.social-reviews");a.owlCarousel({autoplay:!0,smartSpeed:800,dotsSpeeds:800,touchDrag:!0,mouseDrag:!0,singleItem:!0,items:1,dots:!0,loop:!0,info:!0})}function owlPress(){$(".owl-carousel.press").owlCarousel({autoplay:!0,autoplayTimeout:3e3,items:1,slideSpeed:800,singleItem:!0,addClassActive:!0,dots:!0,loop:!0})}function owlReviews(){function a(){$(".owl-carousel .item").removeClass("hide")}function b(){analytics.track("Review Gallery Advanced",{category:"Engagement",currentPage:window.location.pathname}),console.log("Review Gallery Advanced")}screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var c=$(".owl-carousel.owl-reviews");c.owlCarousel({onInitialized:a,autoplay:!1,slideSpeed:800,URLhashListener:!0,dots:!0,loop:!0,onChanged:b,responsive:{0:{items:1},768:{items:2},1025:{items:3}}})}function owlPollutants(){$(".pollutants, .testimonials").owlCarousel({slideSpeed:300,paginationSpeed:400,pagination:!0,items:1,singleItem:!0,addClassActive:!0,loop:!0,responsive:!0,startPosition:1})}function owlHomeCarouselChecks(){if(screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,screenWidth<=667)owlPollutants();else{var a=$(".pollutants");a.removeClass("owl-carousel owl-loaded"),"undefined"!=typeof a.data("owlCarousel")&&(a.data("owlCarousel").destroy(),a.removeClass("owl-carousel owl-loaded"),a.find(".owl-stage-outer").children().unwrap(),a.removeData());var b=$(".testimonials");b.removeClass("owl-carousel owl-loaded"),"undefined"!=typeof b.data("owlCarousel")&&(b.data("owlCarousel").destroy(),b.removeClass("owl-carousel owl-loaded"),b.find(".owl-stage-outer").children().unwrap(),b.removeData())}}function owlGraphs(){function a(){var a=$(".owl-carousel.graphs .owl-item.active .item"),b=a.data("index"),c=$(".lhs-click-links"),d=($(".lhs-click-links li"),$(".lhs-info")),e=$(".lhs-info .info-block");e.removeClass("active"),d.find("[data-index='"+b+"']").addClass("active"),$(".lhs-click-links li").removeClass("active"),c.find("[data-index='"+b+"']").addClass("active"),$(".graph .overlay.active ").removeClass("active")}function b(){$(".lhs-click-links li").click(function(){var a=$(this).data("index"),b=$(".lhs-click-links li"),c=$(".graph .owl-dots div");b.removeClass("active"),$(this).addClass("active"),c.eq(a-1).click()})}$(".owl-carousel.graphs").owlCarousel({slideSpeed:300,paginationSpeed:400,pagination:!0,items:1,singleItem:!0,addClassActive:!0,callbacks:!0,loop:!0,onTranslated:a}),b()}function graphClickMobile(){var a=$(".graph .item .more"),b=$(".overlay"),c=b.find(".close");$(a).stop().click(function(){$(this).next(b).addClass("active")}),$(c).click(function(){$(this).closest(b).removeClass("active"),$(this).closest(b).addClass("removing"),setTimeout(function(){$(c).closest(b).removeClass("removing")},800)})}function createShopifyStore(){promoCampaigns(),inCanadaFolder&&inCanadaFolder?caShopify():usShopify()}function usShopify(){"true"===sessionStorage.getItem("utmStored")&&(utmString=sessionStorage.getItem("utmString")),shopClient=ShopifyBuy.buildClient({accessToken:"dafe46ddede9efbe34ffe1609810dfda",domain:"molekule.myshopify.com",appId:"6"}),shopClient.fetchQueryProducts({product_ids:[7414025987,10568022211]}).then(function(a){cartItems=a})["catch"](function(){console.log("Request failed")}),$(".minusSign").click(function(){1!=quantity&&(quantity-=1,finalCost=799*quantity,filterCost=129*quantity,quantityElement.text(quantity),filterCostElement.text("$"+filterCost),finalCostElement.text("$"+finalCost))}),$(".plusSign").click(function(){10!=quantity&&(quantity+=1,finalCost=799*quantity,filterCost=129*quantity,filterCostElement.text("$"+filterCost),finalCostElement.text("$"+finalCost),quantityElement.text(quantity))}),$(".checkout-button").click(function(){shopClient.createCart().then(function(a){cart=a;var b=[];for(var c in cartItems)cartItems[c].selectedVariant&&b.push({quantity:quantity,variant:cartItems[c].selectedVariant});cart.createLineItemsFromVariants.apply(cart,b).then(function(a){"true"===sessionStorage.getItem("amazon")?window.location=a.checkoutUrl+"&discount=apay"+utmString:"true"===sessionStorage.getItem("labor-day")?window.location=a.checkoutUrl+"&discount=laborday100"+utmString:"true"===sessionStorage.getItem("wildfire")?window.location=a.checkoutUrl+"&discount=relief100"+utmString:"sfwildfire"===sessionStorage.getItem("content")?window.location=a.checkoutUrl+"&discount=relief100"+utmString:"true"===sessionStorage.getItem("smb")?window.location=a.checkoutUrl+"&discount=smb100"+utmString:(console.log("else firing"),window.location=a.checkoutUrl+utmString)})})})}function caShopify(){shopClient=ShopifyBuy.buildClient({accessToken:"2123bffe71817ba22de8f9610e0f5004",domain:"molekuleintl.myshopify.com",appId:"6"}),shopClient.fetchQueryProducts({product_ids:[197601624073,197601918985]}).then(function(a){cartItems=a})["catch"](function(){console.log("Request failed")}),$("#minus").click(function(){1!=quantity&&(quantity-=1,finalCost=999*quantity,filterCost=189*quantity,regularPrice=1199*quantity,quantityElement.text(quantity),filterCostElement.text("$"+filterCost),finalCostElement.text("$"+finalCost),regularPriceElement.text("$"+regularPrice))}),$("#plus").click(function(){10!=quantity&&(quantity+=1,finalCost=1199*quantity,filterCost=189*quantity,regularPrice=1199*quantity,finalCostElement.text("$"+finalCost),filterCostElement.text("$"+filterCost),regularPriceElement.text("$"+regularPrice),quantityElement.text(quantity))}),$(".checkout-button").click(function(){shopClient.createCart().then(function(a){cart=a;var b=[];for(var c in cartItems)cartItems[c].selectedVariant&&b.push({quantity:quantity,variant:cartItems[c].selectedVariant});cart.createLineItemsFromVariants.apply(cart,b).then(function(a){"true"===sessionStorage.getItem("labor-day")?window.location=a.checkoutUrl+"&discount=labourday150"+utmString:window.location=a.checkoutUrl+utmString})})})}function devShopify(){shopClient=ShopifyBuy.buildClient({accessToken:"f797f35817f08d6aae64de84f15a73aa",domain:"dev-molekule.myshopify.com",appId:"6"}),shopClient.fetchQueryProducts({product_ids:[793173655600]}).then(function(a){cartItems=a})["catch"](function(){console.log("Request failed")}),$("#minus").click(function(){1!=quantity&&(quantity-=1,finalCost=50*quantity,quantityElement.text(quantity),finalCostElement.text("$"+finalCost))}),$("#plus").click(function(){10!=quantity&&(quantity+=1,finalCost=50*quantity,finalCostElement.text("$"+finalCost),quantityElement.text(quantity))}),$(".checkout-button").click(function(){shopClient.createCart().then(function(a){cart=a;var b=[];for(var c in cartItems)cartItems[c].selectedVariant&&b.push({quantity:quantity,variant:cartItems[c].selectedVariant});cart.createLineItemsFromVariants.apply(cart,b).then(function(a){window.location=a.checkoutUrl+utmString})})})}function getUrlParameter(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}function storeUtm(){var a=getUrlParameter("utm_source"),b=getUrlParameter("utm_medium"),c=getUrlParameter("utm_campaign"),d=getUrlParameter("utm_content"),e=document.getElementsByClassName("utmSourcePassToGF"),f=document.getElementsByClassName("utmMediumPassToGF"),g=document.getElementsByClassName("utmCampaignPassToGF");$(".promo-banner").click(function(){analytics.track("Promo Banner Click",{category:"CTA",location:window.location.pathname})}),"wildfire-b8ta"===d&&sessionStorage.setItem("beta","true"),"sfwildfire"===d&&sessionStorage.setItem("postmates","true"),"true"===sessionStorage.getItem("utmStored")&&(e[0].value=sessionStorage.getItem("source"),e[1].value=sessionStorage.getItem("source"),f[0].value=sessionStorage.getItem("medium"),f[1].value=sessionStorage.getItem("medium"),g[0].value=sessionStorage.getItem("campaign"),g[1].value=sessionStorage.getItem("campaign")),"true"!==sessionStorage.getItem("utmStored")&&(""!==a&&(utmString+="&utm_source=",utmString+=a,sessionStorage.setItem("utmStored","true"),sessionStorage.setItem("source",a),e[0].value=a,e[1].value=a),""!==b&&(utmString+="&utm_medium=",utmString+=b,sessionStorage.setItem("utmStored","true"),sessionStorage.setItem("medium",b),f[0].value=b,f[1].value=b),""!==c&&(utmString+="&utm_campaign=",utmString+=c,sessionStorage.setItem("utmStored","true"),sessionStorage.setItem("campaign",c),g[0].value=c,g[1].value=c),""!==d&&(utmString+="&utm_content=",utmString+=d,sessionStorage.setItem("utmStored","true"),sessionStorage.setItem("content",d)),sessionStorage.setItem("utmString",utmString))}function promoCampaigns(){window.location.href.includes("#amazon")?sessionStorage.setItem("amazon","true"):window.location.href.includes("#labor-day")||window.location.href.includes("#labour-day")?sessionStorage.setItem("labor-day","true"):window.location.href.includes("#smb")&&sessionStorage.setItem("smb","true")}function newAnalyticsInit(){trackNavLink(),trackFooterLink(),trackSocialLink(),trackVideoView(),trackWhitePaperDownload(),trackLearnMore(),trackAppDownloads(),trackBuyButtons(),trackQuantityConfirm(),sendSessionDuration()}function trackBuyButtons(){$("#buy-nav-canada").click(function(){analytics.track("Initiate Checkout",{category:"Ecommerce",type:"header",label:"Canada",location:window.location.pathname}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"initiateCheckoutNavCA"})}),$("#buy-footer-canada").click(function(){analytics.track("Initiate Checkout",{category:"Ecommerce",type:"header",label:"Canada",location:window.location.pathname}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"initiateCheckoutFooterCA"})}),$("#buy-nav").click(function(){analytics.track("Initiate Checkout",{category:"Ecommerce",type:"header",location:window.location.pathname}),gtmRunning&&inProd&&(fbq("track","InitiateCheckout"),snaptr("track","ADD_CART")),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"headerBuy"})}),$("#sign-up-nav").click(function(){analytics.track("Initiate Waitlist",{category:"Sign Up",type:"header",location:window.location.pathname})}),$(".footer-buy").click(function(){analytics.track("Initiate Checkout",{category:"Ecommerce",type:"footer",location:window.location.pathname}),gtmRunning&&inProd&&(fbq("track","InitiateCheckout"),snaptr("track","ADD_CART")),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"footerBuy"})})}function trackNavLink(){$(".nav-link").click(function(){var a=$(this).attr("href");analytics.track("Nav Link Clicked",{category:"Engagement",title:a,label:a,currentPage:window.location.pathname})})}function trackFooterLink(){$("footer-link").click(function(){var a=$(this).attr("href");analytics.track("Footer Link Clicked",{category:"Engagement",title:a,label:a,currentPage:window.location.pathname})})}function trackVideoView(){$(".js-watch-vid").click(function(){var a=($(this).data("location"),"Main Video");analytics.track("Video Play",{category:"CTA",type:"Main Video",label:"Main Video",currentPage:window.location.pathname,videoId:a}),gtmRunning&&inProd&&(fbq("track","video_view"),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"mainVideoPlay"}))}),$(".bec, .gordon, .kim, .treena, .chris, .paul, .katrina").click(function(){var a,b=$(this);switch(!0){case b.hasClass("bec"):a="bec";break;case b.hasClass("gordon"):a="gordon";break;case b.hasClass("kim"):a="kim";break;case b.hasClass("treena"):a="treena";break;case b.hasClass("chris"):a="chris";break;case b.hasClass("paul"):a="paul";break;case b.hasClass("katrina"):a="katrina"}analytics.track("Video Play",{category:"CTA",type:"Testimonial Video",currentPage:window.location.pathname,videoId:a,label:a}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"testimonialVideoPlay"})}),$(".play-filter-video").click(function(){analytics.track("Video Play",{category:"CTA",type:"Filter Video",currentPage:window.location.pathname,videoId:"filter",label:"filter"})})}function trackAppDownloads(){$("#ios-appstore-link").click(function(){analytics.track("Mobile App Link",{category:"CTA",label:"iOS",item:"iOS"})}),$("#playstore-link").click(function(){analytics.track("Mobile App Link",{category:"CTA",label:"Android",item:"Android"})})}function trackSocialLink(){$(".social-link").click(function(){var a=$(this).data("medium"),b=$(this).data("location");analytics.track("Social Media Link",{category:"Engagement",medium:a,label:a,location:b})})}function trackWhitePaperDownload(a,b){$(".wp-download").click(function(){var a=$(this).data("paper");analytics.track("White Paper View",{category:"CTA",currentPage:window.location.pathname,title:a,label:a}),gtmRunning&&inProd&&fbq("track","white_paper_dl")})}function trackLearnMore(){var a=$(this).data("content");$(".learn-more").click(function(){analytics.track("Learn More",{category:"CTA",title:a,label:a,currentPage:window.location.pathname}),"allergies-page"===a&&gtmRunning&&inProd&&fbq("track","link_to_allergies")})}function trackSignUp(a,b,c){analytics.track("User Sign Up",{category:"Sign Up",email:a,location:b,type:c,label:c,currentPage:window.location.pathname}),analytics.identify({email:a})}function trackAffirmView(){var a=$(this).data("location");$(".affirm-promo").click(function(){analytics.track("Affirm Info Viewed",{category:"CTA",type:"Button",location:a,label:a,currentPage:window.location.pathname}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"affirm_viewed"})})}function trackReviewPageLink(){$(".reviews-link").click(function(){var a=$(this).data("location");analytics.track("Reviews Page Link",{category:"Engagement",location:a,label:a,currentPage:window.location.pathname})})}function trackQuantityConfirm(){$(".checkout-button").click(function(){analytics.track("Quantity Confirm",{category:"Ecommerce",currentPage:window.location.pathname}),gtmRunning&&inProd&&(fbq("track","quantity_confirm"),pintrk("track","addtocart"),snaptr("track","START_CHECKOUT")),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"quantityConfirm"})})}function sendSessionDuration(){var a,b=sessionStorage.getItem("timeEntered"),c=sessionStorage.getItem("oneMinPixel"),d=sessionStorage.getItem("eightMinPixel");b||(sessionStorage.setItem("timeEntered",(new Date).getTime()),b=sessionStorage.getItem("timeEntered")),window.onbeforeunload=function(){a=((new Date).getTime()-parseInt(b))/1e3,"true"!==c&&a>=60&&(sessionStorage.setItem("oneMinPixel","true"),analytics.track("One Minute on Site",{category:"Session Duration",type:"Timer"}),gtmRunning&&inProd&&fbq("track","one_min_session")),"true"!==d&&a>=480&&(sessionStorage.setItem("eightMinPixel","true"),analytics.track("Eight Minutes on Site",{category:"Session Duration",type:"Timer"}),gtmRunning&&inProd&&fbq("track","eight_min_session"))}}function handleSurveySubmissions(){var a,b=document.getElementById("errorMessagePLQ"),c=document.getElementById("successMessagePLQ");const d="https://script.google.com/macros/s/AKfycbwzwYDukmHYDUhLP50MfHMfXZCm7roZn_E29cuKWVBT9eN4tIDV/exec";var e=document.forms["post-lead-questionnaire-source"];const f="https://script.google.com/macros/s/AKfycbwwwhSXTXOOr8NQ_A_xPtSIyqIEYDfqKW76pHJHjRDNOLaXUARl/exec";var g=document.forms["post-lead-questionnaire"];e.addEventListener("submit",function(e){e.preventDefault();var f=document.forms["post-lead-questionnaire-source"].surveyChoice.value;"other"===f&&""!==$("#source-text-input").val()&&$("#source-other").attr("value",$("#source-text-input").val()),a=new Date;var g=JSON.parse(JSON.stringify($("#plq-source").serializeArray()));return trackSurveyResponse(g,"source"),$.ajax({url:d,method:"POST",dataType:"json",data:g}).success(function(){console.log("success")}),null==f||""==f?(b.style.display="block",null===f&&console.log("null"),""===f&&console.log("blank"),!1):($(".modal-post-sign-query").css("display","none"),void(c.style.display="block"))}),g.addEventListener("submit",function(d){d.preventDefault();var e=document.forms["post-lead-questionnaire"].surveyChoice.value;a=new Date,"other"===e&&""!==$("#need-text-input").val()&&$("#need-other").attr("value",$("#need-text-input").val());var g=JSON.parse(JSON.stringify($("#plq").serializeArray()));return trackSurveyResponse(g,"need"),$.ajax({url:f,method:"POST",dataType:"json",data:g}).success(function(){console.log("success")}),null==e||""==e?(b.style.display="block",null===e&&console.log("null"),""===e&&console.log("blank"),!1):($(".modal-post-sign-query").css("display","none"),void(c.style.display="block"))})}function trackSurveyResponse(a,b){var c={};for(c.category="Engagement",c.survey=b,i=0;i<a.length;i++)""!==a[i].value&&(c[a[i].name]=a[i].value);analytics.track("Survey Submitted",c)}function videoAppend(a,b,c){function d(a,b){if(screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,screenWidth>=g&&f===!1){a.find("#appended-video-id").remove(),a.append(h);var c=document.getElementById("appended-video-id");c.play(),f=!0}else screenWidth<g&&f===!0&&(a.find("#appended-video-id").remove(),f=!1)}var e,f=(a=$("."+a),!1),g=1025;if(c)var h='<video muted playsinline autoplay loop id="appended-video-id"><source src="assets/video/'+b+'" type="video/mp4"><source src="assets/video/'+c+'" type="video/webm"></video>';else var h='<video muted playsinline autoplay loop id="appended-video-id"><source src="assets/video/'+b+'" type="video/mp4"></video>';$(document).ready(function(){d(a,b)}),$(window).on("resize",function(c){clearTimeout(e),e=setTimeout(function(){d(a,b)},250)})}function appendMoldVideo(){var a=window.innerWidth,b=$(".bg-container");if(a>=668){if(0==moldVideoAppended){b.append('<video autoplay muted loop id="mold-vid"><source src="../assets/video/gordon.mp4" type="video/mp4"></video>'),moldVideoAppended=!0;document.getElementById("mold-vid")}}else b.find("#mold-vid").remove(),moldVideoAppended=!1}function moldSocials(){screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var a=$(".owl-carousel.social-reviews");a.owlCarousel({autoplay:!0,smartSpeed:800,dotsSpeeds:800,touchDrag:!1,mouseDrag:!1,singleItem:!0,items:1,dots:!0,loop:!0,info:!0})}function mold(){function a(){closeBtn=$("div.reveal-vid-wrap i"),closeBtn.click(function(){$("div.reveal-vid-wrap").fadeOut()})}function b(){$("#play-mold").click(function(a){a.preventDefault(),console.log("firing");var b;b=$("div.reveal-vid-wrap.mold-video"),closeBtn=$("div.reveal-vid-wrap.mold-video i"),$(b).fadeIn(),noTouchScroll(),disableScroll();var c=!1;if("undefined"!=typeof window.orientation)var c=!0;c||moldPlayer.playVideo(),$(closeBtn).click(function(){$(b).fadeOut(),TouchScroll(),enableScroll(),moldPlayer.pauseVideo()}),$(b).click(function(){$(b).fadeOut(),TouchScroll(),enableScroll(),moldPlayer.pauseVideo()}),$(document).keyup(function(a){27==a.keyCode&&($(b).fadeOut(),TouchScroll(),enableScroll(),moldPlayer.pauseVideo())})}),$("#play-main").click(function(a){a.preventDefault(),console.log("firing");var b;b=$("div.reveal-vid-wrap.main-video"),closeBtn=$("div.reveal-vid-wrap.main-video i"),$(b).fadeIn(),noTouchScroll(),disableScroll();var c=!1;if("undefined"!=typeof window.orientation)var c=!0;c||mainPlayer.playVideo(),$(closeBtn).click(function(){console.log("firing"),$(b).fadeOut(),TouchScroll(),enableScroll(),mainPlayer.pauseVideo()}),$(b).click(function(){$(b).fadeOut(),TouchScroll(),enableScroll(),mainPlayer.pauseVideo()}),$(document).keyup(function(a){27==a.keyCode&&($(b).fadeOut(),TouchScroll(),enableScroll(),mainPlayer.pauseVideo())})})}var c=document.getElementById("mold-animation"),d=$("#mold-animation").offset().top,e=!1,f=$(document).scrollTop()+(150+c.clientHeight/2);b(),appendMoldVideo(),a(),moldSocials(),f>=d&&(c.play(),e=!0),$(window).on("scroll",function(){f=$(document).scrollTop()+(150+c.clientHeight/2),0==e&&f>=d&&(e=!0,c.play())}),$(window).on("resize",function(a){appendMoldVideo()})}function appendDeviceVideo(){if(screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,screenWidth>=1025&&deviceVideoAppended===!1){deviceVideoDiv.find("#device-video").remove(),deviceVideoDiv.append('<video muted playsinline autoplay loop id="device-video"><source src="https://assets.molekule.com/videos/device.mp4" type="video/mp4"></video>');var a=document.getElementById("device-video");a.play(),deviceVideoAppended=!0}else screenWidth<1025&&deviceVideoAppended===!0&&(deviceVideoDiv.find("#device-video").remove(),deviceVideoAppended=!1)}function appendKatrinaVideo(){if(screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,screenWidth>=1025&&katrinaVideoAppended===!1){katrinaVideoDiv.find("#katrina-video").remove(),katrinaVideoDiv.append('<video muted playsinline autoplay loop id="katrina-video"><source src="https://assets.molekule.com/videos/katrina.mp4" type="video/mp4"></video>');var a=document.getElementById("katrina-video");a.play(),katrinaVideoAppended=!0}else screenWidth<1025&&katrinaVideoAppended===!0&&(katrinaVideoDiv.find("#katrina-video").remove(),katrinaVideoAppended=!1)}function reviewButtonsListeners(){$(".reviews-module-header li").unbind().click(function(){$(".reviews-module-header li").removeClass("active"),$(this).addClass("active")})}!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.ScrollMagic=b()}(this,function(){"use strict";var a=function(){};a.version="2.0.5",window.addEventListener("mousewheel",function(){});var b="data-scrollmagic-pin-spacer";a.Controller=function(d){var f,g,h="ScrollMagic.Controller",i="FORWARD",j="REVERSE",k="PAUSED",l=c.defaults,m=this,n=e.extend({},l,d),o=[],p=!1,q=0,r=k,s=!0,t=0,u=!0,v=function(){for(var a in n)l.hasOwnProperty(a)||delete n[a];if(n.container=e.get.elements(n.container)[0],!n.container)throw h+" init failed.";s=n.container===window||n.container===document.body||!document.body.contains(n.container),s&&(n.container=window),t=y(),n.container.addEventListener("resize",C),n.container.addEventListener("scroll",C),n.refreshInterval=parseInt(n.refreshInterval)||l.refreshInterval,w()},w=function(){n.refreshInterval>0&&(g=window.setTimeout(D,n.refreshInterval))},x=function(){return n.vertical?e.get.scrollTop(n.container):e.get.scrollLeft(n.container)},y=function(){return n.vertical?e.get.height(n.container):e.get.width(n.container)},z=this._setScrollPos=function(a){n.vertical?s?window.scrollTo(e.get.scrollLeft(),a):n.container.scrollTop=a:s?window.scrollTo(a,e.get.scrollTop()):n.container.scrollLeft=a},A=function(){if(u&&p){var a=e.type.Array(p)?p:o.slice(0);p=!1;var b=q;q=m.scrollPos();var c=q-b;0!==c&&(r=c>0?i:j),r===j&&a.reverse(),a.forEach(function(a){a.update(!0)})}},B=function(){f=e.rAF(A)},C=function(a){"resize"==a.type&&(t=y(),r=k),p!==!0&&(p=!0,B())},D=function(){if(!s&&t!=y()){var a;try{a=new Event("resize",{bubbles:!1,cancelable:!1})}catch(b){a=document.createEvent("Event"),a.initEvent("resize",!1,!1)}n.container.dispatchEvent(a)}o.forEach(function(a){a.refresh()}),w()};this._options=n;var E=function(a){if(a.length<=1)return a;var b=a.slice(0);return b.sort(function(a,b){return a.scrollOffset()>b.scrollOffset()?1:-1}),b};return this.addScene=function(b){if(e.type.Array(b))b.forEach(function(a){m.addScene(a)});else if(b instanceof a.Scene)if(b.controller()!==m)b.addTo(m);else if(o.indexOf(b)<0){o.push(b),o=E(o),b.on("shift.controller_sort",function(){o=E(o)});for(var c in n.globalSceneOptions)b[c]&&b[c].call(b,n.globalSceneOptions[c])}return m},this.removeScene=function(a){if(e.type.Array(a))a.forEach(function(a){m.removeScene(a)});else{var b=o.indexOf(a);b>-1&&(a.off("shift.controller_sort"),o.splice(b,1),a.remove())}return m},this.updateScene=function(b,c){return e.type.Array(b)?b.forEach(function(a){m.updateScene(a,c)}):c?b.update(!0):p!==!0&&b instanceof a.Scene&&(p=p||[],-1==p.indexOf(b)&&p.push(b),p=E(p),B()),m},this.update=function(a){return C({type:"resize"}),a&&A(),m},this.scrollTo=function(c,d){if(e.type.Number(c))z.call(n.container,c,d);else if(c instanceof a.Scene)c.controller()===m&&m.scrollTo(c.scrollOffset(),d);else if(e.type.Function(c))z=c;else{var f=e.get.elements(c)[0];if(f){for(;f.parentNode.hasAttribute(b);)f=f.parentNode;var g=n.vertical?"top":"left",h=e.get.offset(n.container),i=e.get.offset(f);s||(h[g]-=m.scrollPos()),m.scrollTo(i[g]-h[g],d)}}return m},this.scrollPos=function(a){return arguments.length?(e.type.Function(a)&&(x=a),m):x.call(m)},this.info=function(a){var b={size:t,vertical:n.vertical,scrollPos:q,scrollDirection:r,container:n.container,isDocument:s};return arguments.length?void 0!==b[a]?b[a]:void 0:b},this.loglevel=function(){return m},this.enabled=function(a){return arguments.length?(u!=a&&(u=!!a,m.updateScene(o,!0)),m):u},this.destroy=function(a){window.clearTimeout(g);for(var b=o.length;b--;)o[b].destroy(a);return n.container.removeEventListener("resize",C),n.container.removeEventListener("scroll",C),e.cAF(f),null},v(),m};var c={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};a.Controller.addOption=function(a,b){c.defaults[a]=b},a.Controller.extend=function(b){var c=this;a.Controller=function(){return c.apply(this,arguments),this.$super=e.extend({},this),b.apply(this,arguments)||this},e.extend(a.Controller,c),a.Controller.prototype=c.prototype,a.Controller.prototype.constructor=a.Controller},a.Scene=function(c){var f,g,h="BEFORE",i="DURING",j="AFTER",k=d.defaults,l=this,m=e.extend({},k,c),n=h,o=0,p={start:0,end:0},q=0,r=!0,s=function(){for(var a in m)k.hasOwnProperty(a)||delete m[a];for(var b in k)B(b);z()},t={};this.on=function(a,b){return e.type.Function(b)&&(a=a.trim().split(" "),a.forEach(function(a){var c=a.split("."),d=c[0],e=c[1];"*"!=d&&(t[d]||(t[d]=[]),t[d].push({namespace:e||"",callback:b}))})),l},this.off=function(a,b){return a?(a=a.trim().split(" "),a.forEach(function(a){var c=a.split("."),d=c[0],e=c[1]||"",f="*"===d?Object.keys(t):[d];f.forEach(function(a){for(var c=t[a]||[],d=c.length;d--;){var f=c[d];!f||e!==f.namespace&&"*"!==e||b&&b!=f.callback||c.splice(d,1)}c.length||delete t[a]})}),l):l},this.trigger=function(b,c){if(b){var d=b.trim().split("."),e=d[0],f=d[1],g=t[e];g&&g.forEach(function(b){f&&f!==b.namespace||b.callback.call(l,new a.Event(e,b.namespace,l,c))})}return l},l.on("change.internal",function(a){"loglevel"!==a.what&&"tweenChanges"!==a.what&&("triggerElement"===a.what?w():"reverse"===a.what&&l.update())}).on("shift.internal",function(){u(),l.update()}),this.addTo=function(b){return b instanceof a.Controller&&g!=b&&(g&&g.removeScene(l),g=b,z(),v(!0),w(!0),u(),g.info("container").addEventListener("resize",x),b.addScene(l),l.trigger("add",{controller:g}),l.update()),l},this.enabled=function(a){return arguments.length?(r!=a&&(r=!!a,l.update(!0)),l):r},this.remove=function(){if(g){g.info("container").removeEventListener("resize",x);var a=g;g=void 0,a.removeScene(l),l.trigger("remove")}return l},this.destroy=function(a){return l.trigger("destroy",{reset:a}),l.remove(),l.off("*.*"),null},this.update=function(a){if(g)if(a)if(g.enabled()&&r){var b,c=g.info("scrollPos");b=m.duration>0?(c-p.start)/(p.end-p.start):c>=p.start?1:0,l.trigger("update",{startPos:p.start,endPos:p.end,scrollPos:c}),l.progress(b)}else C&&n===i&&E(!0);else g.updateScene(l,!1);return l},this.refresh=function(){return v(),w(),l},this.progress=function(a){if(arguments.length){var b=!1,c=n,d=g?g.info("scrollDirection"):"PAUSED",e=m.reverse||a>=o;if(0===m.duration?(b=o!=a,o=1>a&&e?0:1,n=0===o?h:i):0>a&&n!==h&&e?(o=0,n=h,b=!0):a>=0&&1>a&&e?(o=a,n=i,b=!0):a>=1&&n!==j?(o=1,n=j,b=!0):n!==i||e||E(),b){var f={progress:o,state:n,scrollDirection:d},k=n!=c,p=function(a){l.trigger(a,f)};k&&c!==i&&(p("enter"),p(c===h?"start":"end")),p("progress"),k&&n!==i&&(p(n===h?"start":"end"),p("leave"))}return l}return o};var u=function(){p={start:q+m.offset},g&&m.triggerElement&&(p.start-=g.info("size")*m.triggerHook),p.end=p.start+m.duration},v=function(a){if(f){var b="duration";A(b,f.call(l))&&!a&&(l.trigger("change",{what:b,newval:m[b]}),l.trigger("shift",{reason:b}))}},w=function(a){var c=0,d=m.triggerElement;if(g&&d){for(var f=g.info(),h=e.get.offset(f.container),i=f.vertical?"top":"left";d.parentNode.hasAttribute(b);)d=d.parentNode;var j=e.get.offset(d);f.isDocument||(h[i]-=g.scrollPos()),c=j[i]-h[i]}var k=c!=q;q=c,k&&!a&&l.trigger("shift",{reason:"triggerElementPosition"})},x=function(){m.triggerHook>0&&l.trigger("shift",{reason:"containerResize"})},y=e.extend(d.validate,{duration:function(a){if(e.type.String(a)&&a.match(/^(\.|\d)*\d+%$/)){var b=parseFloat(a)/100;a=function(){return g?g.info("size")*b:0}}if(e.type.Function(a)){f=a;try{a=parseFloat(f())}catch(c){a=-1}}if(a=parseFloat(a),!e.type.Number(a)||0>a)throw f?(f=void 0,0):0;return a}}),z=function(a){a=arguments.length?[a]:Object.keys(y),a.forEach(function(a){var b;if(y[a])try{b=y[a](m[a])}catch(c){b=k[a]}finally{m[a]=b}})},A=function(a,b){var c=!1,d=m[a];return m[a]!=b&&(m[a]=b,z(a),c=d!=m[a]),c},B=function(a){l[a]||(l[a]=function(b){return arguments.length?("duration"===a&&(f=void 0),A(a,b)&&(l.trigger("change",{what:a,newval:m[a]}),d.shifts.indexOf(a)>-1&&l.trigger("shift",{reason:a})),l):m[a]})};this.controller=function(){return g},this.state=function(){return n},this.scrollOffset=function(){return p.start},this.triggerPosition=function(){var a=m.offset;return g&&(a+=m.triggerElement?q:g.info("size")*l.triggerHook()),a};var C,D;l.on("shift.internal",function(a){var b="duration"===a.reason;(n===j&&b||n===i&&0===m.duration)&&E(),b&&F()}).on("progress.internal",function(){E()}).on("add.internal",function(){F()}).on("destroy.internal",function(a){l.removePin(a.reset)});var E=function(a){if(C&&g){var b=g.info(),c=D.spacer.firstChild;if(a||n!==i){var d={position:D.inFlow?"relative":"absolute",top:0,left:0},f=e.css(c,"position")!=d.position;D.pushFollowers?m.duration>0&&(n===j&&0===parseFloat(e.css(D.spacer,"padding-top"))?f=!0:n===h&&0===parseFloat(e.css(D.spacer,"padding-bottom"))&&(f=!0)):d[b.vertical?"top":"left"]=m.duration*o,e.css(c,d),f&&F()}else{"fixed"!=e.css(c,"position")&&(e.css(c,{position:"fixed"}),F());var k=e.get.offset(D.spacer,!0),l=m.reverse||0===m.duration?b.scrollPos-p.start:Math.round(o*m.duration*10)/10;k[b.vertical?"top":"left"]+=l,e.css(D.spacer.firstChild,{top:k.top,left:k.left})}}},F=function(){if(C&&g&&D.inFlow){var a=n===i,b=g.info("vertical"),c=D.spacer.firstChild,d=e.isMarginCollapseType(e.css(D.spacer,"display")),f={};D.relSize.width||D.relSize.autoFullWidth?a?e.css(C,{width:e.get.width(D.spacer)}):e.css(C,{width:"100%"}):(f["min-width"]=e.get.width(b?C:c,!0,!0),f.width=a?f["min-width"]:"auto"),D.relSize.height?a?e.css(C,{height:e.get.height(D.spacer)-(D.pushFollowers?m.duration:0)}):e.css(C,{height:"100%"}):(f["min-height"]=e.get.height(b?c:C,!0,!d),f.height=a?f["min-height"]:"auto"),D.pushFollowers&&(f["padding"+(b?"Top":"Left")]=m.duration*o,f["padding"+(b?"Bottom":"Right")]=m.duration*(1-o)),e.css(D.spacer,f)}},G=function(){g&&C&&n===i&&!g.info("isDocument")&&E()},H=function(){g&&C&&n===i&&((D.relSize.width||D.relSize.autoFullWidth)&&e.get.width(window)!=e.get.width(D.spacer.parentNode)||D.relSize.height&&e.get.height(window)!=e.get.height(D.spacer.parentNode))&&F()},I=function(a){g&&C&&n===i&&!g.info("isDocument")&&(a.preventDefault(),g._setScrollPos(g.info("scrollPos")-((a.wheelDelta||a[g.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-a.detail)))};this.setPin=function(a,c){var d={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"};if(c=e.extend({},d,c),a=e.get.elements(a)[0],!a)return l;if("fixed"===e.css(a,"position"))return l;if(C){if(C===a)return l;l.removePin()}C=a;var f=C.parentNode.style.display,g=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];C.parentNode.style.display="none";var h="absolute"!=e.css(C,"position"),i=e.css(C,g.concat(["display"])),j=e.css(C,["width","height"]);C.parentNode.style.display=f,!h&&c.pushFollowers&&(c.pushFollowers=!1);var k=C.parentNode.insertBefore(document.createElement("div"),C),m=e.extend(i,{position:h?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(h||e.extend(m,e.css(C,["width","height"])),e.css(k,m),k.setAttribute(b,""),e.addClass(k,c.spacerClass),D={spacer:k,relSize:{width:"%"===j.width.slice(-1),height:"%"===j.height.slice(-1),autoFullWidth:"auto"===j.width&&h&&e.isMarginCollapseType(i.display)},pushFollowers:c.pushFollowers,inFlow:h},!C.___origStyle){C.___origStyle={};var n=C.style,o=g.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]);o.forEach(function(a){C.___origStyle[a]=n[a]||""})}return D.relSize.width&&e.css(k,{width:j.width}),D.relSize.height&&e.css(k,{height:j.height}),k.appendChild(C),e.css(C,{position:h?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(D.relSize.width||D.relSize.autoFullWidth)&&e.css(C,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",G),window.addEventListener("resize",G),window.addEventListener("resize",H),C.addEventListener("mousewheel",I),C.addEventListener("DOMMouseScroll",I),E(),l},this.removePin=function(a){if(C){if(n===i&&E(!0),a||!g){var c=D.spacer.firstChild;if(c.hasAttribute(b)){var d=D.spacer.style,f=["margin","marginLeft","marginRight","marginTop","marginBottom"];margins={},f.forEach(function(a){margins[a]=d[a]||""}),e.css(c,margins)}D.spacer.parentNode.insertBefore(c,D.spacer),D.spacer.parentNode.removeChild(D.spacer),C.parentNode.hasAttribute(b)||(e.css(C,C.___origStyle),delete C.___origStyle)}window.removeEventListener("scroll",G),window.removeEventListener("resize",G),window.removeEventListener("resize",H),C.removeEventListener("mousewheel",I),C.removeEventListener("DOMMouseScroll",I),C=void 0}return l};var J,K=[];return l.on("destroy.internal",function(a){l.removeClassToggle(a.reset)}),this.setClassToggle=function(a,b){var c=e.get.elements(a);return 0!==c.length&&e.type.String(b)?(K.length>0&&l.removeClassToggle(),J=b,K=c,l.on("enter.internal_class leave.internal_class",function(a){var b="enter"===a.type?e.addClass:e.removeClass;K.forEach(function(a){b(a,J)})}),l):l},this.removeClassToggle=function(a){return a&&K.forEach(function(a){e.removeClass(a,J)}),l.off("start.internal_class end.internal_class"),J=void 0,K=[],l},s(),l};var d={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(a){if(a=parseFloat(a),!e.type.Number(a))throw 0;return a},triggerElement:function(a){if(a=a||void 0){var b=e.get.elements(a)[0];if(!b)throw 0;a=b}return a},triggerHook:function(a){var b={onCenter:.5,onEnter:1,onLeave:0};if(e.type.Number(a))a=Math.max(0,Math.min(parseFloat(a),1));else{if(!(a in b))throw 0;a=b[a]}return a},reverse:function(a){return!!a}},shifts:["duration","offset","triggerHook"]};a.Scene.addOption=function(a,b,c,e){a in d.defaults||(d.defaults[a]=b,d.validate[a]=c,e&&d.shifts.push(a))},a.Scene.extend=function(b){var c=this;a.Scene=function(){return c.apply(this,arguments),this.$super=e.extend({},this),b.apply(this,arguments)||this},e.extend(a.Scene,c),a.Scene.prototype=c.prototype,a.Scene.prototype.constructor=a.Scene},a.Event=function(a,b,c,d){d=d||{};for(var e in d)this[e]=d[e];return this.type=a,this.target=this.currentTarget=c,this.namespace=b||"",this.timeStamp=this.timestamp=Date.now(),this};var e=a._util=function(a){var b,c={},d=function(a){return parseFloat(a)||0},e=function(b){return b.currentStyle?b.currentStyle:a.getComputedStyle(b)},f=function(b,c,f,g){if(c=c===document?a:c,c===a)g=!1;else if(!l.DomElement(c))return 0;b=b.charAt(0).toUpperCase()+b.substr(1).toLowerCase();var h=(f?c["offset"+b]||c["outer"+b]:c["client"+b]||c["inner"+b])||0;if(f&&g){var i=e(c);h+="Height"===b?d(i.marginTop)+d(i.marginBottom):d(i.marginLeft)+d(i.marginRight)}return h},g=function(a){return a.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})};c.extend=function(a){for(a=a||{},b=1;b<arguments.length;b++)if(arguments[b])for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a},c.isMarginCollapseType=function(a){return["block","flex","list-item","table","-webkit-box"].indexOf(a)>-1};var h=0,i=["ms","moz","webkit","o"],j=a.requestAnimationFrame,k=a.cancelAnimationFrame;for(b=0;!j&&b<i.length;++b)j=a[i[b]+"RequestAnimationFrame"],k=a[i[b]+"CancelAnimationFrame"]||a[i[b]+"CancelRequestAnimationFrame"];j||(j=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-h)),e=a.setTimeout(function(){b(c+d)},d);return h=c+d,e}),k||(k=function(b){a.clearTimeout(b)}),c.rAF=j.bind(a),c.cAF=k.bind(a);var l=c.type=function(a){return Object.prototype.toString.call(a).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};l.String=function(a){return"string"===l(a)},l.Function=function(a){return"function"===l(a)},l.Array=function(a){return Array.isArray(a)},l.Number=function(a){return!l.Array(a)&&a-parseFloat(a)+1>=0},l.DomElement=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName};var m=c.get={};return m.elements=function(b){var c=[];if(l.String(b))try{b=document.querySelectorAll(b)}catch(d){return c}if("nodelist"===l(b)||l.Array(b))for(var e=0,f=c.length=b.length;f>e;e++){var g=b[e];c[e]=l.DomElement(g)?g:m.elements(g)}else(l.DomElement(b)||b===document||b===a)&&(c=[b]);return c},m.scrollTop=function(b){return b&&"number"==typeof b.scrollTop?b.scrollTop:a.pageYOffset||0},m.scrollLeft=function(b){return b&&"number"==typeof b.scrollLeft?b.scrollLeft:a.pageXOffset||0},m.width=function(a,b,c){return f("width",a,b,c)},m.height=function(a,b,c){return f("height",a,b,c)},m.offset=function(a,b){var c={top:0,left:0};if(a&&a.getBoundingClientRect){var d=a.getBoundingClientRect();c.top=d.top,c.left=d.left,b||(c.top+=m.scrollTop(),c.left+=m.scrollLeft())}return c},c.addClass=function(a,b){b&&(a.classList?a.classList.add(b):a.className+=" "+b)},c.removeClass=function(a,b){b&&(a.classList?a.classList.remove(b):a.className=a.className.replace(RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," "))},c.css=function(a,b){if(l.String(b))return e(a)[g(b)];if(l.Array(b)){var c={},d=e(a);return b.forEach(function(a){c[a]=d[g(a)]}),c}for(var f in b){var h=b[f];h==parseFloat(h)&&(h+="px"),a.style[g(f)]=h}},c}(window||{});return a}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=.3*e*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return b<e/2?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";function b(b){return!b.nodeName||-1!==a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"])}function c(b){return a.isFunction(b)||a.isPlainObject(b)?b:{top:b,left:b}}var d=a.scrollTo=function(b,c,d){return a(window).scrollTo(b,c,d)};return d.defaults={axis:"xy",duration:0,limit:!0},a.fn.scrollTo=function(e,f,g){"object"==typeof f&&(g=f,f=0),"function"==typeof g&&(g={onAfter:g}),"max"===e&&(e=9e9),g=a.extend({},d.defaults,g),f=f||g.duration;var h=g.queue&&1<g.axis.length;return h&&(f/=2),g.offset=c(g.offset),g.over=c(g.over),this.each(function(){function i(b){var c=a.extend({},g,{queue:!0,duration:f,complete:b&&function(){b.call(l,n,g)}});m.animate(o,c)}if(null!==e){var j,k=b(this),l=k?this.contentWindow||window:this,m=a(l),n=e,o={};switch(typeof n){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(n)){n=c(n);break}n=k?a(n):a(n,l);case"object":if(0===n.length)return;(n.is||n.style)&&(j=(n=a(n)).offset())}var p=a.isFunction(g.offset)&&g.offset(l,n)||g.offset;a.each(g.axis.split(""),function(a,b){var c="x"===b?"Left":"Top",e=c.toLowerCase(),f="scroll"+c,q=m[f](),r=d.max(l,b);j?(o[f]=j[e]+(k?0:q-m.offset()[e]),g.margin&&(o[f]-=parseInt(n.css("margin"+c),10)||0,o[f]-=parseInt(n.css("border"+c+"Width"),10)||0),o[f]+=p[e]||0,g.over[e]&&(o[f]+=n["x"===b?"width":"height"]()*g.over[e])):(c=n[e],o[f]=c.slice&&"%"===c.slice(-1)?parseFloat(c)/100*r:c),g.limit&&/^\d+$/.test(o[f])&&(o[f]=0>=o[f]?0:Math.min(o[f],r)),!a&&1<g.axis.length&&(q===o[f]?o={}:h&&(i(g.onAfterFirst),o={}))}),i(g.onAfter)}})},d.max=function(c,d){var e="x"===d?"Width":"Height",f="scroll"+e;if(!b(c))return c[f]-a(c)[e.toLowerCase()]();var e="client"+e,g=c.ownerDocument||c.document,h=g.documentElement,g=g.body;return Math.max(h[f],g[f])-Math.min(h[e],g[e])},a.Tween.propHooks.scrollLeft=a.Tween.propHooks.scrollTop={get:function(b){return a(b.elem)[b.prop]()},set:function(b){var c=this.get(b);if(b.options.interrupt&&b._last&&b._last!==c)return a(b.elem).stop();var d=Math.round(b.now);c!==d&&(a(b.elem)[b.prop](d),b._last=this.get(b))}},d}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,c,d){var e=c.hash.slice(1),f=document.getElementById(e)||document.getElementsByName(e)[0];if(f){b&&b.preventDefault();var g=a(d.target);if(!(d.lock&&g.is(":animated")||d.onBefore&&d.onBefore(b,f,g)===!1)){if(d.stop&&g.stop(!0),d.hash){var h=f.id===e?"id":"name",i=a("<a> </a>").attr(h,e).css({position:"absolute",top:a(window).scrollTop(),left:a(window).scrollLeft()});f[h]="",a("body").prepend(i),location.hash=c.hash,i.remove(),f[h]=e}g.scrollTo(f,d).trigger("notify.serialScroll",[f])}}}var c=location.href.replace(/#.*/,""),d=a.localScroll=function(b){a("body").localScroll(b)};return d.defaults={duration:1e3,axis:"y",event:"click",stop:!0,target:window},a.fn.localScroll=function(e){function f(){return!!this.href&&!!this.hash&&this.href.replace(this.hash,"")===c&&(!e.filter||a(this).is(e.filter))}return e=a.extend({},d.defaults,e),e.hash&&location.hash&&(e.target&&window.scrollTo(0,0),b(0,location,e)),e.lazy?this.on(e.event,"a,area",function(a){f.call(this)&&b(a,this,e)}):this.find("a,area").filter(f).bind(e.event,function(a){b(a,this,e)}).end().end()},d.hash=function(){},d}),function(a,b,c,d){var e=function(d,e){this.elem=d,this.$elem=a(d),this.options=e,this.metadata=this.$elem.data("plugin-options"),this.$nav=this.$elem.find("a"),this.$win=a(b),this.sections={},this.didScroll=!1,this.$doc=a(c),this.docHeight=this.$doc.height()};e.prototype={defaults:{currentClass:"current",changeHash:!1,easing:"swing",filter:"",scrollSpeed:750,scrollOffset:0,scrollThreshold:.5,begin:!1,end:!1,scrollChange:!1},init:function(){var b=this;return b.config=a.extend({},b.defaults,b.options,b.metadata),""!==b.config.filter&&(b.$nav=b.$nav.filter(b.config.filter)),b.$nav.on("click.onePageNav",a.proxy(b.handleClick,b)),b.getPositions(),b.bindInterval(),b.$win.on("resize.onePageNav",a.proxy(b.getPositions,b)),this},adjustNav:function(a,b){a.$elem.find("."+a.config.currentClass).removeClass(a.config.currentClass),b.addClass(a.config.currentClass)},bindInterval:function(){var a,b=this;b.$win.on("scroll.onePageNav",function(){b.didScroll=!0}),b.t=setInterval(function(){a=b.$doc.height(),b.didScroll&&(b.didScroll=!1,b.scrollChange()),a!==b.docHeight&&(b.docHeight=a,b.getPositions())},250)},getHash:function(a){return a.attr("href").split("#")[1]},getPositions:function(){var b,c,d,e=this;e.$nav.each(function(){b=e.getHash(a(this)),d=a("#"+b),d.length&&(c=d.offset().top,e.sections[b]=Math.round(c)-e.config.scrollOffset)})},getSection:function(a){var b=null,c=0;for(var d in this.sections)this.sections[d]-c<a&&(b=d);return b},handleClick:function(c){var d=this,e=a(c.currentTarget),f=e.parent(),g="#"+d.getHash(e);f.hasClass(d.config.currentClass)||(d.config.begin&&d.config.begin(),d.adjustNav(d,f),d.unbindInterval(),a.scrollTo(g,d.config.scrollSpeed,{axis:"y",easing:d.config.easing,offset:{top:-d.config.scrollOffset},onAfter:function(){d.config.changeHash&&(b.location.hash=g),d.bindInterval(),d.config.end&&d.config.end()}})),c.preventDefault()},scrollChange:function(){var a,b=this.$win.scrollTop(),c=this.getSection(b);null!==c&&(a=this.$elem.find('a[href$="#'+c+'"]').parent(),a.hasClass(this.config.currentClass)||(this.adjustNav(this,a),this.config.scrollChange&&this.config.scrollChange(a)))},unbindInterval:function(){clearInterval(this.t),this.$win.unbind("scroll.onePageNav")}},e.defaults=e.prototype.defaults,a.fn.onePageNav=function(a){return this.each(function(){new e(this,a).init()})}}(jQuery,window,document),!function(){"use strict";function a(d){if(!d)throw new Error("No options passed to Waypoint constructor");if(!d.element)throw new Error("No element option passed to Waypoint constructor");if(!d.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+b,this.options=a.Adapter.extend({},a.defaults,d),this.element=this.options.element,this.adapter=new a.Adapter(this.element),this.callback=d.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=a.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=a.Context.findOrCreateByElement(this.options.context),a.offsetAliases[this.options.offset]&&(this.options.offset=a.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),c[this.key]=this,b+=1}var b=0,c={};a.prototype.queueTrigger=function(a){this.group.queueTrigger(this,a)},a.prototype.trigger=function(a){this.enabled&&this.callback&&this.callback.apply(this,a)},a.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete c[this.key]},a.prototype.disable=function(){return this.enabled=!1,this},a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},a.prototype.next=function(){return this.group.next(this)},a.prototype.previous=function(){return this.group.previous(this)},a.invokeAll=function(a){var b=[];for(var d in c)b.push(c[d]);for(var e=0,f=b.length;f>e;e++)b[e][a]()},a.destroyAll=function(){a.invokeAll("destroy")},a.disableAll=function(){a.invokeAll("disable")},a.enableAll=function(){a.invokeAll("enable")},a.refreshAll=function(){a.Context.refreshAll()},a.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},a.viewportWidth=function(){return document.documentElement.clientWidth},a.adapters=[],a.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},a.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=a}(),function(){"use strict";function a(a){window.setTimeout(a,1e3/60)}function b(a){this.element=a,this.Adapter=e.Adapter,this.adapter=new this.Adapter(a),this.key="waypoint-context-"+c,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},a.waypointContextKey=this.key,d[a.waypointContextKey]=this,c+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var c=0,d={},e=window.Waypoint,f=window.onload;b.prototype.add=function(a){var b=a.options.horizontal?"horizontal":"vertical";this.waypoints[b][a.key]=a,this.refresh()},b.prototype.checkEmpty=function(){var a=this.Adapter.isEmptyObject(this.waypoints.horizontal),b=this.Adapter.isEmptyObject(this.waypoints.vertical);a&&b&&(this.adapter.off(".waypoints"),delete d[this.key])},b.prototype.createThrottledResizeHandler=function(){function a(){b.handleResize(),b.didResize=!1}var b=this;this.adapter.on("resize.waypoints",function(){b.didResize||(b.didResize=!0,e.requestAnimationFrame(a))})},b.prototype.createThrottledScrollHandler=function(){function a(){b.handleScroll(),b.didScroll=!1}var b=this;this.adapter.on("scroll.waypoints",function(){(!b.didScroll||e.isTouch)&&(b.didScroll=!0,e.requestAnimationFrame(a))})},b.prototype.handleResize=function(){e.Context.refreshAll()},b.prototype.handleScroll=function(){var a={},b={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var c in b){var d=b[c],e=d.newScroll>d.oldScroll,f=e?d.forward:d.backward;for(var g in this.waypoints[c]){var h=this.waypoints[c][g],i=d.oldScroll<h.triggerPoint,j=d.newScroll>=h.triggerPoint,k=i&&j,l=!i&&!j;(k||l)&&(h.queueTrigger(f),a[h.group.id]=h.group)}}for(var m in a)a[m].flushTriggers();this.oldScroll={x:b.horizontal.newScroll,y:b.vertical.newScroll}},b.prototype.innerHeight=function(){return this.element==this.element.window?e.viewportHeight():this.adapter.innerHeight()},b.prototype.remove=function(a){delete this.waypoints[a.axis][a.key],this.checkEmpty()},b.prototype.innerWidth=function(){return this.element==this.element.window?e.viewportWidth():this.adapter.innerWidth()},b.prototype.destroy=function(){var a=[];for(var b in this.waypoints)for(var c in this.waypoints[b])a.push(this.waypoints[b][c]);for(var d=0,e=a.length;e>d;d++)a[d].destroy()},b.prototype.refresh=function(){var a,b=this.element==this.element.window,c=b?void 0:this.adapter.offset(),d={};this.handleScroll(),a={horizontal:{contextOffset:b?0:c.left,contextScroll:b?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:b?0:c.top,contextScroll:b?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var f in a){var g=a[f];for(var h in this.waypoints[f]){var i,j,k,l,m,n=this.waypoints[f][h],o=n.options.offset,p=n.triggerPoint,q=0,r=null==p;n.element!==n.element.window&&(q=n.adapter.offset()[g.offsetProp]),"function"==typeof o?o=o.apply(n):"string"==typeof o&&(o=parseFloat(o),n.options.offset.indexOf("%")>-1&&(o=Math.ceil(g.contextDimension*o/100))),i=g.contextScroll-g.contextOffset,n.triggerPoint=q+i-o,j=p<g.oldScroll,k=n.triggerPoint>=g.oldScroll,l=j&&k,m=!j&&!k,!r&&l?(n.queueTrigger(g.backward),d[n.group.id]=n.group):!r&&m?(n.queueTrigger(g.forward),d[n.group.id]=n.group):r&&g.oldScroll>=n.triggerPoint&&(n.queueTrigger(g.forward),d[n.group.id]=n.group)}}return e.requestAnimationFrame(function(){for(var a in d)d[a].flushTriggers()}),this},b.findOrCreateByElement=function(a){return b.findByElement(a)||new b(a)},b.refreshAll=function(){for(var a in d)d[a].refresh()},b.findByElement=function(a){return d[a.waypointContextKey]},window.onload=function(){f&&f(),b.refreshAll()},e.requestAnimationFrame=function(b){var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||a;c.call(window,b)},e.Context=b}(),function(){"use strict";function a(a,b){return a.triggerPoint-b.triggerPoint}function b(a,b){return b.triggerPoint-a.triggerPoint}function c(a){this.name=a.name,this.axis=a.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),d[this.axis][this.name]=this}var d={vertical:{},horizontal:{}},e=window.Waypoint;c.prototype.add=function(a){this.waypoints.push(a)},c.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},c.prototype.flushTriggers=function(){for(var c in this.triggerQueues){var d=this.triggerQueues[c],e="up"===c||"left"===c;d.sort(e?b:a);for(var f=0,g=d.length;g>f;f+=1){var h=d[f];(h.options.continuous||f===d.length-1)&&h.trigger([c])}}this.clearTriggerQueues()},c.prototype.next=function(b){this.waypoints.sort(a);var c=e.Adapter.inArray(b,this.waypoints),d=c===this.waypoints.length-1;return d?null:this.waypoints[c+1]},c.prototype.previous=function(b){this.waypoints.sort(a);var c=e.Adapter.inArray(b,this.waypoints);return c?this.waypoints[c-1]:null},c.prototype.queueTrigger=function(a,b){this.triggerQueues[b].push(a)},c.prototype.remove=function(a){var b=e.Adapter.inArray(a,this.waypoints);b>-1&&this.waypoints.splice(b,1)},c.prototype.first=function(){return this.waypoints[0]},c.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},c.findOrCreate=function(a){return d[a.axis][a.name]||new c(a)},e.Group=c}(),function(){"use strict";function a(a){this.$element=b(a)}var b=window.jQuery,c=window.Waypoint;b.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(b,c){a.prototype[c]=function(){var a=Array.prototype.slice.call(arguments);return this.$element[c].apply(this.$element,a)}}),b.each(["extend","inArray","isEmptyObject"],function(c,d){a[d]=b[d]}),c.adapters.push({name:"jquery",Adapter:a}),c.Adapter=a}(),function(){"use strict";function a(a){return function(){var c=[],d=arguments[0];return a.isFunction(arguments[0])&&(d=a.extend({},arguments[1]),d.handler=arguments[0]),this.each(function(){var e=a.extend({},d,{element:this});"string"==typeof e.context&&(e.context=a(this).closest(e.context)[0]),c.push(new b(e))}),c}}var b=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=a(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=a(window.Zepto))}(),function(){"use strict";function a(d){this.options=b.extend({},c.defaults,a.defaults,d),this.element=this.options.element,this.$element=b(this.element),this.createWrapper(),this.createWaypoint()}var b=window.jQuery,c=window.Waypoint;a.prototype.createWaypoint=function(){var a=this.options.handler;this.waypoint=new c(b.extend({},this.options,{element:this.wrapper,handler:b.proxy(function(b){var c=this.options.direction.indexOf(b)>-1,d=c?this.$element.outerHeight(!0):"";this.$wrapper.height(d),this.$element.toggleClass(this.options.stuckClass,c),a&&a.call(this,b)},this)}))},a.prototype.createWrapper=function(){this.options.wrapper&&this.$element.wrap(this.options.wrapper),this.$wrapper=this.$element.parent(),this.wrapper=this.$wrapper[0]},a.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass),this.options.wrapper&&this.$element.unwrap())},a.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},c.Sticky=a}(),!function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this.drag=a.extend({},m),this.state=a.extend({},n),this.e=a.extend({},o),this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._invalidated={},this._pipe=[],a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a[0].toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Pipe,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}function f(a){if(a.touches!==d)return{x:a.touches[0].pageX,y:a.touches[0].pageY};if(a.touches===d){if(a.pageX!==d)return{x:a.pageX,y:a.pageY};if(a.pageX===d)return{x:a.clientX,y:a.clientY}}}function g(a){var b,d,e=c.createElement("div"),f=a;for(b in f)if(d=f[b],"undefined"!=typeof e.style[d])return e=null,[d,b];return[!1]}function h(){return g(["transition","WebkitTransition","MozTransition","OTransition"])[1]}function i(){return g(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0]}function j(){return g(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0]}function k(){return"ontouchstart"in b||!!navigator.msMaxTouchPoints}function l(){return b.navigator.msPointerEnabled}var m,n,o;m={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null},n={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1},o={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null},e.Defaults={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,responsiveClass:!1,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active"},e.Width={Default:"default",Inner:"inner",Outer:"outer"},e.Plugins={},e.Pipe=[{filter:["width","items","settings"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){var a=this._clones,b=this.$stage.children(".cloned");(b.length!==a.length||!this.settings.loop&&a.length>0)&&(this.$stage.children(".cloned").remove(),this._clones=[])}},{filter:["items","settings"],run:function(){var a,b,c=this._clones,d=this._items,e=this.settings.loop?c.length-Math.max(2*this.settings.items,4):0;for(a=0,b=Math.abs(e/2);b>a;a++)e>0?(this.$stage.children().eq(d.length+c.length-1).remove(),c.pop(),this.$stage.children().eq(0).remove(),c.pop()):(c.push(c.length/2),this.$stage.append(d[c[c.length-1]].clone().addClass("cloned")),c.push(d.length-1-(c.length-1)/2),this.$stage.prepend(d[c[c.length-1]].clone().addClass("cloned")))}},{filter:["width","items","settings"],run:function(){var a,b,c,d=this.settings.rtl?1:-1,e=(this.width()/this.settings.items).toFixed(3),f=0;for(this._coordinates=[],b=0,c=this._clones.length+this._items.length;c>b;b++)a=this._mergers[this.relative(b)],a=this.settings.mergeFit&&Math.min(a,this.settings.items)||a,f+=(this.settings.autoWidth?this._items[this.relative(b)].width()+this.settings.margin:e*a)*d,this._coordinates.push(f)}},{filter:["width","items","settings"],run:function(){var b,c,d=(this.width()/this.settings.items).toFixed(3),e={width:Math.abs(this._coordinates[this._coordinates.length-1])+2*this.settings.stagePadding,"padding-left":this.settings.stagePadding||"","padding-right":this.settings.stagePadding||""};if(this.$stage.css(e),e={width:this.settings.autoWidth?"auto":d-this.settings.margin},e[this.settings.rtl?"margin-left":"margin-right"]=this.settings.margin,!this.settings.autoWidth&&a.grep(this._mergers,function(a){return a>1}).length>0)for(b=0,c=this._coordinates.length;c>b;b++)e.width=Math.abs(this._coordinates[b])-Math.abs(this._coordinates[b-1]||0)-this.settings.margin,this.$stage.children().eq(b).css(e);else this.$stage.children().css(e)}},{filter:["width","items","settings"],run:function(a){a.current&&this.reset(this.$stage.children().index(a.current))}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;d>c;c++)a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,"<=",g)&&this.op(a,">",h)||this.op(b,"<",g)&&this.op(b,">",h))&&i.push(c);this.$stage.children("."+this.settings.activeClass).removeClass(this.settings.activeClass),this.$stage.children(":eq("+i.join("), :eq(")+")").addClass(this.settings.activeClass),this.settings.center&&(this.$stage.children("."+this.settings.centerClass).removeClass(this.settings.centerClass),this.$stage.children().eq(this.current()).addClass(this.settings.centerClass))}}],e.prototype.initialize=function(){if(this.trigger("initialize"),this.$element.addClass(this.settings.baseClass).addClass(this.settings.themeClass).toggleClass("owl-rtl",this.settings.rtl),this.browserSupport(),this.settings.autoWidth&&this.state.imagesLoaded!==!0){var b,c,e;if(b=this.$element.find("img"),c=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:d,e=this.$element.children(c).width(),b.length&&0>=e)return this.preloadAutoWidthImages(b),!1}this.$element.addClass("owl-loading"),this.$stage=a("<"+this.settings.stageElement+' class="owl-stage"/>').wrap('<div class="owl-stage-outer">'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this._width=this.$element.width(),this.refresh(),this.$element.removeClass("owl-loading").addClass("owl-loaded"),this.eventsCall(),this.internalEvents(),this.addTriggerableEvents(),this.trigger("initialized")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){b>=a&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),delete e.responsive,e.responsiveClass&&this.$element.attr("class",function(a,b){return b.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+d)):e=a.extend({},this.options),(null===this.settings||this._breakpoint!==d)&&(this.trigger("change",{property:{name:"settings",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}}))},e.prototype.optionsLogic=function(){this.$element.toggleClass("owl-center",this.settings.center),this.settings.loop&&this._items.length<this.settings.items&&(this.settings.loop=!1),this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger("prepare",{content:b});return c.data||(c.data=a("<"+this.settings.itemElement+"/>").addClass(this.settings.itemClass).append(b)),this.trigger("prepared",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};c>b;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={}},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){return 0!==this._items.length&&((new Date).getTime(),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$stage.addClass("owl-refresh"),this.update(),this.$stage.removeClass("owl-refresh"),this.state.orientation=b.orientation,this.watchVisibility(),this.trigger("refreshed"),void 0)},e.prototype.eventsCall=function(){this.e._onDragStart=a.proxy(function(a){this.onDragStart(a)},this),this.e._onDragMove=a.proxy(function(a){this.onDragMove(a)},this),this.e._onDragEnd=a.proxy(function(a){this.onDragEnd(a)},this),this.e._onResize=a.proxy(function(a){this.onResize(a)},this),this.e._transitionEnd=a.proxy(function(a){this.transitionEnd(a)},this),this.e._preventClick=a.proxy(function(a){this.preventClick(a)},this)},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this.e._onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!this.trigger("resize").isDefaultPrevented()&&(this._width=this.$element.width(),this.invalidate("width"),this.refresh(),void this.trigger("resized"))))},e.prototype.eventsRouter=function(a){var b=a.type;"mousedown"===b||"touchstart"===b?this.onDragStart(a):"mousemove"===b||"touchmove"===b?this.onDragMove(a):"mouseup"===b||"touchend"===b?this.onDragEnd(a):"touchcancel"===b&&this.onDragEnd(a)},e.prototype.internalEvents=function(){var c=(k(),l());this.settings.mouseDrag?(this.$stage.on("mousedown",a.proxy(function(a){this.eventsRouter(a)},this)),this.$stage.on("dragstart",function(){return!1}),this.$stage.get(0).onselectstart=function(){return!1}):this.$element.addClass("owl-text-select-on"),this.settings.touchDrag&&!c&&this.$stage.on("touchstart touchcancel",a.proxy(function(a){this.eventsRouter(a)},this)),this.transitionEndVendor&&this.on(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd,!1),this.settings.responsive!==!1&&this.on(b,"resize",a.proxy(this.onThrottledResize,this))},e.prototype.onDragStart=function(d){var e,g,h,i;if(e=d.originalEvent||d||b.event,3===e.which||this.state.isTouch)return!1;if("mousedown"===e.type&&this.$stage.addClass("owl-grab"),this.trigger("drag"),this.drag.startTime=(new Date).getTime(),this.speed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,g=f(e).x,h=f(e).y,this.drag.offsetX=this.$stage.position().left,this.drag.offsetY=this.$stage.position().top,this.settings.rtl&&(this.drag.offsetX=this.$stage.position().left+this.$stage.width()-this.width()+this.settings.margin),this.state.inMotion&&this.support3d)i=this.getTransformProperty(),this.drag.offsetX=i,this.animate(i),this.state.inMotion=!0;else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1,!1;this.drag.startX=g-this.drag.offsetX,this.drag.startY=h-this.drag.offsetY,this.drag.start=g-this.drag.startX,this.drag.targetEl=e.target||e.srcElement,this.drag.updatedX=this.drag.start,("IMG"===this.drag.targetEl.tagName||"A"===this.drag.targetEl.tagName)&&(this.drag.targetEl.draggable=!1),a(c).on("mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents",a.proxy(function(a){this.eventsRouter(a)},this))},e.prototype.onDragMove=function(a){var c,e,g,h,i,j;this.state.isTouch&&(this.state.isScrolling||(c=a.originalEvent||a||b.event,e=f(c).x,g=f(c).y,this.drag.currentX=e-this.drag.startX,this.drag.currentY=g-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.settings.rtl?"right":"left":this.drag.distance>0&&(this.state.direction=this.settings.rtl?"left":"right"),this.settings.loop?this.op(this.drag.currentX,">",this.coordinates(this.minimum()))&&"right"===this.state.direction?this.drag.currentX-=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length):this.op(this.drag.currentX,"<",this.coordinates(this.maximum()))&&"left"===this.state.direction&&(this.drag.currentX+=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length)):(h=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),i=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),j=this.settings.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,h+j),i+j)),(this.drag.distance>8||this.drag.distance<-8)&&(c.preventDefault!==d?c.preventDefault():c.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(this.drag.currentY>16||this.drag.currentY<-16)&&this.state.isSwiping===!1&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animate(this.drag.updatedX)))},e.prototype.onDragEnd=function(b){var d,e,f;if(this.state.isTouch){if("mouseup"===b.type&&this.$stage.removeClass("owl-grab"),this.trigger("dragged"),this.drag.targetEl.removeAttribute("draggable"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,0===this.drag.distance&&this.state.inMotion!==!0)return this.state.inMotion=!1,!1;this.drag.endTime=(new Date).getTime(),d=this.drag.endTime-this.drag.startTime,e=Math.abs(this.drag.distance),(e>3||d>300)&&this.removeClick(this.drag.targetEl),f=this.closest(this.drag.updatedX),this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(f),this.invalidate("position"),this.update(),this.settings.pullDrag||this.drag.updatedX!==this.coordinates(f)||this.transitionEnd(),this.drag.distance=0,a(c).off(".owl.dragEvents")}},e.prototype.removeClick=function(c){this.drag.targetEl=c,a(c).on("click.preventClick",this.e._preventClick),b.setTimeout(function(){a(c).off("click.preventClick")},300)},e.prototype.preventClick=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation&&b.stopPropagation(),a(b.target).off("click.preventClick")},e.prototype.getTransformProperty=function(){var a,c;return a=b.getComputedStyle(this.$stage.get(0),null).getPropertyValue(this.vendorName+"transform"),a=a.replace(/matrix(3d)?\(|\)/g,"").split(","),c=16===a.length,c!==!0?a[4]:a[12]},e.prototype.closest=function(b){var c=-1,d=30,e=this.width(),f=this.coordinates();return this.settings.freeDrag||a.each(f,a.proxy(function(a,g){return b>g-d&&g+d>b?c=a:this.op(b,"<",g)&&this.op(b,">",f[a+1]||g-e)&&(c="left"===this.state.direction?a+1:a),-1===c},this)),this.settings.loop||(this.op(b,">",f[this.minimum()])?c=b=this.minimum():this.op(b,"<",f[this.maximum()])&&(c=b=this.maximum())),c},e.prototype.animate=function(b){this.trigger("translate"),this.state.inMotion=this.speed()>0,this.support3d?this.$stage.css({transform:"translate3d("+b+"px,0px, 0px)",transition:this.speed()/1e3+"s"}):this.state.isTouch?this.$stage.css({left:b+"px"}):this.$stage.animate({left:b},this.speed()/1e3,this.settings.fallbackEasing,a.proxy(function(){this.state.inMotion&&this.transitionEnd()},this))},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger("change",{property:{name:"position",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},e.prototype.invalidate=function(a){this._invalidated[a]=!0},e.prototype.reset=function(a){a=this.normalize(a),a!==d&&(this._speed=0,this._current=a,this.suppress(["translate","translated"]),this.animate(this.coordinates(a)),this.release(["translate","translated"]))},e.prototype.normalize=function(b,c){var e=c?this._items.length:this._items.length+this._clones.length;return!a.isNumeric(b)||1>e?d:b=this._clones.length?(b%e+e)%e:Math.max(this.minimum(c),Math.min(this.maximum(c),b))},e.prototype.relative=function(a){return a=this.normalize(a),a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var b,c,d,e=0,f=this.settings;if(a)return this._items.length-1;if(!f.loop&&f.center)b=this._items.length-1;else if(f.loop||f.center)if(f.loop||f.center)b=this._items.length+f.items;else{if(!f.autoWidth&&!f.merge)throw"Can not detect maximum absolute position.";for(revert=f.rtl?1:-1,c=this.$stage.width()-this.$element.width();(d=this.coordinates(e))&&!(d*revert>=c);)b=++e}else b=this._items.length-f.items;return b},e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2===0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var c=null;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[b-1]||0))/2*(this.settings.rtl?-1:1)):c=this._coordinates[b-1]||0,c)},e.prototype.duration=function(a,b,c){return Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(c,d){if(this.settings.loop){var e=c-this.relative(this.current()),f=this.current(),g=this.current(),h=this.current()+e,i=0>g-h,j=this._clones.length+this._items.length;h<this.settings.items&&i===!1?(f=g+this._items.length,this.reset(f)):h>=j-this.settings.items&&i===!0&&(f=g-this._items.length,this.reset(f)),b.clearTimeout(this.e._goToLoop),this.e._goToLoop=b.setTimeout(a.proxy(function(){this.speed(this.duration(this.current(),f+e,d)),this.current(f+e),this.update()},this),30)}else this.speed(this.duration(this.current(),c,d)),this.current(c),this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.transitionEnd=function(a){return(a===d||(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)===this.$stage.get(0)))&&(this.state.inMotion=!1,void this.trigger("translated"))},e.prototype.viewport=function(){var d;if(this.options.responsiveBaseElement!==b)d=a(this.options.responsiveBaseElement).width();else if(b.innerWidth)d=b.innerWidth;else{if(!c.documentElement||!c.documentElement.clientWidth)throw"Can not detect viewport width.";d=c.documentElement.clientWidth}return d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find("."+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)},this)),this.reset(a.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},e.prototype.add=function(a,b){b=b===d?this._items.length:this.normalize(b,!0),this.trigger("add",{content:a,position:b}),0===this._items.length||b===this._items.length?(this.$stage.append(a),this._items.push(a),this._mergers.push(1*a.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)):(this._items[b].before(a),this._items.splice(b,0,a),this._mergers.splice(b,0,1*a.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)),this.invalidate("items"),this.trigger("added",{content:a,position:b})},e.prototype.remove=function(a){a=this.normalize(a,!0),a!==d&&(this.trigger("remove",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate("items"),this.trigger("removed",{content:null,position:a}))},e.prototype.addTriggerableEvents=function(){var b=a.proxy(function(b,c){return a.proxy(function(a){a.relatedTarget!==this&&(this.suppress([c]),b.apply(this,[].slice.call(arguments,1)),this.release([c]))},this)},this);a.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.replace,add:this.add,remove:this.remove},a.proxy(function(a,c){this.$element.on(a+".owl.carousel",b(c,a+".owl.carousel"))},this))},e.prototype.watchVisibility=function(){function c(a){return a.offsetWidth>0&&a.offsetHeight>0}function d(){c(this.$element.get(0))&&(this.$element.removeClass("owl-hidden"),this.refresh(),b.clearInterval(this.e._checkVisibile))}c(this.$element.get(0))||(this.$element.addClass("owl-hidden"),b.clearInterval(this.e._checkVisibile),this.e._checkVisibile=b.setInterval(a.proxy(d,this),500))},e.prototype.preloadAutoWidthImages=function(b){var c,d,e,f;c=0,d=this,b.each(function(g,h){e=a(h),f=new Image,f.onload=function(){c++,e.attr("src",f.src),e.css("opacity",1),c>=b.length&&(d.state.imagesLoaded=!0,d.initialize())},f.src=e.attr("src")||e.attr("data-src")||e.attr("data-src-retina")})},e.prototype.destroy=function(){this.$element.hasClass(this.settings.themeClass)&&this.$element.removeClass(this.settings.themeClass),this.settings.responsive!==!1&&a(b).off("resize.owl.carousel"),this.transitionEndVendor&&this.off(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd);for(var d in this._plugins)this._plugins[d].destroy();(this.settings.mouseDrag||this.settings.touchDrag)&&(this.$stage.off("mousedown touchstart touchcancel"),a(c).off(".owl.dragEvents"),this.$stage.get(0).onselectstart=function(){},this.$stage.off("dragstart",function(){return!1})),this.$element.off(".owl"),this.$stage.children(".cloned").remove(),this.e=null,this.$element.removeData("owlCarousel"),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.unwrap()},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case"<":return d?a>c:c>a;case">":return d?c>a:a>c;case">=":return d?c>=a:a>=c;case"<=":return d?a>=c:c>=a}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)},e.prototype.trigger=function(b,c,d){var e={item:{count:this._items.length,index:this.current()}},f=a.camelCase(a.grep(["on",b,d],function(a){return a}).join("-").toLowerCase()),g=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},e,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(g)}),this.$element.trigger(g),this.settings&&"function"==typeof this.settings[f]&&this.settings[f].apply(this,g)),g},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.browserSupport=function(){if(this.support3d=j(),this.support3d){this.transformVendor=i();var a=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"];this.transitionEndVendor=a[h()],this.vendorName=this.transformVendor.replace(/Transform/i,""),this.vendorName=""!==this.vendorName?"-"+this.vendorName.toLowerCase()+"-":""}this.state.orientation=b.orientation},a.fn.owlCarousel=function(b){return this.each(function(){a(this).data("owlCarousel")||a(this).data("owlCarousel",new e(this,b))})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b){var c=function(b){this._core=b,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&"position"==b.property.name||"initialized"==b.type))for(var c=this._core.settings,d=c.center&&Math.ceil(c.items/2)||c.items,e=c.center&&-1*d||0,f=(b.property&&b.property.value||this._core.current())+e,g=this._core.clones().length,h=a.proxy(function(a,b){this.load(b)},this);e++<d;)this.load(g/2+this._core.relative(f)),g&&a.each(this._core.clones(this._core.relative(f++)),h)},this)},this._core.options=a.extend({},c.Defaults,this._core.options),this._core.$element.on(this._handlers)};c.Defaults={lazyLoad:!1},c.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(".owl-lazy");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr("data-src-retina")||f.attr("data-src");this._core.trigger("load",{element:f,url:g},"lazy"),f.is("img")?f.one("load.owl.lazy",a.proxy(function(){f.css("opacity",1),this._core.trigger("loaded",{element:f,url:g},"lazy")},this)).attr("src",g):(e=new Image,e.onload=a.proxy(function(){f.css({"background-image":"url("+g+")",opacity:"1"}),this._core.trigger("loaded",{element:f,url:g},"lazy")},this),e.src=g)},this)),this._loaded.push(d.get(0)))},c.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=c}(window.Zepto||window.jQuery,window,document),function(a){var b=function(c){this._core=c,this._handlers={"initialized.owl.carousel":a.proxy(function(){this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(a){this._core.settings.autoHeight&&"position"==a.property.name&&this.update()},this),"loaded.owl.lazy":a.proxy(function(a){this._core.settings.autoHeight&&a.element.closest("."+this._core.settings.itemClass)===this._core.$stage.children().eq(this._core.current())&&this.update()},this)},this._core.options=a.extend({},b.Defaults,this._core.options),this._core.$element.on(this._handlers)};b.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},b.prototype.update=function(){this._core.$stage.parent().height(this._core.$stage.children().eq(this._core.current()).height()).addClass(this._core.settings.autoHeightClass)},b.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=b}(window.Zepto||window.jQuery,window,document),function(a,b,c){var d=function(b){this._core=b,this._videos={},this._playing=null,this._fullscreen=!1,this._handlers={"resize.owl.carousel":a.proxy(function(a){this._core.settings.video&&!this.isInFullScreen()&&a.preventDefault()},this),"refresh.owl.carousel changed.owl.carousel":a.proxy(function(){this._playing&&this.stop()},this),"prepared.owl.carousel":a.proxy(function(b){var c=a(b.content).find(".owl-video");c.length&&(c.css("display","none"),this.fetch(c,a(b.content)))},this)},this._core.options=a.extend({},d.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.play(a)},this))};d.Defaults={video:!1,videoHeight:!1,videoWidth:!1},d.prototype.fetch=function(a,b){var c=a.attr("data-vimeo-id")?"vimeo":"youtube",d=a.attr("data-vimeo-id")||a.attr("data-youtube-id"),e=a.attr("data-width")||this._core.settings.videoWidth,f=a.attr("data-height")||this._core.settings.videoHeight,g=a.attr("href");if(!g)throw new Error("Missing video URL.");if(d=g.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),d[3].indexOf("youtu")>-1)c="youtube";else{if(!(d[3].indexOf("vimeo")>-1))throw new Error("Video URL not supported.");c="vimeo"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr("data-video",g),this.thumbnail(a,this._videos[g])},d.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?'style="width:'+c.width+"px;height:"+c.height+'px;"':"",h=b.find("img"),i="src",j="",k=this._core.settings,l=function(a){e='<div class="owl-video-play-icon"></div>',d=k.lazyLoad?'<div class="owl-video-tn '+j+'" '+i+'="'+a+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+a+')"></div>',b.after(d),b.after(e)};return b.wrap('<div class="owl-video-wrapper"'+g+"></div>"),this._core.settings.lazyLoad&&(i="data-src",j="owl-lazy"),h.length?(l(h.attr(i)),h.remove(),!1):void("youtube"===c.type?(f="http://img.youtube.com/vi/"+c.id+"/hqdefault.jpg",l(f)):"vimeo"===c.type&&a.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a[0].thumbnail_large,l(f)}}))},d.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null},d.prototype.play=function(b){this._core.trigger("play",null,"video"),this._playing&&this.stop();var c,d,e=a(b.target||b.srcElement),f=e.closest("."+this._core.settings.itemClass),g=this._videos[f.attr("data-video")],h=g.width||"100%",i=g.height||this._core.$stage.height();"youtube"===g.type?c='<iframe width="'+h+'" height="'+i+'" src="http://www.youtube.com/embed/'+g.id+"?autoplay=1&v="+g.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===g.type&&(c='<iframe src="http://player.vimeo.com/video/'+g.id+'?autoplay=1" width="'+h+'" height="'+i+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),f.addClass("owl-video-playing"),this._playing=f,d=a('<div style="height:'+i+"px; width:"+h+'px" class="owl-video-frame">'+c+"</div>"),e.after(d)},d.prototype.isInFullScreen=function(){var d=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return d&&a(d).parent().hasClass("owl-video-frame")&&(this._core.speed(0),this._fullscreen=!0),!(d&&this._fullscreen&&this._playing)&&(this._fullscreen?(this._fullscreen=!1,!1):!this._playing||this._core.state.orientation===b.orientation||(this._core.state.orientation=b.orientation,!1))},d.prototype.destroy=function(){var a,b;this._core.$element.off("click.owl.video");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=d}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={"change.owl.carousel":a.proxy(function(a){"position"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){this.swapping="translated"==a.type},this),"translate.owl.carousel":a.proxy(function(){this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&this.core.support3d){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.css({left:b+"px"}).addClass("animated owl-animated-out").addClass(g).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",c)),f&&e.addClass("animated owl-animated-in").addClass(f).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",c))}},e.prototype.clear=function(b){a(b.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.transitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c){var d=function(b){this.core=b,this.core.options=a.extend({},d.Defaults,this.core.options),this.handlers={"translated.owl.carousel refreshed.owl.carousel":a.proxy(function(){this.autoplay()},this),"play.owl.autoplay":a.proxy(function(a,b,c){this.play(b,c)},this),"stop.owl.autoplay":a.proxy(function(){this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this.core.settings.autoplayHoverPause&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this.core.settings.autoplayHoverPause&&this.autoplay()},this)},this.core.$element.on(this.handlers)};d.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},d.prototype.autoplay=function(){this.core.settings.autoplay&&!this.core.state.videoPlay?(b.clearInterval(this.interval),this.interval=b.setInterval(a.proxy(function(){this.play()},this),this.core.settings.autoplayTimeout)):b.clearInterval(this.interval)},d.prototype.play=function(){return c.hidden===!0||this.core.state.isTouch||this.core.state.isScrolling||this.core.state.isSwiping||this.core.state.inMotion?void 0:this.core.settings.autoplay===!1?void b.clearInterval(this.interval):void this.core.next(this.core.settings.autoplaySpeed)},d.prototype.stop=function(){b.clearInterval(this.interval)},d.prototype.pause=function(){b.clearInterval(this.interval)},d.prototype.destroy=function(){var a,c;b.clearInterval(this.interval);for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=d}(window.Zepto||window.jQuery,window,document),function(a){"use strict";var b=function(c){this._core=c,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(b){this._core.settings.dotsData&&this._templates.push(a(b.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"add.owl.carousel":a.proxy(function(b){this._core.settings.dotsData&&this._templates.splice(b.position,0,a(b.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"));},this),"remove.owl.carousel prepared.owl.carousel":a.proxy(function(a){this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),"change.owl.carousel":a.proxy(function(a){if("position"==a.property.name&&!this._core.state.revert&&!this._core.settings.loop&&this._core.settings.navRewind){var b=this._core.current(),c=this._core.maximum(),d=this._core.minimum();a.data=a.property.value>c?b>=c?d:c:a.property.value<d?c:a.property.value}},this),"changed.owl.carousel":a.proxy(function(a){"position"==a.property.name&&this.draw()},this),"refreshed.owl.carousel":a.proxy(function(){this._initialized||(this.initialize(),this._initialized=!0),this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation")},this)},this._core.options=a.extend({},b.Defaults,this._core.options),this.$element.on(this._handlers)};b.Defaults={nav:!1,navRewind:!0,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:"owl-controls"},b.prototype.initialize=function(){var b,c,d=this._core.settings;d.dotsData||(this._templates=[a("<div>").addClass(d.dotClass).append(a("<span>")).prop("outerHTML")]),d.navContainer&&d.dotsContainer||(this._controls.$container=a("<div>").addClass(d.controlsClass).appendTo(this.$element)),this._controls.$indicators=d.dotsContainer?a(d.dotsContainer):a("<div>").hide().addClass(d.dotsClass).appendTo(this._controls.$container),this._controls.$indicators.on("click","div",a.proxy(function(b){var c=a(b.target).parent().is(this._controls.$indicators)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(c,d.dotsSpeed)},this)),b=d.navContainer?a(d.navContainer):a("<div>").addClass(d.navContainerClass).prependTo(this._controls.$container),this._controls.$next=a("<"+d.navElement+">"),this._controls.$previous=this._controls.$next.clone(),this._controls.$previous.addClass(d.navClass[0]).html(d.navText[0]).hide().prependTo(b).on("click",a.proxy(function(){this.prev(d.navSpeed)},this)),this._controls.$next.addClass(d.navClass[1]).html(d.navText[1]).hide().appendTo(b).on("click",a.proxy(function(){this.next(d.navSpeed)},this));for(c in this._overrides)this._core[c]=a.proxy(this[c],this)},b.prototype.destroy=function(){var a,b,c,d;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},b.prototype.update=function(){var a,b,c,d=this._core.settings,e=this._core.clones().length/2,f=e+this._core.items().length,g=d.center||d.autoWidth||d.dotData?1:d.dotsEach||d.items;if("page"!==d.slideBy&&(d.slideBy=Math.min(d.slideBy,d.items)),d.dots||"page"==d.slideBy)for(this._pages=[],a=e,b=0,c=0;f>a;a++)(b>=g||0===b)&&(this._pages.push({start:a-e,end:a-e+g-1}),b=0,++c),b+=this._core.mergers(this._core.relative(a))},b.prototype.draw=function(){var b,c,d="",e=this._core.settings,f=(this._core.$stage.children(),this._core.relative(this._core.current()));if(!e.nav||e.loop||e.navRewind||(this._controls.$previous.toggleClass("disabled",0>=f),this._controls.$next.toggleClass("disabled",f>=this._core.maximum())),this._controls.$previous.toggle(e.nav),this._controls.$next.toggle(e.nav),e.dots){if(b=this._pages.length-this._controls.$indicators.children().length,e.dotData&&0!==b){for(c=0;c<this._controls.$indicators.children().length;c++)d+=this._templates[this._core.relative(c)];this._controls.$indicators.html(d)}else b>0?(d=new Array(b+1).join(this._templates[0]),this._controls.$indicators.append(d)):0>b&&this._controls.$indicators.children().slice(b).remove();this._controls.$indicators.find(".active").removeClass("active"),this._controls.$indicators.children().eq(a.inArray(this.current(),this._pages)).addClass("active")}this._controls.$indicators.toggle(e.dots)},b.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotData?1:c.dotsEach||c.items)}},b.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,function(a){return a.start<=b&&a.end>=b}).pop()},b.prototype.getPosition=function(b){var c,d,e=this._core.settings;return"page"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},b.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},b.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},b.prototype.to=function(b,c,d){var e;d?a.proxy(this._overrides.to,this._core)(b,c):(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c))},a.fn.owlCarousel.Constructor.Plugins.Navigation=b}(window.Zepto||window.jQuery,window,document),function(a,b){"use strict";var c=function(d){this._core=d,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(){"URLHash"==this._core.settings.startPosition&&a(b).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":a.proxy(function(b){var c=a(b.content).find("[data-hash]").andSelf("[data-hash]").attr("data-hash");this._hashes[c]=b.content},this)},this._core.options=a.extend({},c.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on("hashchange.owl.navigation",a.proxy(function(){var a=b.location.hash.substring(1),c=this._core.$stage.children(),d=this._hashes[a]&&c.index(this._hashes[a])||0;return!!a&&void this._core.to(d,!1,!0)},this))};c.Defaults={URLhashListener:!1},c.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))"function"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=c}(window.Zepto||window.jQuery,window,document),!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(a,c)}):"object"==typeof exports?b(a,require("jquery")):b(a,a.jQuery||a.Zepto)}(this,function(a,b){"use strict";function c(a){if(w&&"none"===a.css("animation-name")&&"none"===a.css("-webkit-animation-name")&&"none"===a.css("-moz-animation-name")&&"none"===a.css("-o-animation-name")&&"none"===a.css("-ms-animation-name"))return 0;var b,c,d,e,f=a.css("animation-duration")||a.css("-webkit-animation-duration")||a.css("-moz-animation-duration")||a.css("-o-animation-duration")||a.css("-ms-animation-duration")||"0s",g=a.css("animation-delay")||a.css("-webkit-animation-delay")||a.css("-moz-animation-delay")||a.css("-o-animation-delay")||a.css("-ms-animation-delay")||"0s",h=a.css("animation-iteration-count")||a.css("-webkit-animation-iteration-count")||a.css("-moz-animation-iteration-count")||a.css("-o-animation-iteration-count")||a.css("-ms-animation-iteration-count")||"1";for(f=f.split(", "),g=g.split(", "),h=h.split(", "),e=0,c=f.length,b=Number.NEGATIVE_INFINITY;c>e;e++)d=parseFloat(f[e])*parseInt(h[e],10)+parseFloat(g[e]),d>b&&(b=d);return b}function d(){if(b(document.body).height()<=b(window).height())return 0;var a,c,d=document.createElement("div"),e=document.createElement("div");return d.style.visibility="hidden",d.style.width="100px",document.body.appendChild(d),a=d.offsetWidth,d.style.overflow="scroll",e.style.width="100%",d.appendChild(e),c=e.offsetWidth,d.parentNode.removeChild(d),a-c}function e(){if(!x){var a,c,e=b("html"),f=k("is-locked");e.hasClass(f)||(c=b(document.body),a=parseInt(c.css("padding-right"),10)+d(),c.css("padding-right",a+"px"),e.addClass(f))}}function f(){if(!x){var a,c,e=b("html"),f=k("is-locked");e.hasClass(f)&&(c=b(document.body),a=parseInt(c.css("padding-right"),10)-d(),c.css("padding-right",a+"px"),e.removeClass(f))}}function g(a,b,c,d){var e=k("is",b),f=[k("is",u.CLOSING),k("is",u.OPENING),k("is",u.CLOSED),k("is",u.OPENED)].join(" ");a.$bg.removeClass(f).addClass(e),a.$overlay.removeClass(f).addClass(e),a.$wrapper.removeClass(f).addClass(e),a.$modal.removeClass(f).addClass(e),a.state=b,!c&&a.$modal.trigger({type:b,reason:d},[{reason:d}])}function h(a,d,e){var f=0,g=function(a){a.target===this&&f++},h=function(a){a.target===this&&0===--f&&(b.each(["$bg","$overlay","$wrapper","$modal"],function(a,b){e[b].off(r+" "+s)}),d())};b.each(["$bg","$overlay","$wrapper","$modal"],function(a,b){e[b].on(r,g).on(s,h)}),a(),0===c(e.$bg)&&0===c(e.$overlay)&&0===c(e.$wrapper)&&0===c(e.$modal)&&(b.each(["$bg","$overlay","$wrapper","$modal"],function(a,b){e[b].off(r+" "+s)}),d())}function i(a){a.state!==u.CLOSED&&(b.each(["$bg","$overlay","$wrapper","$modal"],function(b,c){a[c].off(r+" "+s)}),a.$bg.removeClass(a.settings.modifier),a.$overlay.removeClass(a.settings.modifier).hide(),a.$wrapper.hide(),f(),g(a,u.CLOSED,!0))}function j(a){var b,c,d,e,f={};for(a=a.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,","),b=a.split(","),e=0,c=b.length;c>e;e++)b[e]=b[e].split(":"),d=b[e][1],("string"==typeof d||d instanceof String)&&(d="true"===d||"false"!==d&&d),("string"==typeof d||d instanceof String)&&(d=isNaN(d)?d:+d),f[b[e][0]]=d;return f}function k(){for(var a=q,b=0;b<arguments.length;++b)a+="-"+arguments[b];return a}function l(){var a,c,d=location.hash.replace("#","");if(d){try{c=b("[data-"+p+'-id="'+d+'"]')}catch(e){}c&&c.length&&(a=b[p].lookup[c.data(p)],a&&a.settings.hashTracking&&a.open())}else n&&n.state===u.OPENED&&n.settings.hashTracking&&n.close()}function m(a,c){var d=b(document.body),e=this;e.settings=b.extend({},t,c),e.index=b[p].lookup.push(e)-1,e.state=u.CLOSED,e.$overlay=b("."+k("overlay")),e.$overlay.length||(e.$overlay=b("<div>").addClass(k("overlay")+" "+k("is",u.CLOSED)).hide(),d.append(e.$overlay)),e.$bg=b("."+k("bg")).addClass(k("is",u.CLOSED)),e.$modal=a.addClass(q+" "+k("is-initialized")+" "+e.settings.modifier+" "+k("is",u.CLOSED)).attr("tabindex","-1"),e.$wrapper=b("<div>").addClass(k("wrapper")+" "+e.settings.modifier+" "+k("is",u.CLOSED)).hide().append(e.$modal),d.append(e.$wrapper),e.$wrapper.on("click."+q,"[data-"+p+'-action="close"]',function(a){a.preventDefault(),e.close()}),e.$wrapper.on("click."+q,"[data-"+p+'-action="cancel"]',function(a){a.preventDefault(),e.$modal.trigger(v.CANCELLATION),e.settings.closeOnCancel&&e.close(v.CANCELLATION)}),e.$wrapper.on("click."+q,"[data-"+p+'-action="confirm"]',function(a){a.preventDefault(),e.$modal.trigger(v.CONFIRMATION),e.settings.closeOnConfirm&&e.close(v.CONFIRMATION)}),e.$wrapper.on("click."+q,function(a){var c=b(a.target);c.hasClass(k("wrapper"))&&e.settings.closeOnOutsideClick&&e.close()})}var n,o,p="remodal",q=a.REMODAL_GLOBALS&&a.REMODAL_GLOBALS.NAMESPACE||p,r=b.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(a){return a+"."+q}).join(" "),s=b.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(a){return a+"."+q}).join(" "),t=b.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""},a.REMODAL_GLOBALS&&a.REMODAL_GLOBALS.DEFAULTS),u={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},v={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},w=function(){var a=document.createElement("div").style;return void 0!==a.animationName||void 0!==a.WebkitAnimationName||void 0!==a.MozAnimationName||void 0!==a.msAnimationName||void 0!==a.OAnimationName}(),x=/iPad|iPhone|iPod/.test(navigator.platform);m.prototype.open=function(){var a,c=this;c.state!==u.OPENING&&c.state!==u.CLOSING&&(a=c.$modal.attr("data-"+p+"-id"),a&&c.settings.hashTracking&&(o=b(window).scrollTop(),location.hash=a),n&&n!==c&&i(n),n=c,e(),c.$bg.addClass(c.settings.modifier),c.$overlay.addClass(c.settings.modifier).show(),c.$wrapper.show().scrollTop(0),c.$modal.focus(),h(function(){g(c,u.OPENING)},function(){g(c,u.OPENED)},c))},m.prototype.close=function(a){var c=this;c.state!==u.OPENING&&c.state!==u.CLOSING&&(c.settings.hashTracking&&c.$modal.attr("data-"+p+"-id")===location.hash.substr(1)&&(location.hash="",b(window).scrollTop(o)),h(function(){g(c,u.CLOSING,!1,a)},function(){c.$bg.removeClass(c.settings.modifier),c.$overlay.removeClass(c.settings.modifier).hide(),c.$wrapper.hide(),f(),g(c,u.CLOSED,!1,a)},c))},m.prototype.getState=function(){return this.state},m.prototype.destroy=function(){var a,c=b[p].lookup;i(this),this.$wrapper.remove(),delete c[this.index],a=b.grep(c,function(a){return!!a}).length,0===a&&(this.$overlay.remove(),this.$bg.removeClass(k("is",u.CLOSING)+" "+k("is",u.OPENING)+" "+k("is",u.CLOSED)+" "+k("is",u.OPENED)))},b[p]={lookup:[]},b.fn[p]=function(a){var c,d;return this.each(function(e,f){d=b(f),null==d.data(p)?(c=new m(d,a),d.data(p,c.index),c.settings.hashTracking&&d.attr("data-"+p+"-id")===location.hash.substr(1)&&c.open()):c=b[p].lookup[d.data(p)]}),c},b(document).ready(function(){b(document).on("click","[data-"+p+"-target]",function(a){a.preventDefault();var c=a.currentTarget,d=c.getAttribute("data-"+p+"-target"),e=b("[data-"+p+'-id="'+d+'"]');b[p].lookup[e.data(p)].open()}),b(document).find("."+q).each(function(a,c){var d=b(c),e=d.data(p+"-options");e?("string"==typeof e||e instanceof String)&&(e=j(e)):e={},d[p](e)}),b(document).on("keydown."+q,function(a){n&&n.settings.closeOnEscape&&n.state===u.OPENED&&27===a.keyCode&&n.close()}),b(window).on("hashchange."+q,l)})}),!function(a,b){if("function"==typeof define&&define.amd)define("shopify-buy",["module"],b);else if("undefined"!=typeof exports)b(module);else{var c={exports:{}};b(c),a.ShopifyBuy=c.exports}}(this,function(a){"use strict";function b(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function c(a,b){function c(){var c=this["super"];this["super"]=function(){return b.apply(this,arguments)};var d=a.apply(this,arguments);return this["super"]=c,d}return c.wrappedFunction=a,c}function d(a,b,d){var e=Object.getPrototypeOf(d);a.forEach(function(a){var f=Object.getOwnPropertyDescriptor(b,a),g=e.hasOwnProperty(a)&&Object.getOwnPropertyDescriptor(e,a);if("function"==typeof g.value&&"function"==typeof f.value){var h=c(f.value,g.value);Object.defineProperty(d,a,{value:h})}else Object.defineProperty(d,a,f)})}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object,e=c(a.constructor,b),f=Object.getOwnPropertyNames(a).filter(function(a){return!w(["constructor","static"],a)});u(e,b),e.prototype=Object.create(b.prototype),d(f,a,e.prototype),e.prototype.constructor=e;var g=a["static"];if(g){var h=Object.getOwnPropertyNames(g);d(h,g,e)}return e}function f(a){var c=function(){var b=void 0;b=console[a]?Function.prototype.bind.call(console[a],console):Function.prototype.bind.call(console.log,console),b.apply(void 0,arguments)};return function(){var a=[].concat(Array.prototype.slice.call(arguments));a.unshift("[JS-BUY-SDK]: "),c.apply(void 0,b(a))}}function g(a,b){var c=void 0;if(b.headers&&Object.keys(b.headers).forEach(function(a){"authorization"===a.toLowerCase()&&(c=b.headers[a])}),c){var d=c.split(" ").slice(-1)[0];try{var e=atob(d),f=void 0;return f=a.indexOf("?")>-1?a+"&_x_http_authorization="+e:a+"?_x_http_authorization="+e}catch(a){}}return a}function h(a,b,c){return new Promise(function(d,e){function f(){e(new Error("There was an error with the XDR"))}var h=new XDomainRequest;h.onload=function(){try{var a=JSON.parse(h.responseText);d({json:a,originalResponse:h,isJSON:!0})}catch(a){d({text:h.responseText,originalResponse:h,isText:!0})}},h.onerror=f,h.ontimeout=f,h.open(a,g(b,c)),h.send(c.data)})}function i(){var a="undefined"==typeof window,b="function"==typeof require;return a&&b}function j(a){if(a.status>=200&&a.status<300)return a;var b=new Error(a.statusText);throw b.status=a.status,b.response=a,b}function k(a){return a.json().then(function(b){return{json:b,originalResponse:a,isJSON:!0}})["catch"](function(){var b=a.clone();return b.text().then(function(a){return{text:a,originalResponse:b,isText:!0}})})}function l(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!i()){var d=new XMLHttpRequest;if(!("withCredentials"in d))return h.apply(void 0,arguments)}return c.method=a,c.mode="cors",fetch(b,c).then(j).then(k)}function m(){return++Q}function n(a){if(a&&a[M])return a[M];if(void 0===a)return"(undefined)";if(null===a)return"(null)";var b="undefined"==typeof a?"undefined":s(a),c=void 0;switch(b){case"number":c=R[a],c||(c=R[a]="nu"+a);break;case"string":c=S[a],c||(c=S[a]="st"+m());break;case"boolean":c=a?"(true)":"(false)";break;default:if(a===Object){c="(Object)";break}if(a===Array){c="(Array)";break}c=O+"."+m(),null===a[M]?a[M]=c:(P.value=c,Object.defineProperty(a,M,P))}return c}function o(a,b){T[a]||(T[a]=b)}function p(a){return T[a]}function q(a,b){return a===b||Object.keys(a).every(function(c){return a[c]instanceof Date?a[c].toString()===b[c].toString():"object"===s(a[c])?q(a[c],b[c]):a[c]===b[c]})}function r(a,b){var c=void 0;switch(a){case"all":c=function(){return this.fetchAll(b)};break;case"one":c=function(){return this.fetch.apply(this,[b].concat(Array.prototype.slice.call(arguments)))};break;case"query":c=function(){return this.fetchQuery.apply(this,[b].concat(Array.prototype.slice.call(arguments)))}}return c}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t=void 0;t="function"==typeof Object.assign?Object.assign:function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");var b=Object(a),c=[].slice.call(arguments,1);return c.length>0&&c.forEach(function(a){if(void 0!==a&&null!==a){var c=void 0;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c])}}),b};var u=t,v=void 0;v=Array.prototype.includes?function(a){var b=[].slice.call(arguments,1);return Array.prototype.includes.apply(a,b)}:function(a,b){var c=Object(a),d=parseInt(c.length,10)||0;if(0===d)return!1;var e=parseInt(arguments[2],10)||0,f=void 0;for(e>=0?f=e:(f=d+e,f<0&&(f=0));f<d;){var g=c[f];if(b===g||b!==b&&g!==g)return!0;f++}return!1};var w=v,x=e({constructor:function(){},"static":{extend:function(a){return e(a,this)}}}),y=x.extend({constructor:function(){},debug:f("debug"),info:f("info"),warn:f("warn"),error:f("error")}),z=new y,A=x.extend({constructor:function(a){var b=this;Object.keys(this.deprecatedProperties).forEach(function(c){if(a.hasOwnProperty(c)){var d=b.deprecatedProperties[c],e=b[d];e(a[c],a)}}),this.requiredProperties.forEach(function(c){if(!a.hasOwnProperty(c))throw new Error("new Config() requires the option '"+c+"'");b[c]=a[c]}),this.optionalProperties.forEach(function(c){a.hasOwnProperty(c)&&(b[c]=a[c])})},deprecatedProperties:{apiKey:"transformApiKey",myShopifyDomain:"transformMyShopifyDomain"},transformMyShopifyDomain:function(a,b){z.warn("Config - ","myShopifyDomain is deprecated, please use domain and provide the full shop domain."),b.domain=a+".myshopify.com"},transformApiKey:function(a,b){z.warn("Config - ","apiKey is deprecated, please use accessToken instead."),b.accessToken=a},requiredProperties:["accessToken","appId","domain"],optionalProperties:["ajaxHeaders"],accessToken:"",apiKey:"",appId:"",domain:"",myShopifyDomain:"",ajaxHeaders:{}}),B="v0.7.1-66ba4e4",C=x.extend({constructor:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.attrs=a,u(this,b)},attrs:null,serializer:null,adapter:null,shopClient:null}),D=C.extend(Object.defineProperties({constructor:function(){this["super"].apply(this,arguments),this.selected=this.values[0]}},{name:{get:function(){return this.attrs.name},configurable:!0,enumerable:!0},values:{get:function(){return this.attrs.values},configurable:!0,enumerable:!0},selected:{get:function(){return this._selected},set:function(a){if(!w(this.values,a))throw new Error("Invalid option selection for "+this.name+".");return this._selected=a,a},configurable:!0,enumerable:!0}})),E=[{name:"pico",dimension:"16x16"},{name:"icon",dimension:"32x32"},{name:"thumb",dimension:"50x50"},{name:"small",dimension:"100x100"},{name:"compact",dimension:"160x160"},{name:"medium",dimension:"240x240"},{name:"large",dimension:"480x480"},{name:"grande",dimension:"600x600"},{name:"1024x1024",dimension:"1024x1024"},{name:"2048x2048",dimension:"2048x2048"}],F=x.extend(Object.defineProperties({constructor:function(a){var b=this;Object.keys(a).forEach(function(c){b[c]=a[c]})}},{variants:{get:function(){var a=this.src,b=a.lastIndexOf("."),c=a.slice(0,b),d=a.slice(b);return E.forEach(function(a){a.src=c+"_"+a.name+d}),E},configurable:!0,enumerable:!0}})),G=C.extend(Object.defineProperties({constructor:function(){this["super"].apply(this,arguments)},checkoutUrl:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,b=this.config,c="https://"+b.domain+"/cart",d=this.id+":"+parseInt(a,10),e="access_token="+b.accessToken+"&_fd=0";return c+"/"+d+"?"+e}},{id:{get:function(){return this.attrs.variant.id},configurable:!0,enumerable:!0},productId:{get:function(){return this.attrs.product.id},configurable:!0,enumerable:!0},title:{get:function(){return this.attrs.variant.title},configurable:!0,enumerable:!0},productTitle:{get:function(){return this.attrs.product.title},configurable:!0,enumerable:!0},compareAtPrice:{get:function(){return this.attrs.variant.compare_at_price},configurable:!0,enumerable:!0},price:{get:function(){return this.attrs.variant.price},configurable:!0,enumerable:!0},formattedPrice:{get:function(){return this.attrs.variant.formatted_price},configurable:!0,enumerable:!0},grams:{get:function(){return this.attrs.variant.grams},configurable:!0,enumerable:!0},optionValues:{get:function(){return this.attrs.variant.option_values},configurable:!0,enumerable:!0},available:{get:function(){return this.attrs.variant.available},configurable:!0,enumerable:!0},image:{get:function(){var a=this.id,b=this.attrs.product.images,c=b[0],d=b.filter(function(b){return b.variant_ids.indexOf(a)!==-1})[0],e=d||c;return e?new F(e):null},configurable:!0,enumerable:!0},imageVariants:{get:function(){return this.image?this.image.variants:[]},configurable:!0,enumerable:!0}})),H=function(a){return a.reduce(function(a,b){return a.indexOf(b)<0&&a.push(b),a},[])},I="https://widgets.shopifyapps.com/assets/no-image.svg",J=C.extend(Object.defineProperties({constructor:function(){this["super"].apply(this,arguments)}},{id:{get:function(){return this.attrs.product_id},configurable:!0,enumerable:!0},title:{get:function(){return this.attrs.title},configurable:!0,enumerable:!0},description:{get:function(){return this.attrs.body_html},configurable:!0,enumerable:!0},images:{get:function(){return this.attrs.images.map(function(a){return new F(a)})},configurable:!0,enumerable:!0},memoized:{get:function(){return this._memoized=this._memoized||{},this._memoized},configurable:!0,enumerable:!0},options:{get:function(){if(this.memoized.options)return this.memoized.options;var a=this.attrs.options,b=this.variants;return this.memoized.options=a.map(function(a){var c=a.name,d=b.reduce(function(b,c){var d=c.optionValues.filter(function(b){return b.name===a.name})[0];return b.push(d.value),b},[]),e=H(d);return new D({name:c,values:e})}),this.memoized.options},configurable:!0,enumerable:!0},variants:{get:function(){var a=this;return this.attrs.variants.map(function(b){return new G({variant:b,product:a},{config:a.config})})},configurable:!0,enumerable:!0},selections:{get:function(){return this.options.map(function(a){return a.selected})},configurable:!0,enumerable:!0},selectedVariant:{get:function(){var a=this.selections.join(" / ");return this.variants.filter(function(b){return b.title===a})[0]||null},configurable:!0,enumerable:!0},selectedVariantImage:{get:function(){return this.selectedVariant?this.selectedVariant.image:null},configurable:!0,enumerable:!0}})),K=x.extend({constructor:function(a){this.config=a},rootKeyForType:function(a){return a.slice(0,-1)+"_listing"},models:{collections:C,products:J},modelForType:function(a){return this.models[a]},deserializeSingle:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=b[this.rootKeyForType(a)],e=this.modelFromAttrs(a,d,c);return e},deserializeMultiple:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=c[this.rootKeyForType(a)+"s"];return e.map(function(c){var e=b.modelFromAttrs(a,c,d);return e})},modelFromAttrs:function(a,b,c){var d=this.modelForType(a);return c.config=this.config,new d(b,c)}}),L=x.extend(Object.defineProperties({ajax:l,constructor:function(a){this.config=a},pathForType:function(a){return"/"+a.slice(0,-1)+"_listings"},buildUrl:function(a,b,c){switch(a){case"multiple":return this.buildMultipleUrl(b,c);case"single":return this.buildSingleUrl(b,c);default:return""}},buildMultipleUrl:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=""+this.baseUrl+this.pathForType(a),d=Object.keys(b);if(d.length>0){var e=d.map(function(a){var c=void 0;return c=Array.isArray(b[a])?b[a].join(","):b[a],a+"="+encodeURIComponent(c)}).join("&");return c+"?"+e}return c},buildSingleUrl:function(a,b){return""+this.baseUrl+this.pathForType(a)+"/"+b},fetchMultiple:function(){var a=this.buildUrl.apply(this,["multiple"].concat(Array.prototype.slice.call(arguments)));return this.ajax("GET",a,{headers:this.headers}).then(function(a){return a.json})},fetchSingle:function(){var a=this.buildUrl.apply(this,["single"].concat(Array.prototype.slice.call(arguments)));return this.ajax("GET",a,{headers:this.headers}).then(function(a){return a.json})}},{base64AccessToken:{get:function(){return btoa(this.config.accessToken)},configurable:!0,enumerable:!0},baseUrl:{get:function(){var a=this.config,b=a.domain,c=a.appId;return"https://"+b+"/api/apps/"+c},configurable:!0,enumerable:!0},headers:{get:function(){return u({},{Authorization:"Basic "+this.base64AccessToken,"Content-Type":"application/json","X-SDK-Variant":"javascript","X-SDK-Version":B},this.config.ajaxHeaders)},configurable:!0,enumerable:!0}})),M="shopify-buy-uuid",N=C.extend(Object.defineProperties({constructor:function(){this["super"].apply(this,arguments)}},{id:{get:function(){return this.attrs[M]},configurable:!0,enumerable:!0},variant_id:{get:function(){return this.attrs.variant_id},configurable:!0,enumerable:!0},product_id:{get:function(){return this.attrs.product_id},configurable:!0,enumerable:!0},image:{get:function(){return this.attrs.image?new F(this.attrs.image):null},configurable:!0,enumerable:!0},imageVariants:{get:function(){return this.image?this.image.variants:[]},configurable:!0,enumerable:!0},title:{get:function(){return this.attrs.title},configurable:!0,enumerable:!0},quantity:{get:function(){return this.attrs.quantity},set:function(a){var b=parseInt(a,10);if(b<0)throw new Error("Quantities must be positive");if(b!==parseFloat(a))throw new Error("Quantities must be whole numbers");return this.attrs.quantity=b,this.attrs.quantity},configurable:!0,enumerable:!0},properties:{get:function(){return this.attrs.properties||{}},set:function(a){return this.attrs.properties=a||{},a},configurable:!0,enumerable:!0},variant_title:{get:function(){return this.attrs.variant_title},configurable:!0,enumerable:!0},price:{get:function(){return this.attrs.price},configurable:!0,enumerable:!0},compare_at_price:{get:function(){return this.attrs.compare_at_price},configurable:!0,enumerable:!0},line_price:{get:function(){return(this.quantity*parseFloat(this.price)).toFixed(2)},configurable:!0,enumerable:!0},grams:{get:function(){return this.attrs.grams},configurable:!0,enumerable:!0}})),O="shopify-buy."+Date.now(),P={writable:!0,configurable:!0,enumerable:!0,value:null},Q=0,R={},S={},T=void 0;T="undefined"==typeof global?window:global;var U={set:o,get:p},V=C.extend(Object.defineProperties({constructor:function(){this["super"].apply(this,arguments)},addVariants:function(){return z.warn("CartModel - ","addVariants is deprecated, please use createLineItemsFromVariants instead"),this.createLineItemsFromVariants.apply(this,arguments)},createLineItemsFromVariants:function(){var a=[].concat(Array.prototype.slice.call(arguments)).map(function(a){var b={image:a.variant.image,image_variants:a.variant.imageVariants,variant_id:a.variant.id,product_id:a.variant.productId,title:a.variant.productTitle,quantity:parseInt(a.quantity,10),properties:a.properties||{},variant_title:a.variant.title,price:a.variant.price,compare_at_price:a.variant.compareAtPrice,grams:a.variant.grams};return n(b),b}),c=this.attrs.line_items;c.push.apply(c,b(a));var d=c.reduce(function(a,b){var c=a.filter(function(a){return a.variant_id===b.variant_id&&q(a.properties,b.properties)})[0];return c?c.quantity=c.quantity+b.quantity:a.push(b),a},[]);return this.attrs.line_items=d.reduce(function(a,b){return b.quantity>=1&&a.push(b),a},[]),this.updateModel()},updateLineItem:function(a,b){if(b<1)return this.removeLineItem(a);var c=this.lineItems.filter(function(b){return b.id===a})[0];return c?(c.quantity=b,this.updateModel()):new Promise(function(b,c){c(new Error("line item with id: "+a+" not found in cart#"+this.id))})},removeLineItem:function(a){var b=this.lineItems.length,c=this.lineItems.filter(function(b){return b.id!==a}),d=c.length;return d<b?(this.attrs.line_items=c.map(function(a){return a.attrs}),this.updateModel()):new Promise(function(b,c){c(new Error("line item with id: "+a+" not found in cart#"+this.id))})},clearLineItems:function(){return this.attrs.line_items=[],this.updateModel()},updateModel:function(){var a=this;return this.shopClient.update("carts",this).then(function(b){return u(a.attrs,b.attrs),a})}},{id:{get:function(){return this.attrs[M]},configurable:!0,enumerable:!0},lineItems:{get:function(){return(this.attrs.line_items||[]).map(function(a){return new N(a)})},configurable:!0,enumerable:!0},lineItemCount:{get:function(){return this.lineItems.reduce(function(a,b){return a+b.quantity},0)},configurable:!0,enumerable:!0},subtotal:{get:function(){var a=this.lineItems.reduce(function(a,b){return a+parseFloat(b.line_price)},0);return a.toFixed(2)},configurable:!0,enumerable:!0},checkoutUrl:{get:function(){var a=this.config,b="https://"+a.domain+"/cart",c=U.get("ga"),d=this.lineItems.map(function(a){return a.variant_id+":"+a.quantity}),e="access_token="+a.accessToken+"&_fd=0";if("function"==typeof c){var f=void 0;c(function(a){f=a.get("linkerParam")}),f&&(e+="&"+f)}return b+"/"+d+"?"+e},configurable:!0,enumerable:!0}})),W=x.extend({constructor:function(a){this.config=a},rootKeyForType:function(a){return a.slice(0,-1)},modelForType:function(){return V},deserializeSingle:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=b[this.rootKeyForType(a)],e=this.modelFromAttrs(a,d,c);return e},modelFromAttrs:function(a,b,c){var d=this.modelForType(a);return c.config=this.config,new d(b,c)},serialize:function(a,b){var c=this.rootKeyForType(a),d={},e=u({},b.attrs);return d[c]=e,delete e.attributes,Object.keys(e).forEach(function(a){var b=e[a];(null===b||"string"==typeof b&&0===b.length)&&delete e[a]}),d}}),X=C.extend(Object.defineProperties({constructor:function(a){if(Object.keys(a).indexOf("referenceId")<0)throw new Error("Missing key referenceId of reference. References to null are not allowed");this["super"].apply(this,arguments)}},{id:{get:function(){return this.attrs[M]},configurable:!0,enumerable:!0},referenceId:{get:function(){return this.attrs.referenceId},set:function(a){return this.attrs.referenceId=a,a},configurable:!0,enumerable:!0}})),Y=x.extend({constructor:function(a){this.config=a},modelForType:function(){return X},deserializeSingle:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=this.modelForType(a);return new d(b,c)},serialize:function(a,b){var c=u({},b.attrs);return c}}),Z=x.extend({constructor:function(){this.localStorageAvailable=this.storageAvailable("localStorage"),this.cache={}},setItem:function(a,b){return this.localStorageAvailable?localStorage.setItem(a,JSON.stringify(b)):this.cache[a]=b,b},getItem:function(a){if(!this.localStorageAvailable)return this.cache[a]||null;var b=localStorage.getItem(a);try{return JSON.parse(b)}catch(a){return null}},storageAvailable:function(a){try{var b=U.get(a),c="__storage_test__";return b.setItem(c,c),b.removeItem(c),!0}catch(a){return!1}}}),$=x.extend({constructor:function(){this.store=new Z},idKeyForType:function(){return M},fetchSingle:function(a,b){var c=this;return new Promise(function(d,e){var f=c.store.getItem(c.storageKey(a,b));return null===f?void e(new Error(a+"#"+b+" not found")):void d(f)})},create:function(a,b){var c=this;return new Promise(function(d){var e=c.identify(b);c.store.setItem(c.storageKey(a,e),b),d(b)})},update:function(a,b,c){var d=this;return new Promise(function(e){d.store.setItem(d.storageKey(a,b),c),e(c)})},storageKey:function(a,b){return a+"."+b},identify:function(a){var b=Object.keys(a);return n(1===b.length&&"object"===s(a[b[0]])?a[b[0]]:a)}}),_=x.extend(Object.defineProperties({constructor:function(a){this.config=a,this.serializers={products:K,collections:K,carts:W,references:Y},this.adapters={products:L,collections:L,carts:$,references:$}},config:null,fetchAll:function(a){var b=this,c=new this.adapters[a](this.config);return c.fetchMultiple(a).then(function(d){return b.deserialize(a,d,c,null,{multiple:!0})})},fetch:function(a,b){var c=this,d=new this.adapters[a](this.config);return d.fetchSingle(a,b).then(function(b){return c.deserialize(a,b,d,null,{single:!0})})},fetchQuery:function(a,b){var c=this,d=new this.adapters[a](this.config);return d.fetchMultiple(a,b).then(function(b){return c.deserialize(a,b,d,null,{multiple:!0})})},create:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=new this.adapters[a](this.config),e=new this.serializers[a](this.config),f=e.modelForType(a),g=new f(c,{shopClient:this}),h=e.serialize(a,g);return d.create(a,h).then(function(c){return b.deserialize(a,c,d,e,{single:!0})})},update:function(a,b){var c=this,d=b.adapter,e=b.serializer,f=e.serialize(a,b),g=b.attrs[d.idKeyForType(a)];return d.update(a,g,f).then(function(b){return c.deserialize(a,b,d,e,{single:!0})})},deserialize:function(a,b,c,d){var e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},f=d||new this.serializers[a](this.config),g={shopClient:this,adapter:c,serializer:f,type:a},h=void 0;return h=e.multiple?f.deserializeMultiple(a,b,g):f.deserializeSingle(a,b,g)},createCart:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b={line_items:[]},c={};return u(c,b),u(c,a),this.create("carts",c)},updateCart:function(a){return this.update("carts",a)},fetchCart:r("one","carts"),fetchAllProducts:r("all","products"),fetchAllCollections:r("all","collections"),fetchProduct:r("one","products"),fetchCollection:r("one","collections"),fetchQueryProducts:r("query","products"),fetchQueryCollections:r("query","collections"),fetchRecentCart:function(){var a=this;return this.fetch("references",this.config.domain+".recent-cart").then(function(b){var c=b.referenceId;return a.fetchCart(c)})["catch"](function(){return a.createCart().then(function(b){var c={referenceId:b.id};return c[M]=a.config.domain+".recent-cart",a.create("references",c),b})})}},{serializers:{get:function(){return u({},this.shadowedSerializers)},set:function(a){this.shadowedSerializers=u({},a)},configurable:!0,enumerable:!0},adapters:{get:function(){return u({},this.shadowedAdapters)},set:function(a){this.shadowedAdapters=u({},a)},configurable:!0,enumerable:!0}}));if(i()){var aa=require,ba=aa("node-fetch");U.set("fetch",ba),U.set("Response",ba.Response)}i()&&U.set("btoa",function(a){return new Buffer(a).toString("base64")});var ca={ShopClient:_,Config:A,version:B,NO_IMAGE_URI:I,buildClient:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=new this.Config(a);return new this.ShopClient(b)}};a.exports=ca}),!function(a,b){if("function"==typeof define&&define.amd)define("shopify-buy",["module"],b);else if("undefined"!=typeof exports)b(module);else{var c={exports:{}};b(c),a.ShopifyBuy=c.exports}}(this,function(a){"use strict";function b(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function c(a,b){return b={exports:{}},a(b,b.exports),b.exports}function d(a,b){ae[a]||(ae[a]=b)}function e(a){return ae[a]}function f(a,b){function c(){var c=this["super"];this["super"]=function(){return b.apply(this,arguments)};var d=a.apply(this,arguments);return this["super"]=c,d}return c.wrappedFunction=a,c}function g(a,b,c){var d=Object.getPrototypeOf(c);a.forEach(function(a){var e=Object.getOwnPropertyDescriptor(b,a),g=d.hasOwnProperty(a)&&Object.getOwnPropertyDescriptor(d,a);if("function"==typeof g.value&&"function"==typeof e.value){var h=f(e.value,g.value);Object.defineProperty(c,a,{value:h})}else Object.defineProperty(c,a,e)})}function h(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object,c=f(a.constructor,b),d=Object.getOwnPropertyNames(a).filter(function(a){return!fe(["constructor","static"],a)});de(c,b),c.prototype=Object.create(b.prototype),g(d,a,c.prototype),c.prototype.constructor=c;var e=a["static"];if(e){var h=Object.getOwnPropertyNames(e);g(h,e,c)}return c}function i(a){var c=function(){var b=void 0;b=console[a]?Function.prototype.bind.call(console[a],console):Function.prototype.bind.call(console.log,console),b.apply(void 0,arguments)};return function(){var a=[].concat(Array.prototype.slice.call(arguments));a.unshift("[JS-BUY-SDK]: "),c.apply(void 0,b(a))}}function j(a,b){var c=void 0;if(b.headers&&Object.keys(b.headers).forEach(function(a){"authorization"===a.toLowerCase()&&(c=b.headers[a])}),c){var d=c.split(" ").slice(-1)[0];try{var e=atob(d),f=void 0;return f=a.indexOf("?")>-1?a+"&_x_http_authorization="+e:a+"?_x_http_authorization="+e}catch(a){}}return a}function k(a,b,c){return new Promise(function(d,e){function f(){e(new Error("There was an error with the XDR"))}var g=new XDomainRequest;g.onload=function(){try{var a=JSON.parse(g.responseText);d({json:a,originalResponse:g,isJSON:!0})}catch(a){d({text:g.responseText,originalResponse:g,isText:!0})}},g.onerror=f,g.ontimeout=f,g.open(a,j(b,c)),g.send(c.data)})}function l(){var a="undefined"==typeof window,b="function"==typeof require;return a&&b}function m(a){if(a.status>=200&&a.status<300)return a;var b=new Error(a.statusText);throw b.status=a.status,b.response=a,b}function n(a){return a.json().then(function(b){return{json:b,originalResponse:a,isJSON:!0}})["catch"](function(){var b=a.clone();return b.text().then(function(a){return{text:a,originalResponse:b,isText:!0}})})}function o(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!l()){var d=new XMLHttpRequest;if(!("withCredentials"in d))return k.apply(void 0,arguments)}return c.method=a,c.mode="cors",fetch(b,c).then(m).then(n)}function p(){return++ze}function q(a){if(a&&a[ve])return a[ve];if(void 0===a)return"(undefined)";if(null===a)return"(null)";var b="undefined"==typeof a?"undefined":t(a),c=void 0;switch(b){case"number":c=Ae[a],c||(c=Ae[a]="nu"+a);break;case"string":c=Be[a],c||(c=Be[a]="st"+p());break;case"boolean":c=a?"(true)":"(false)";break;default:if(a===Object){c="(Object)";break}if(a===Array){c="(Array)";break}c=xe+"."+p(),null===a[ve]?a[ve]=c:(ye.value=c,Object.defineProperty(a,ve,ye))}return c}function r(a,b){return a===b||Object.keys(a).every(function(c){return a[c]instanceof Date?a[c].toString()===b[c].toString():"object"===t(a[c])?r(a[c],b[c]):a[c]===b[c]})}function s(a,b){var c=void 0;switch(a){case"all":c=function(){return this.fetchAll(b)};break;case"one":c=function(){return this.fetch.apply(this,[b].concat(Array.prototype.slice.call(arguments)))};break;case"query":c=function(){return this.fetchQuery.apply(this,[b].concat(Array.prototype.slice.call(arguments)))}}return c}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(){function a(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function b(a){return"string"!=typeof a&&(a=String(a)),a}function c(a){this.map={},a instanceof c?a.forEach(function(a,b){this.append(b,a)},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function d(a){return a.bodyUsed?Promise.reject(new TypeError("Already read")):void(a.bodyUsed=!0)}function e(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function f(a){var b=new FileReader;return b.readAsArrayBuffer(a),e(b)}function g(a){var b=new FileReader;return b.readAsText(a),e(b)}function h(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,"string"==typeof a)this._bodyText=a;else if(n.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(n.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(a){if(!n.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(a))throw new Error("unsupported BodyInit type")}else this._bodyText=""},n.blob?(this.blob=function(){var a=d(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(f)},this.text=function(){var a=d(this);if(a)return a;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var a=d(this);return a?a:Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}function i(a){var b=a.toUpperCase();return o.indexOf(b)>-1?b:a}function j(a,b){b=b||{};var d=b.body;if(j.prototype.isPrototypeOf(a)){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new c(a.headers)),this.method=a.method,this.mode=a.mode,d||(d=a._bodyInit,a.bodyUsed=!0)}else this.url=a;if(this.credentials=b.credentials||this.credentials||"omit",!b.headers&&this.headers||(this.headers=new c(b.headers)),this.method=i(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&d)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(d)}function k(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function l(a){var b=new c,d=a.getAllResponseHeaders().trim().split("\n");return d.forEach(function(a){var c=a.trim().split(":"),d=c.shift().trim(),e=c.join(":").trim();b.append(d,e)}),b}function m(a,b){b||(b={}),this._initBody(a),this.type="default",this.status=b.status,this.ok=this.status>=200&&this.status<300,this.statusText=b.statusText,this.headers=b.headers instanceof c?b.headers:new c(b.headers),this.url=b.url||""}if(!self.fetch){c.prototype.append=function(c,d){c=a(c),d=b(d);var e=this.map[c];e||(e=[],this.map[c]=e),e.push(d)},c.prototype["delete"]=function(b){delete this.map[a(b)]},c.prototype.get=function(b){var c=this.map[a(b)];return c?c[0]:null},c.prototype.getAll=function(b){return this.map[a(b)]||[]},c.prototype.has=function(b){return this.map.hasOwnProperty(a(b))},c.prototype.set=function(c,d){this.map[a(c)]=[b(d)]},c.prototype.forEach=function(a,b){Object.getOwnPropertyNames(this.map).forEach(function(c){this.map[c].forEach(function(d){a.call(b,d,c,this)},this)},this)};var n={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self},o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];j.prototype.clone=function(){return new j(this)},h.call(j.prototype),h.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},m.error=function(){var a=new m(null,{status:0,statusText:""});return a.type="error",a};var p=[301,302,303,307,308];m.redirect=function(a,b){if(p.indexOf(b)===-1)throw new RangeError("Invalid status code");return new m(null,{status:b,headers:{location:a}})},self.Headers=c,self.Request=j,self.Response=m,self.fetch=function(a,b){return new Promise(function(c,d){function e(){return"responseURL"in g?g.responseURL:/^X-Request-URL:/m.test(g.getAllResponseHeaders())?g.getResponseHeader("X-Request-URL"):void 0}var f;f=j.prototype.isPrototypeOf(a)&&!b?a:new j(a,b);var g=new XMLHttpRequest;g.onload=function(){var a=1223===g.status?204:g.status;if(a<100||a>599)return void d(new TypeError("Network request failed"));var b={status:a,statusText:g.statusText,headers:l(g),url:e()},f="response"in g?g.response:g.responseText;c(new m(f,b))},g.onerror=function(){d(new TypeError("Network request failed"))},g.open(f.method,f.url,!0),"include"===f.credentials&&(g.withCredentials=!0),"responseType"in g&&n.blob&&(g.responseType="blob"),f.headers.forEach(function(a,b){g.setRequestHeader(b,a)}),g.send("undefined"==typeof f._bodyInit?null:f._bodyInit)})},self.fetch.polyfill=!0}}();var u={}.toString,v=function(a){return u.call(a).slice(8,-1)},w=c(function(a){var b=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)}),x=w,y="__core-js_shared__",z=x[y]||(x[y]={}),A=function(a){return z[a]||(z[a]={})},B=0,C=Math.random(),D=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++B+C).toString(36))},E=c(function(a){var b=A("wks"),c=D,d=w.Symbol,e="function"==typeof d,f=a.exports=function(a){return b[a]||(b[a]=e&&d[a]||(e?d:c)("Symbol."+a))};f.store=b}),F=v,G=E("toStringTag"),H="Arguments"==F(function(){return arguments}()),I=function(a,b){try{return a[b]}catch(a){}},J=function(a){var b,c,d;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=I(b=Object(a),G))?c:H?F(b):"Object"==(d=F(b))&&"function"==typeof b.callee?"Arguments":d},K=function(a){return"object"===("undefined"==typeof a?"undefined":t(a))?null!==a:"function"==typeof a},L=K,M=function(a){if(!L(a))throw TypeError(a+" is not an object!");return a},N=function(a){try{return!!a()}catch(a){return!0}},O=!N(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),P=K,Q=w.document,R=P(Q)&&P(Q.createElement),S=function(a){return R?Q.createElement(a):{}},T=!O&&!N(function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a}),U=K,V=function(a,b){if(!U(a))return a;var c,d;if(b&&"function"==typeof(c=a.toString)&&!U(d=c.call(a)))return d;if("function"==typeof(c=a.valueOf)&&!U(d=c.call(a)))return d;if(!b&&"function"==typeof(c=a.toString)&&!U(d=c.call(a)))return d;throw TypeError("Can't convert object to primitive value")},W=M,X=T,Y=V,Z=Object.defineProperty,$=O?Object.defineProperty:function(a,b,c){if(W(a),b=Y(b,!0),W(c),X)try{return Z(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a},_={f:$},aa=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}},ba=_,ca=aa,da=O?function(a,b,c){return ba.f(a,b,ca(1,c))}:function(a,b,c){return a[b]=c,a},ea={}.hasOwnProperty,fa=function(a,b){return ea.call(a,b)},ga=c(function(a){var b=a.exports={version:"2.4.0"};"number"==typeof __e&&(__e=b)}),ha=c(function(a){var b=w,c=da,d=fa,e=D("src"),f="toString",g=Function[f],h=(""+g).split(f);ga.inspectSource=function(a){return g.call(a)},(a.exports=function(a,f,g,i){var j="function"==typeof g;j&&(d(g,"name")||c(g,"name",f)),a[f]!==g&&(j&&(d(g,e)||c(g,e,a[f]?""+a[f]:h.join(String(f)))),a===b?a[f]=g:i?a[f]?a[f]=g:c(a,f,g):(delete a[f],c(a,f,g)))})(Function.prototype,f,function(){return"function"==typeof this&&this[e]||g.call(this)})}),ia=J,ja={};ja[E("toStringTag")]="z",ja+""!="[object z]"&&ha(Object.prototype,"toString",function(){return"[object "+ia(this)+"]"},!0);var ka=Math.ceil,la=Math.floor,ma=function(a){return isNaN(a=+a)?0:(a>0?la:ka)(a)},na=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a},oa=ma,pa=na,qa=function(a){return function(b,c){var d,e,f=String(pa(b)),g=oa(c),h=f.length;return g<0||g>=h?a?"":void 0:(d=f.charCodeAt(g),d<55296||d>56319||g+1===h||(e=f.charCodeAt(g+1))<56320||e>57343?a?f.charAt(g):d:a?f.slice(g,g+2):(d-55296<<10)+(e-56320)+65536)}},ra=!1,sa=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a},ta=sa,ua=function(a,b,c){if(ta(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}},va=w,wa=ga,xa=da,ya=ha,za=ua,Aa="prototype",Ba=function Me(a,b,c){var d,e,f,g,h=a&Me.F,i=a&Me.G,j=a&Me.S,k=a&Me.P,l=a&Me.B,m=i?va:j?va[b]||(va[b]={}):(va[b]||{})[Aa],n=i?wa:wa[b]||(wa[b]={}),o=n[Aa]||(n[Aa]={});i&&(c=b);for(d in c)e=!h&&m&&void 0!==m[d],f=(e?m:c)[d],g=l&&e?za(f,va):k&&"function"==typeof f?za(Function.call,f):f,m&&ya(m,d,f,a&Me.U),n[d]!=f&&xa(n,d,g),k&&o[d]!=f&&(o[d]=f)};va.core=wa,Ba.F=1,Ba.G=2,Ba.S=4,Ba.P=8,Ba.B=16,Ba.W=32,Ba.U=64,Ba.R=128;var Ca=Ba,Da={},Ea=v,Fa=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==Ea(a)?a.split(""):Object(a)},Ga=Fa,Ha=na,Ia=function(a){return Ga(Ha(a))},Ja=ma,Ka=Math.min,La=function(a){return a>0?Ka(Ja(a),9007199254740991):0},Ma=ma,Na=Math.max,Oa=Math.min,Pa=function(a,b){return a=Ma(a),a<0?Na(a+b,0):Oa(a,b)},Qa=Ia,Ra=La,Sa=Pa,Ta=function(a){return function(b,c,d){var e,f=Qa(b),g=Ra(f.length),h=Sa(d,g);if(a&&c!=c){for(;g>h;)if(e=f[h++],e!=e)return!0}else for(;g>h;h++)if((a||h in f)&&f[h]===c)return a||h||0;return!a&&-1}},Ua=A("keys"),Va=D,Wa=function(a){return Ua[a]||(Ua[a]=Va(a))},Xa=fa,Ya=Ia,Za=Ta(!1),$a=Wa("IE_PROTO"),_a=function(a,b){var c,d=Ya(a),e=0,f=[];for(c in d)c!=$a&&Xa(d,c)&&f.push(c);for(;b.length>e;)Xa(d,c=b[e++])&&(~Za(f,c)||f.push(c));return f},ab="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),bb=_a,cb=ab,db=Object.keys||function(a){return bb(a,cb)},eb=_,fb=M,gb=db,hb=O?Object.defineProperties:function(a,b){fb(a);for(var c,d=gb(b),e=d.length,f=0;e>f;)eb.f(a,c=d[f++],b[c]);return a},ib=w.document&&document.documentElement,jb=M,kb=hb,lb=ab,mb=Wa("IE_PROTO"),nb=function(){},ob="prototype",pb=function(){var a,b=S("iframe"),c=lb.length,d="<",e=">";for(b.style.display="none",ib.appendChild(b),b.src="javascript:",a=b.contentWindow.document,a.open(),a.write(d+"script"+e+"document.F=Object"+d+"/script"+e),a.close(),pb=a.F;c--;)delete pb[ob][lb[c]];return pb()},qb=Object.create||function(a,b){var c;return null!==a?(nb[ob]=jb(a),c=new nb,nb[ob]=null,c[mb]=a):c=pb(),void 0===b?c:kb(c,b)},rb=_.f,sb=fa,tb=E("toStringTag"),ub=function(a,b,c){a&&!sb(a=c?a:a.prototype,tb)&&rb(a,tb,{configurable:!0,value:b})},vb=qb,wb=aa,xb=ub,yb={};da(yb,E("iterator"),function(){return this});var zb=function(a,b,c){a.prototype=vb(yb,{next:wb(1,c)}),xb(a,b+" Iterator")},Ab=na,Bb=function(a){return Object(Ab(a))},Cb=fa,Db=Bb,Eb=Wa("IE_PROTO"),Fb=Object.prototype,Gb=Object.getPrototypeOf||function(a){return a=Db(a),Cb(a,Eb)?a[Eb]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?Fb:null},Hb=ra,Ib=Ca,Jb=ha,Kb=da,Lb=fa,Mb=Da,Nb=zb,Ob=ub,Pb=Gb,Qb=E("iterator"),Rb=!([].keys&&"next"in[].keys()),Sb="@@iterator",Tb="keys",Ub="values",Vb=function(){return this},Wb=function(a,b,c,d,e,f,g){Nb(c,b,d);var h,i,j,k=function(a){if(!Rb&&a in o)return o[a];switch(a){case Tb:return function(){return new c(this,a)};case Ub:return function(){return new c(this,a)}}return function(){return new c(this,a)}},l=b+" Iterator",m=e==Ub,n=!1,o=a.prototype,p=o[Qb]||o[Sb]||e&&o[e],q=p||k(e),r=e?m?k("entries"):q:void 0,s="Array"==b?o.entries||p:p;if(s&&(j=Pb(s.call(new a)),j!==Object.prototype&&(Ob(j,l,!0),Hb||Lb(j,Qb)||Kb(j,Qb,Vb))),m&&p&&p.name!==Ub&&(n=!0,q=function(){return p.call(this)}),Hb&&!g||!Rb&&!n&&o[Qb]||Kb(o,Qb,q),Mb[b]=q,Mb[l]=Vb,e)if(h={values:m?q:k(Ub),keys:f?q:k(Tb),entries:r},g)for(i in h)i in o||Jb(o,i,h[i]);else Ib(Ib.P+Ib.F*(Rb||n),b,h);return h},Xb=qa(!0);Wb(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=Xb(b,c),this._i+=a.length,{value:a,done:!1})});var Yb=E("unscopables"),Zb=Array.prototype;void 0==Zb[Yb]&&da(Zb,Yb,{});var $b=function(a){Zb[Yb][a]=!0},_b=function(a,b){return{value:b,done:!!a}},ac=$b,bc=_b,cc=Da,dc=Ia,ec=Wb(Array,"Array",function(a,b){this._t=dc(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,bc(1)):"keys"==b?bc(0,c):"values"==b?bc(0,a[c]):bc(0,[c,a[c]])},"values");cc.Arguments=cc.Array,ac("keys"),ac("values"),ac("entries");for(var fc=ec,gc=ha,hc=w,ic=da,jc=Da,kc=E,lc=kc("iterator"),mc=kc("toStringTag"),nc=jc.Array,oc=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],pc=0;pc<5;pc++){var qc,rc=oc[pc],sc=hc[rc],tc=sc&&sc.prototype;if(tc){tc[lc]||ic(tc,lc,nc),tc[mc]||ic(tc,mc,rc),jc[rc]=nc;for(qc in fc)tc[qc]||gc(tc,qc,fc[qc],!0)}}var uc,vc,wc,xc=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a},yc=M,zc=function(a,b,c,d){try{return d?b(yc(c)[0],c[1]):b(c)}catch(b){var e=a["return"];throw void 0!==e&&yc(e.call(a)),b}},Ac=Da,Bc=E("iterator"),Cc=Array.prototype,Dc=function(a){return void 0!==a&&(Ac.Array===a||Cc[Bc]===a)},Ec=J,Fc=E("iterator"),Gc=Da,Hc=ga.getIteratorMethod=function(a){if(void 0!=a)return a[Fc]||a["@@iterator"]||Gc[Ec(a)]},Ic=c(function(a){var b=ua,c=zc,d=Dc,e=M,f=La,g=Hc,h={},i={},j=a.exports=function(a,j,k,l,m){var n,o,p,q,r=m?function(){return a}:g(a),s=b(k,l,j?2:1),t=0;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(d(r)){for(n=f(a.length);n>t;t++)if(q=j?s(e(o=a[t])[0],o[1]):s(a[t]),q===h||q===i)return q}else for(p=r.call(a);!(o=p.next()).done;)if(q=c(p,s,o.value,j),q===h||q===i)return q};j.BREAK=h,j.RETURN=i}),Jc=M,Kc=sa,Lc=E("species"),Mc=function(a,b){var c,d=Jc(a).constructor;return void 0===d||void 0==(c=Jc(d)[Lc])?b:Kc(c)},Nc=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)},Oc=ua,Pc=Nc,Qc=ib,Rc=S,Sc=w,Tc=Sc.process,Uc=Sc.setImmediate,Vc=Sc.clearImmediate,Wc=Sc.MessageChannel,Xc=0,Yc={},Zc="onreadystatechange",$c=function(){var a=+this;if(Yc.hasOwnProperty(a)){var b=Yc[a];delete Yc[a],b()}},_c=function(a){$c.call(a.data)};Uc&&Vc||(Uc=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);return Yc[++Xc]=function(){Pc("function"==typeof a?a:Function(a),b)},uc(Xc),Xc},Vc=function(a){delete Yc[a]},"process"==v(Tc)?uc=function(a){Tc.nextTick(Oc($c,a,1))}:Wc?(vc=new Wc,wc=vc.port2,vc.port1.onmessage=_c,uc=Oc(wc.postMessage,wc,1)):Sc.addEventListener&&"function"==typeof postMessage&&!Sc.importScripts?(uc=function(a){Sc.postMessage(a+"","*")},Sc.addEventListener("message",_c,!1)):uc=Zc in Rc("script")?function(a){Qc.appendChild(Rc("script"))[Zc]=function(){Qc.removeChild(this),$c.call(a)}}:function(a){setTimeout(Oc($c,a,1),0)});var ad={set:Uc,clear:Vc},bd=w,cd=ad.set,dd=bd.MutationObserver||bd.WebKitMutationObserver,ed=bd.process,fd=bd.Promise,gd="process"==v(ed),hd=function(){var a,b,c,d=function(){var d,e;for(gd&&(d=ed.domain)&&d.exit();a;){e=a.fn,a=a.next;try{e()}catch(d){throw a?c():b=void 0,d}}b=void 0,d&&d.enter()};if(gd)c=function(){ed.nextTick(d)};else if(dd){var e=!0,f=document.createTextNode("");new dd(d).observe(f,{characterData:!0}),c=function(){f.data=e=!e}}else if(fd&&fd.resolve){var g=fd.resolve();c=function(){g.then(d)}}else c=function(){cd.call(bd,d)};return function(d){var e={fn:d,next:void 0};b&&(b.next=e),a||(a=e,c()),b=e}},id=ha,jd=function(a,b,c){for(var d in b)id(a,d,b[d],c);return a},kd=w,ld=_,md=O,nd=E("species"),od=function(a){var b=kd[a];md&&b&&!b[nd]&&ld.f(b,nd,{configurable:!0,get:function(){return this}})},pd=E("iterator"),qd=!1;try{var rd=[7][pd]();rd["return"]=function(){qd=!0},Array.from(rd,function(){throw 2})}catch(a){}var sd,td,ud,vd=function(a,b){if(!b&&!qd)return!1;var c=!1;try{var d=[7],e=d[pd]();e.next=function(){return{done:c=!0}},d[pd]=function(){return e},a(d)}catch(a){}return c},wd=ra,xd=w,yd=ua,zd=J,Ad=Ca,Bd=K,Cd=sa,Dd=xc,Ed=Ic,Fd=Mc,Gd=ad.set,Hd=hd(),Id="Promise",Jd=xd.TypeError,Kd=xd.process,Ld=xd[Id],Kd=xd.process,Md="process"==zd(Kd),Nd=function(){},Od=!!function(){try{var a=Ld.resolve(1),b=(a.constructor={})[E("species")]=function(a){a(Nd,Nd)};return(Md||"function"==typeof PromiseRejectionEvent)&&a.then(Nd)instanceof b}catch(a){}}(),Pd=function(a,b){return a===b||a===Ld&&b===ud},Qd=function(a){var b;return!(!Bd(a)||"function"!=typeof(b=a.then))&&b},Rd=function(a){return Pd(Ld,a)?new Sd(a):new td(a)},Sd=td=function(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw Jd("Bad Promise constructor");b=a,c=d}),this.resolve=Cd(b),this.reject=Cd(c)},Td=function(a){try{a()}catch(a){return{error:a}}},Ud=function(a,b){if(!a._n){a._n=!0;var c=a._c;Hd(function(){for(var d=a._v,e=1==a._s,f=0,g=function(a){var b,c,f=e?a.ok:a.fail,g=a.resolve,h=a.reject,i=a.domain;try{f?(e||(2==j._h&&Xd(j),j._h=1),f===!0?b=d:(i&&i.enter(),b=f(d),i&&i.exit()),b===a.promise?h(Jd("Promise-chain cycle")):(c=Qd(b))?c.call(b,g,h):g(b)):h(d)}catch(j){h(j)}};c.length>f;)g(c[f++]);a._c=[],a._n=!1,b&&!a._h&&Vd(a)})}},Vd=function(a){Gd.call(xd,function(){var b,c,d,e=a._v;if(Wd(a)&&(b=Td(function(){Md?Kd.emit("unhandledRejection",e,a):(c=xd.onunhandledrejection)?c({promise:a,reason:e}):(d=xd.console)&&d.error&&d.error("Unhandled promise rejection",e)}),a._h=Md||Wd(a)?2:1),a._a=void 0,b)throw b.error})},Wd=function Ne(a){if(1==a._h)return!1;for(var b,c=a._a||a._c,d=0;c.length>d;)if(b=c[d++],b.fail||!Ne(b.promise))return!1;return!0},Xd=function(a){Gd.call(xd,function(){var b;Md?Kd.emit("rejectionHandled",a):(b=xd.onrejectionhandled)&&b({promise:a,reason:a._v})})},Yd=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),Ud(b,!0))},Zd=function Oe(a){var b,c=this;if(!c._d){c._d=!0,c=c._w||c;try{if(c===a)throw Jd("Promise can't be resolved itself");(b=Qd(a))?Hd(function(){var d={_w:c,_d:!1};try{b.call(a,yd(e,d,1),yd(Yd,d,1))}catch(e){Yd.call(d,e)}}):(c._v=a,c._s=1,Ud(c,!1))}catch(Oe){Yd.call({_w:c,_d:!1},Oe)}}};Od||(Ld=function(a){Dd(this,Ld,Id,"_h"),Cd(a),sd.call(this);try{a(yd(Zd,this,1),yd(Yd,this,1))}catch(a){Yd.call(this,a)}},sd=function(a){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},sd.prototype=jd(Ld.prototype,{then:function(a,b){var c=Rd(Fd(this,Ld));return c.ok="function"!=typeof a||a,c.fail="function"==typeof b&&b,c.domain=Md?Kd.domain:void 0,this._c.push(c),this._a&&this._a.push(c),this._s&&Ud(this,!1),c.promise},"catch":function(a){return this.then(void 0,a)}}),Sd=function(){var a=new sd;this.promise=a,this.resolve=yd(Zd,a,1),this.reject=yd(Yd,a,1)}),Ad(Ad.G+Ad.W+Ad.F*!Od,{Promise:Ld}),ub(Ld,Id),od(Id),ud=ga[Id],Ad(Ad.S+Ad.F*!Od,Id,{reject:function(a){var b=Rd(this),c=b.reject;return c(a),b.promise}}),Ad(Ad.S+Ad.F*(wd||!Od),Id,{resolve:function(a){if(a instanceof Ld&&Pd(a.constructor,this))return a;var b=Rd(this),c=b.resolve;return c(a),b.promise}}),Ad(Ad.S+Ad.F*!(Od&&vd(function(a){Ld.all(a)["catch"](Nd)})),Id,{all:function(a){var b=this,c=Rd(b),d=c.resolve,e=c.reject,f=Td(function(){var c=[],f=0,g=1;Ed(a,!1,function(a){var h=f++,i=!1;c.push(void 0),g++,b.resolve(a).then(function(a){i||(i=!0,c[h]=a,--g||d(c))},e)}),--g||d(c)});return f&&e(f.error),c.promise},race:function(a){var b=this,c=Rd(b),d=c.reject,e=Td(function(){Ed(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});return e&&d(e.error),c.promise}});var $d=ga.Promise,_d=c(function(a,b){!function(){function a(a){this.message=a}var c="undefined"!=typeof b?b:this,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.prototype=new Error,a.prototype.name="InvalidCharacterError",c.btoa||(c.btoa=function(b){for(var c,e,f=String(b),g=0,h=d,i="";f.charAt(0|g)||(h="=",g%1);i+=h.charAt(63&c>>8-g%1*8)){if(e=f.charCodeAt(g+=.75),e>255)throw new a("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c=c<<8|e}return i}),c.atob||(c.atob=function(b){var c=String(b).replace(/=+$/,"");if(c.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,f,g=0,h=0,i="";f=c.charAt(h++);~f&&(e=g%4?64*e+f:f,g++%4)?i+=String.fromCharCode(255&e>>(-2*g&6)):0)f=d.indexOf(f);return i})}()}),ae=void 0;ae="undefined"==typeof global?window:global;var be={set:d,get:e};be.set("btoa",_d.btoa),be.set("atob",_d.atob),be.set("Promise",$d);var ce=void 0;ce="function"==typeof Object.assign?Object.assign:function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");var b=Object(a),c=[].slice.call(arguments,1);return c.length>0&&c.forEach(function(a){if(void 0!==a&&null!==a){var c=void 0;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c])}}),b};var de=ce,ee=void 0;ee=Array.prototype.includes?function(a){var b=[].slice.call(arguments,1);return Array.prototype.includes.apply(a,b)}:function(a,b){var c=Object(a),d=parseInt(c.length,10)||0;if(0===d)return!1;var e=parseInt(arguments[2],10)||0,f=void 0;for(e>=0?f=e:(f=d+e,f<0&&(f=0));f<d;){var g=c[f];if(b===g||b!==b&&g!==g)return!0;f++}return!1};var fe=ee,ge=h({constructor:function(){},"static":{extend:function(a){return h(a,this)}}}),he=ge.extend({constructor:function(){},debug:i("debug"),info:i("info"),warn:i("warn"),error:i("error")}),ie=new he,je=ge.extend({constructor:function(a){var b=this;Object.keys(this.deprecatedProperties).forEach(function(c){if(a.hasOwnProperty(c)){var d=b.deprecatedProperties[c],e=b[d];e(a[c],a)}}),this.requiredProperties.forEach(function(c){if(!a.hasOwnProperty(c))throw new Error("new Config() requires the option '"+c+"'");b[c]=a[c]}),this.optionalProperties.forEach(function(c){a.hasOwnProperty(c)&&(b[c]=a[c])})},deprecatedProperties:{apiKey:"transformApiKey",myShopifyDomain:"transformMyShopifyDomain"},transformMyShopifyDomain:function(a,b){ie.warn("Config - ","myShopifyDomain is deprecated, please use domain and provide the full shop domain."),b.domain=a+".myshopify.com"},transformApiKey:function(a,b){ie.warn("Config - ","apiKey is deprecated, please use accessToken instead."),b.accessToken=a},requiredProperties:["accessToken","appId","domain"],optionalProperties:["ajaxHeaders"],accessToken:"",apiKey:"",appId:"",domain:"",myShopifyDomain:"",ajaxHeaders:{}}),ke="v0.7.1-66ba4e4",le=ge.extend({constructor:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.attrs=a,de(this,b)},attrs:null,serializer:null,adapter:null,shopClient:null}),me=le.extend(Object.defineProperties({constructor:function(){this["super"].apply(this,arguments),this.selected=this.values[0]}},{name:{get:function(){return this.attrs.name},configurable:!0,enumerable:!0},values:{get:function(){return this.attrs.values},configurable:!0,enumerable:!0},selected:{get:function(){return this._selected},set:function(a){if(!fe(this.values,a))throw new Error("Invalid option selection for "+this.name+".");return this._selected=a,a},configurable:!0,enumerable:!0}})),ne=[{name:"pico",dimension:"16x16"},{name:"icon",dimension:"32x32"},{name:"thumb",dimension:"50x50"},{name:"small",dimension:"100x100"},{name:"compact",dimension:"160x160"},{name:"medium",dimension:"240x240"},{name:"large",dimension:"480x480"},{name:"grande",dimension:"600x600"},{name:"1024x1024",dimension:"1024x1024"},{name:"2048x2048",dimension:"2048x2048"}],oe=ge.extend(Object.defineProperties({constructor:function(a){var b=this;Object.keys(a).forEach(function(c){b[c]=a[c]})}},{variants:{get:function(){var a=this.src,b=a.lastIndexOf("."),c=a.slice(0,b),d=a.slice(b);return ne.forEach(function(a){a.src=c+"_"+a.name+d}),ne},configurable:!0,enumerable:!0}})),pe=le.extend(Object.defineProperties({constructor:function(){this["super"].apply(this,arguments)},checkoutUrl:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,b=this.config,c="https://"+b.domain+"/cart",d=this.id+":"+parseInt(a,10),e="access_token="+b.accessToken+"&_fd=0";return c+"/"+d+"?"+e}},{id:{get:function(){return this.attrs.variant.id},configurable:!0,enumerable:!0},productId:{get:function(){return this.attrs.product.id},configurable:!0,enumerable:!0},title:{get:function(){return this.attrs.variant.title},configurable:!0,enumerable:!0},productTitle:{get:function(){return this.attrs.product.title},configurable:!0,enumerable:!0},compareAtPrice:{get:function(){return this.attrs.variant.compare_at_price},configurable:!0,enumerable:!0},price:{get:function(){return this.attrs.variant.price},configurable:!0,enumerable:!0},formattedPrice:{get:function(){return this.attrs.variant.formatted_price},configurable:!0,enumerable:!0},grams:{get:function(){return this.attrs.variant.grams},configurable:!0,enumerable:!0},optionValues:{get:function(){return this.attrs.variant.option_values},configurable:!0,enumerable:!0},available:{get:function(){return this.attrs.variant.available},configurable:!0,enumerable:!0},image:{get:function(){var a=this.id,b=this.attrs.product.images,c=b[0],d=b.filter(function(b){return b.variant_ids.indexOf(a)!==-1})[0],e=d||c;return e?new oe(e):null},configurable:!0,enumerable:!0},imageVariants:{get:function(){return this.image?this.image.variants:[]},configurable:!0,enumerable:!0}})),qe=function(a){return a.reduce(function(a,b){return a.indexOf(b)<0&&a.push(b),a},[])},re="https://widgets.shopifyapps.com/assets/no-image.svg",se=le.extend(Object.defineProperties({constructor:function(){this["super"].apply(this,arguments)}},{id:{get:function(){return this.attrs.product_id},configurable:!0,enumerable:!0},title:{get:function(){return this.attrs.title},configurable:!0,enumerable:!0},description:{get:function(){return this.attrs.body_html},configurable:!0,enumerable:!0},images:{get:function(){return this.attrs.images.map(function(a){return new oe(a)})},configurable:!0,enumerable:!0},memoized:{get:function(){return this._memoized=this._memoized||{},this._memoized},configurable:!0,enumerable:!0},options:{get:function(){if(this.memoized.options)return this.memoized.options;var a=this.attrs.options,b=this.variants;return this.memoized.options=a.map(function(a){var c=a.name,d=b.reduce(function(b,c){var d=c.optionValues.filter(function(b){return b.name===a.name})[0];return b.push(d.value),b},[]),e=qe(d);return new me({name:c,values:e})}),this.memoized.options},configurable:!0,enumerable:!0},variants:{get:function(){var a=this;return this.attrs.variants.map(function(b){return new pe({variant:b,product:a},{config:a.config})})},configurable:!0,enumerable:!0},selections:{get:function(){return this.options.map(function(a){return a.selected})},configurable:!0,enumerable:!0},selectedVariant:{get:function(){var a=this.selections.join(" / ");return this.variants.filter(function(b){return b.title===a})[0]||null},configurable:!0,enumerable:!0},selectedVariantImage:{get:function(){return this.selectedVariant?this.selectedVariant.image:null},configurable:!0,enumerable:!0}})),te=ge.extend({constructor:function(a){this.config=a},rootKeyForType:function(a){return a.slice(0,-1)+"_listing"},models:{collections:le,products:se},modelForType:function(a){return this.models[a]},deserializeSingle:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=b[this.rootKeyForType(a)],e=this.modelFromAttrs(a,d,c);return e},deserializeMultiple:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=c[this.rootKeyForType(a)+"s"];return e.map(function(c){var e=b.modelFromAttrs(a,c,d);return e})},modelFromAttrs:function(a,b,c){var d=this.modelForType(a);return c.config=this.config,new d(b,c)}}),ue=ge.extend(Object.defineProperties({ajax:o,constructor:function(a){this.config=a},pathForType:function(a){return"/"+a.slice(0,-1)+"_listings"},buildUrl:function(a,b,c){switch(a){case"multiple":return this.buildMultipleUrl(b,c);case"single":return this.buildSingleUrl(b,c);default:return""}},buildMultipleUrl:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=""+this.baseUrl+this.pathForType(a),d=Object.keys(b);if(d.length>0){var e=d.map(function(a){var c=void 0;return c=Array.isArray(b[a])?b[a].join(","):b[a],a+"="+encodeURIComponent(c)}).join("&");return c+"?"+e}return c},buildSingleUrl:function(a,b){return""+this.baseUrl+this.pathForType(a)+"/"+b},fetchMultiple:function(){var a=this.buildUrl.apply(this,["multiple"].concat(Array.prototype.slice.call(arguments)));return this.ajax("GET",a,{headers:this.headers}).then(function(a){return a.json})},fetchSingle:function(){var a=this.buildUrl.apply(this,["single"].concat(Array.prototype.slice.call(arguments)));return this.ajax("GET",a,{headers:this.headers}).then(function(a){return a.json})}},{base64AccessToken:{get:function(){return btoa(this.config.accessToken)},configurable:!0,enumerable:!0},baseUrl:{get:function(){var a=this.config,b=a.domain,c=a.appId;return"https://"+b+"/api/apps/"+c},configurable:!0,enumerable:!0},headers:{get:function(){return de({},{Authorization:"Basic "+this.base64AccessToken,"Content-Type":"application/json","X-SDK-Variant":"javascript","X-SDK-Version":ke},this.config.ajaxHeaders)},configurable:!0,enumerable:!0}})),ve="shopify-buy-uuid",we=le.extend(Object.defineProperties({constructor:function(){this["super"].apply(this,arguments)}},{id:{get:function(){return this.attrs[ve]},configurable:!0,enumerable:!0},variant_id:{get:function(){return this.attrs.variant_id},configurable:!0,enumerable:!0},product_id:{get:function(){return this.attrs.product_id},configurable:!0,enumerable:!0},image:{get:function(){return this.attrs.image?new oe(this.attrs.image):null},configurable:!0,enumerable:!0},imageVariants:{get:function(){return this.image?this.image.variants:[]},configurable:!0,enumerable:!0},title:{get:function(){return this.attrs.title},configurable:!0,enumerable:!0},quantity:{get:function(){return this.attrs.quantity},set:function(a){var b=parseInt(a,10);if(b<0)throw new Error("Quantities must be positive");if(b!==parseFloat(a))throw new Error("Quantities must be whole numbers");return this.attrs.quantity=b,this.attrs.quantity},configurable:!0,enumerable:!0},properties:{get:function(){return this.attrs.properties||{}},set:function(a){return this.attrs.properties=a||{},a},configurable:!0,enumerable:!0},variant_title:{get:function(){return this.attrs.variant_title},configurable:!0,enumerable:!0},price:{get:function(){return this.attrs.price},configurable:!0,enumerable:!0},compare_at_price:{get:function(){return this.attrs.compare_at_price},configurable:!0,enumerable:!0},line_price:{get:function(){return(this.quantity*parseFloat(this.price)).toFixed(2)},configurable:!0,enumerable:!0},grams:{get:function(){return this.attrs.grams},configurable:!0,enumerable:!0}})),xe="shopify-buy."+Date.now(),ye={writable:!0,configurable:!0,enumerable:!0,value:null},ze=0,Ae={},Be={},Ce=le.extend(Object.defineProperties({constructor:function(){this["super"].apply(this,arguments)},addVariants:function(){return ie.warn("CartModel - ","addVariants is deprecated, please use createLineItemsFromVariants instead"),this.createLineItemsFromVariants.apply(this,arguments)},createLineItemsFromVariants:function(){var a=[].concat(Array.prototype.slice.call(arguments)).map(function(a){var b={image:a.variant.image,image_variants:a.variant.imageVariants,variant_id:a.variant.id,product_id:a.variant.productId,title:a.variant.productTitle,quantity:parseInt(a.quantity,10),properties:a.properties||{},variant_title:a.variant.title,price:a.variant.price,compare_at_price:a.variant.compareAtPrice,grams:a.variant.grams};return q(b),b}),c=this.attrs.line_items;c.push.apply(c,b(a));var d=c.reduce(function(a,b){var c=a.filter(function(a){return a.variant_id===b.variant_id&&r(a.properties,b.properties)})[0];return c?c.quantity=c.quantity+b.quantity:a.push(b),a},[]);return this.attrs.line_items=d.reduce(function(a,b){return b.quantity>=1&&a.push(b),a},[]),this.updateModel()},updateLineItem:function(a,b){if(b<1)return this.removeLineItem(a);var c=this.lineItems.filter(function(b){return b.id===a})[0];return c?(c.quantity=b,this.updateModel()):new Promise(function(b,c){c(new Error("line item with id: "+a+" not found in cart#"+this.id))})},removeLineItem:function(a){var b=this.lineItems.length,c=this.lineItems.filter(function(b){return b.id!==a}),d=c.length;return d<b?(this.attrs.line_items=c.map(function(a){return a.attrs}),this.updateModel()):new Promise(function(b,c){c(new Error("line item with id: "+a+" not found in cart#"+this.id))})},clearLineItems:function(){return this.attrs.line_items=[],this.updateModel()},updateModel:function(){var a=this;return this.shopClient.update("carts",this).then(function(b){return de(a.attrs,b.attrs),a})}},{id:{get:function(){return this.attrs[ve]},configurable:!0,enumerable:!0},lineItems:{get:function(){return(this.attrs.line_items||[]).map(function(a){return new we(a)})},configurable:!0,enumerable:!0},lineItemCount:{get:function(){return this.lineItems.reduce(function(a,b){return a+b.quantity},0)},configurable:!0,enumerable:!0},subtotal:{get:function(){var a=this.lineItems.reduce(function(a,b){return a+parseFloat(b.line_price)},0);return a.toFixed(2)},configurable:!0,enumerable:!0},checkoutUrl:{get:function(){var a=this.config,b="https://"+a.domain+"/cart",c=be.get("ga"),d=this.lineItems.map(function(a){return a.variant_id+":"+a.quantity}),e="access_token="+a.accessToken+"&_fd=0";if("function"==typeof c){var f=void 0;c(function(a){f=a.get("linkerParam")}),f&&(e+="&"+f)}return b+"/"+d+"?"+e},configurable:!0,enumerable:!0}})),De=ge.extend({constructor:function(a){this.config=a},rootKeyForType:function(a){return a.slice(0,-1)},modelForType:function(){return Ce},deserializeSingle:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=b[this.rootKeyForType(a)],e=this.modelFromAttrs(a,d,c);return e},modelFromAttrs:function(a,b,c){var d=this.modelForType(a);return c.config=this.config,new d(b,c)},serialize:function(a,b){var c=this.rootKeyForType(a),d={},e=de({},b.attrs);return d[c]=e,delete e.attributes,Object.keys(e).forEach(function(a){var b=e[a];(null===b||"string"==typeof b&&0===b.length)&&delete e[a]}),d}}),Ee=le.extend(Object.defineProperties({constructor:function(a){if(Object.keys(a).indexOf("referenceId")<0)throw new Error("Missing key referenceId of reference. References to null are not allowed");this["super"].apply(this,arguments)}},{id:{get:function(){return this.attrs[ve]},configurable:!0,enumerable:!0},referenceId:{get:function(){return this.attrs.referenceId},set:function(a){return this.attrs.referenceId=a,a},configurable:!0,enumerable:!0}})),Fe=ge.extend({constructor:function(a){this.config=a},modelForType:function(){return Ee},deserializeSingle:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=this.modelForType(a);return new d(b,c)},serialize:function(a,b){var c=de({},b.attrs);return c}}),Ge=ge.extend({constructor:function(){this.localStorageAvailable=this.storageAvailable("localStorage"),this.cache={}},setItem:function(a,b){return this.localStorageAvailable?localStorage.setItem(a,JSON.stringify(b)):this.cache[a]=b,b},getItem:function(a){if(!this.localStorageAvailable)return this.cache[a]||null;var b=localStorage.getItem(a);try{return JSON.parse(b)}catch(a){return null}},storageAvailable:function(a){try{var b=be.get(a),c="__storage_test__";return b.setItem(c,c),b.removeItem(c),!0}catch(a){return!1}}}),He=ge.extend({constructor:function(){this.store=new Ge},idKeyForType:function(){return ve},fetchSingle:function(a,b){var c=this;return new Promise(function(d,e){var f=c.store.getItem(c.storageKey(a,b));return null===f?void e(new Error(a+"#"+b+" not found")):void d(f)})},create:function(a,b){var c=this;return new Promise(function(d){var e=c.identify(b);c.store.setItem(c.storageKey(a,e),b),d(b)})},update:function(a,b,c){var d=this;return new Promise(function(e){d.store.setItem(d.storageKey(a,b),c),e(c)})},storageKey:function(a,b){return a+"."+b},identify:function(a){var b=Object.keys(a);return q(1===b.length&&"object"===t(a[b[0]])?a[b[0]]:a)}}),Ie=ge.extend(Object.defineProperties({constructor:function(a){this.config=a,this.serializers={products:te,collections:te,carts:De,references:Fe},this.adapters={products:ue,collections:ue,carts:He,references:He}},config:null,fetchAll:function(a){var b=this,c=new this.adapters[a](this.config);return c.fetchMultiple(a).then(function(d){return b.deserialize(a,d,c,null,{multiple:!0})})},fetch:function(a,b){var c=this,d=new this.adapters[a](this.config);return d.fetchSingle(a,b).then(function(b){return c.deserialize(a,b,d,null,{single:!0})})},fetchQuery:function(a,b){var c=this,d=new this.adapters[a](this.config);return d.fetchMultiple(a,b).then(function(b){return c.deserialize(a,b,d,null,{multiple:!0})})},create:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=new this.adapters[a](this.config),e=new this.serializers[a](this.config),f=e.modelForType(a),g=new f(c,{shopClient:this}),h=e.serialize(a,g);return d.create(a,h).then(function(c){return b.deserialize(a,c,d,e,{single:!0})})},update:function(a,b){var c=this,d=b.adapter,e=b.serializer,f=e.serialize(a,b),g=b.attrs[d.idKeyForType(a)];return d.update(a,g,f).then(function(b){return c.deserialize(a,b,d,e,{single:!0})})},deserialize:function(a,b,c,d){var e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},f=d||new this.serializers[a](this.config),g={shopClient:this,adapter:c,serializer:f,type:a},h=void 0;return h=e.multiple?f.deserializeMultiple(a,b,g):f.deserializeSingle(a,b,g)},createCart:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b={line_items:[]},c={};return de(c,b),de(c,a),this.create("carts",c)},updateCart:function(a){return this.update("carts",a)},fetchCart:s("one","carts"),fetchAllProducts:s("all","products"),fetchAllCollections:s("all","collections"),fetchProduct:s("one","products"),fetchCollection:s("one","collections"),fetchQueryProducts:s("query","products"),fetchQueryCollections:s("query","collections"),fetchRecentCart:function(){var a=this;return this.fetch("references",this.config.domain+".recent-cart").then(function(b){var c=b.referenceId;return a.fetchCart(c)})["catch"](function(){return a.createCart().then(function(b){var c={referenceId:b.id};return c[ve]=a.config.domain+".recent-cart",a.create("references",c),b})})}},{serializers:{get:function(){return de({},this.shadowedSerializers)},set:function(a){this.shadowedSerializers=de({},a)},configurable:!0,enumerable:!0},adapters:{get:function(){return de({},this.shadowedAdapters)},set:function(a){this.shadowedAdapters=de({},a)},configurable:!0,enumerable:!0}}));if(l()){var Je=require,Ke=Je("node-fetch");be.set("fetch",Ke),be.set("Response",Ke.Response)}l()&&be.set("btoa",function(a){return new Buffer(a).toString("base64")});var Le={ShopClient:Ie,Config:je,version:ke,NO_IMAGE_URI:re,buildClient:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=new this.Config(a);return new this.ShopClient(b)}};a.exports=Le});var gtmRunning=!0,inProd=!(window.location.href.includes("localhost")||window.location.href.includes("dev.molekule.com")||window.location.href.includes("hunkydory.molekule.com")),inDev=!1,inCanadaFolder=window.location.href.includes("ca-en");window.mobilecheck=function(){var a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a},$("#buy-product-landing").click(function(a){a.preventDefault(),$("html, body").animate({scrollTop:0},500)});var modalTriggered=!1,isMobile=window.mobilecheck(),mailingListModal=$("[data-remodal-id=mailing-list]").remodal(),inst=$("[data-remodal-id=mail]").remodal(),err=$("[data-remodal-id=error]").remodal(),cartModal=$("[data-remodal-id=buy-molekule]").remodal(),smbConfirm=$("[data-remodal-id=smb-confirm]").remodal();$(document).ready(function(){var a=($("ul.nav"),$("ul.nav a")),b=window.location.pathname.split("/")[1];$(a).each(function(){$(this).attr("href")==b&&$(this).parent().addClass("active")}),$.fn.scrollView=function(){return this.each(function(){$("html, body").animate({scrollTop:$(this).offset().top},800)})},$("footer div.up").click(function(a){a.preventDefault(),$("html").scrollView()}),storeUtm(),mobileNavLogic(),whatTemplate(),waypointInit(),createShopifyStore(),routeInternational(),sendSessionDuration(),createStars(),mailPopUpTimers(),newAnalyticsInit(),promoBanner(),shuffleSurveyChoices(),handleSurveySubmissions(),$(window).scroll(function(){var a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;a<768&&$(window).scrollTop()+$(window).height()==$(document).height()&&$(".promo-banner.bottom-fixed").fadeOut()}),$("#wl-form-submit").click(function(){var a=$("#so-email").val(),b=$("#modal-duplicate-email");b.val(a);var c=$("#duplicate-form-submit");if(validateEmail(a)){if(inCanadaFolder!==!0){var d=document.getElementsByClassName("emailPassToGF");d[0].value=a,d[1].value=a}c.click(),$("#email-msg-modal").html(""),$("#mail-confirm").append('<img style="height: 0; width: 0;" src="http://p.liadm.com/p?c=20542"/>  <img height="1" width="1" style="display:none;" alt="" src="https://dc.ads.linkedin.com/collect/?pid=421628&conversionId=446124&fmt=gif" />'),inst.open(),gtmRunning&&inProd&&(fbq("track","Lead"),pintrk("track","Lead"),pintrk("track","signup"),snaptr("init","bab5b151-436e-42e8-b486-067ac6360772",{user_email:a}),snaptr("track","SIGN_UP")),goog_report_conversion(),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"wl-conversion"}),trackSignUp(a,"modal","mailing-list")}else $("#email-msg-modal").html("Please enter valid email address"),$("#email-msg-modal").fadeIn();$("#so-email").val(""),$(document).on("closed",inst,function(a){$("#email-msg-modal").html("")})}),$("#module-email-submit").click(function(){var a=$("#module-email-input").val();if($("#module-email-msg").html(""),validateEmail(a)){if(inCanadaFolder!==!0){var b=document.getElementsByClassName("emailPassToGF");b[0].value=a,b[1].value=a}$("#mail-confirm").append('<img style="height: 0; width: 0;" src="http://p.liadm.com/p?c=20542"/>  <img height="1" width="1" style="display:none;" alt="" src="https://dc.ads.linkedin.com/collect/?pid=421628&conversionId=446124&fmt=gif" />'),inst.open(),gtmRunning&&inProd&&(fbq("track","Lead"),pintrk("track","Lead"),pintrk("track","signup"),snaptr("init","bab5b151-436e-42e8-b486-067ac6360772",{user_email:a}),snaptr("track","SIGN_UP")),goog_report_conversion(),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"moduleSignUp"}),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"wl-conversion"}),trackSignUp(a,"module","mailing-list")}else $("#module-email-msg").html("Please enter valid email address"),$("#module-email-msg").fadeIn();$("#module-email-input").val(""),$(document).on("closed",inst,function(a){$("#email-msg-modal").html("")})}),$("#submit").click(function(){var a=$("#email").val();validateEmail($("#email").val())?(gtmRunning&&inProd&&(fbq("track","Lead"),pintrk("track","Lead"),pintrk("track","signup"),snaptr("init","bab5b151-436e-42e8-b486-067ac6360772",{user_email:a}),snaptr("track","SIGN_UP")),$("#mail-confirm").append('<img style="height: 0; width: 0;" src="http://p.liadm.com/p?c=20542"/>  <img height="1" width="1" style="display:none;" alt="" src="https://dc.ads.linkedin.com/collect/?pid=421628&conversionId=446124&fmt=gif" />'),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"wl-conversion"}),trackSignUp(a,"footer","mailing-list"),$("#email-msg").html("You've been added to the mailing list!"),$("#email-msg").fadeIn()):($("#email-msg").html("Please enter valid email address"),$("#email-msg").fadeIn())}),$("#smb-submit").click(function(){var a=$("#smb-email").val();console.log("submit click"),validateEmail(a)&&$("#smb-type").val()?(gtmRunning&&inProd&&(fbq("track","Lead"),pintrk("track","Lead"),pintrk("track","signup"),snaptr("init","bab5b151-436e-42e8-b486-067ac6360772",{user_email:a}),snaptr("track","SIGN_UP")),$("#mail-confirm").append('<img style="height: 0; width: 0;" src="http://p.liadm.com/p?c=20542"/>  <img height="1" width="1" style="display:none;" alt="" src="https://dc.ads.linkedin.com/collect/?pid=421628&conversionId=446124&fmt=gif" />'),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"wl-conversion"}),trackSignUp(a,"footer","mailing-list"),smbConfirm.open()):(console.log("error"),$("#smb-error").fadeIn())}),$("#cart-email-submit").click(function(){var a=$("#cart-email").val();a?(gtmRunning&&inProd&&(fbq("track","Lead"),pintrk("track","Lead"),pintrk("track","signup"),snaptr("init","bab5b151-436e-42e8-b486-067ac6360772",{user_email:a}),snaptr("track","SIGN_UP")),$("#lower-wrap").append('<img style="height: 0; width: 0;" src="http://p.liadm.com/p?c=20542"/>  <img height="1" width="1" style="display:none;" alt="" src="https://dc.ads.linkedin.com/collect/?pid=421628&conversionId=446124&fmt=gif" />'),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"wl-conversion"}),trackSignUp(a,"cart","mailing-list"),$("#email-msg-cart").html("You've been added to the mailing list!"),$("#email-msg-cart").fadeIn()):($("#email-msg-cart").html("Please enter valid email address"),$("#email-msg-cart").fadeIn())})}),$(window).load(function(){try{google_tag_manager}catch(a){"ReferenceError"===a.name&&(gtmRunning=!1)}}),$(document).on("closed",cartModal,function(a){$(".lower-wrap").removeClass("active")}),$("#cart-close").click(function(){"true"!==sessionStorage.getItem("ab")||checkCookie("cartMailModuleSeen")?($(".lower-wrap").removeClass("active"),cartModal.close()):($(".lower-wrap").addClass("active"),setCookie("cartMailModuleSeen","seen",30))});var whatTemplate=function(){if($("body").hasClass("homepage")&&(scrollTimers(),$("body").hasClass("main")||$("body").hasClass("canada")?(playVideo(),owlOldTestimonials(),owlPress(),sectionFixHeightHome(),pollutantsHovers(),owlHomeCarouselChecks(),appendTestimonialVideo(),playTestimonialVideo(),owlReviews(),$(window).on("resize",function(a){appendTestimonialVideo()}),screenWidth>=1025&&scrollMagic()):$("body").hasClass("lifestyle")&&(playVideo(),owlReviews(),appendDeviceVideo(),appendKatrinaVideo(),reviewButtonsListeners(),playTestimonialVideo(),$(window).on("resize",function(a){clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){appendDeviceVideo(),appendKatrinaVideo()},250)}))),$("body").hasClass("allergies")&&(playVideo(),playTestimonialVideo(),owlAllergyTestimonials(),appendAllergyTestimonialVideo(),$(window).on("resize",function(a){appendAllergyTestimonialVideo()})),$("body").hasClass("newhome")&&(playVideo(),playTestimonialVideo(),owlHomeHeroMobile(),graphClickMobile(),sectionFixHeightNewHome(),owlGraphs(),owlHomeAwards(),owlNewhomeTestimonials(),appendAllergyTestimonialVideo(),appendNewhomeTaglineVideo(),$(window).on("resize",function(a){appendAllergyTestimonialVideo()})),$("body").hasClass("mh1-landing")&&(owlProductFeatures(),owlLandingFilters(),owlLandingHeroMobile(),owlHomeHeroMobile(),playVideo(),appendNewhomeTaglineVideo()),$("body").hasClass("subscription")&&(videoAppend("twist-pop-done-vid","VIDEO_Subscription_FilterChange_720p.mp4","VIDEO_Subscription_FilterChange_720p.webm"),playVideo()),$("body").hasClass("technology")&&(owlGraphs(),owlPureAir(),graphClickMobile(),sectionFixHeight()),$("body").hasClass("product")&&(sectionFixHeight(),owlPureAir()),$("body").hasClass("talkable")&&sectionFixHeight(),$("body").hasClass("news")&&($("#scroll-nav a").click(function(a){a.preventDefault()}),loadNavLogicNews(),sectionFixHeightNews()),$("body").hasClass("faqs")&&($("#scroll-nav a").click(function(a){a.preventDefault()}),loadNavLogic(),faqs()),$("body").hasClass("about")&&about(),$("body").hasClass("jobs")&&jobs(),$("body").hasClass("legal")&&($("#scroll-nav a").click(function(a){a.preventDefault()}),loadNavLogic()),$("body").hasClass("newreview")&&$.loadScript("/assets/js/lp-min.js",function(){starsHandler(),newReview()}),$("body").hasClass("reviews")&&reviews(),$("body").hasClass("mold")&&(mold(),sectionFixHeightHome()),$("body").hasClass("mission")&&$.loadScript("/assets/js/lp-min.js",function(){mission()}),($("body").hasClass("allergies")||$("body").hasClass("asthma"))&&fixHeightAsthma(),$("body").hasClass("subarticles")){var a=$(".main-header");$(".table-of-contents a").click(function(b){var c=$(this).attr("href");c.match("^#")&&(b.preventDefault(),$("html, body").animate({scrollTop:$(c).offset().top-a.height()},1e3))});var b=$("#device-tech"),c=b.parent(),d=$("#article-full .content"),e=$("#article-full .sidebar"),f=function(){var f=$(window).height();if(setTimeout(function(){var b=a.get(0).getBoundingClientRect(),c=d.get(0).getBoundingClientRect(),g=e.get(0).getBoundingClientRect(),h=b.top+b.height;if(c.top+g.height-f>h)return void e.removeClass("fixed").removeClass("bottom");var i=c.width*(.3/.7);return c.bottom>g.height+b.height||c.bottom>f?void e.addClass("fixed").css({width:i,left:c.width+c.x,top:h-g.height+f,right:"",bottom:""}).removeClass("bottom"):void e.addClass("fixed").css({width:i,left:"",top:"",bottom:-50,right:0}).addClass("bottom")},0),!$("body").hasClass("medication")&&!$("body").hasClass("overmedication")){var g=c.get(0).getBoundingClientRect();g.bottom<0||g.bottom>f?b.get(0).pause():b.get(0).play()}};$(window).scroll(f).resize(f),f()}},becQuote=$("#bec-quote"),gordonQuote=$("#gordon-quote"),kimQuote=$("#kim-quote"),testimonialVideoAppended=!1,newhomeVideoAppended=!1,allergyTestimonialVideoAppended=!1,waypointInit=function(){$(".wp-trigger").waypoint(function(){$(this.element).addClass("active")},{offset:"90%"}),$(".s5-trigger").waypoint(function(){$(this.element).addClass("reveal")},{offset:"90%"}),$("footer").waypoint(function(){$(this.element).addClass("wp-trigger").addClass("active")},{offset:"90%"}),$("body").hasClass("homepage")&&$("footer").waypoint(function(a){"down"===a?($("ul#nav").addClass("reduce"),$("#cta-card").addClass("active")):$("ul#nav").removeClass("reduce")},{offset:"90%"})};jQuery.loadScript=function(a,b){jQuery.ajax({url:a,dataType:"script",success:b,async:!1})};var mobBtnOpen=$("header div.open-nav-btn"),mobBtnClose=$(".menu div.close-nav-btn"),header=$("header.main-header"),menu=$(".menu"),cover=$(".cover");sectionTimerTrigger=!1,timeSpentInSection=0,timerPaused=!1;var testimonialVideoTimerTrigger=!1,timeWatched=0,htmlSelect=$("html"),noTouchScroll=function(){htmlSelect.on("touchmove",function(a){a.preventDefault()},!1),htmlSelect.on("mousewheel DOMMouseScroll",function(a){a.preventDefault()},!1)},TouchScroll=function(){htmlSelect.unbind("touchmove",!1),htmlSelect.unbind("mousewheel DOMMouseScroll",!1)},disableScroll=function(){htmlSelect.css("overflow","hidden")},enableScroll=function(){htmlSelect.css("overflow","visible")},scrollMagic=function(){var a=new ScrollMagic.Controller,b=$(".section6").outerHeight();new ScrollMagic.Scene({triggerElement:"#scrollpin",duration:b,triggerHook:0,reverse:!0,offset:-74}).setPin("#pin1",{pushFollowers:!1}).addTo(a),new ScrollMagic.Scene({triggerElement:"body.homepage .section6",duration:$("body.homepage .section6").outerHeight(),triggerHook:"onEnter",reverse:!0,offset:400}).setClassToggle("#scrollpin","active").addTo(a).on("start",function(a){$("#scrollpin").removeClass("keep-active")}).on("end",function(a){$("#scrollpin").addClass("keep-active")}),new ScrollMagic.Scene({triggerElement:"#scrollpin",duration:b,triggerHook:0,reverse:!0,offset:-74}).setPin(".grid-bg div.fixed-grid",{pushFollowers:!1}).addTo(a)};$(function(){$(".tip").on("click",function(){$(this).find(".product-tooltip").show()}),$(".close-tooltip").on("click",function(){$(".close-tooltip").parent().fadeOut()}),$(".tip").hover(function(){$(this).addClass("active")}),$(".tip").mouseleave(function(){var a=$(this);setTimeout(function(){a.removeClass("active")},50)})}),$(function(){var a,b=$(".owl-pollutants"),c=["Mold","Allergens","Viruses","VOCs","Bacteria"],d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e=$(".pollutant-container li"),f=!1;$(window).on("resize",function(){var a=$(window).width(),c=""!==window.location.hash,d=$(".tag"),f=$(".tab").hasClass("hover-info"),g=window.location.hash;a<768?(b.trigger("refresh.owl.carousel"),e.removeClass("tab hover-info active").removeAttr("style"),$(".thumb, span.plus-info").removeAttr("style"),c&&f&&($(".nav").addClass("hide-nav"),0===d.length&&$(".owl-pollutants .owl-controls").prepend('<span class="tag">'+g.replace("#","")+"</span>"))):(e.removeClass("active"),$('li[href="'+g+'"]').addClass("active"),$(".nav").removeClass("hide-nav"),f?$(".carousel-pollutants").addClass("show"):($(".info p").removeAttr("style"),$(".carousel-pollutants").removeClass("show")))}),$("#pollutants-card .pollutant-container li").click(function(){f=!0,a=$(this).attr("href"),d=$(window).width();var b=$(".tag").length;window.location=a,e.removeAttr("style"),d<768?($(".nav").addClass("hide-nav"),0==b&&$(".owl-pollutants .owl-controls").prepend('<span class="tag">'+a.replace("#","")+"</span>"),$(".carousel-pollutants").addClass("show")):(e.removeClass("active"),$(this).addClass("active"),$(".headline h2, .info p").fadeOut(500),e.addClass("tab"),$("span.plus-info").fadeOut(),$(".info .thumb").fadeOut(800,function(){$(".info img").css({display:"block",height:0}),$(".carousel-pollutants").addClass("show"),setTimeout(function(){e.addClass("hover-info")},2e3)}))}),$(".reset-carousel").on("click",function(){var a=$(window).width();a<768?($(".carousel-pollutants").removeClass("show"),$(".info p, .headline h2").removeAttr("style"),setTimeout(function(){$(".nav").removeClass("hide-nav")},500)):($(".carousel-pollutants").removeClass("show"),$(".info p").show(1e3,function(){e.removeClass("tab hover-info active"),$("#pollutants-card .thumb").css({display:"none",height:"auto"}),$(".info .thumb").fadeIn(500),$("span.plus-info, .headline h2").fadeIn(800)}))}),b.owlCarousel({items:1,singleItem:!0,addClassActive:!0,dots:!0,center:!0,URLhashListener:!0,startPosition:"URLHash",lazyLoad:!0}),b.on("translated.owl.carousel",function(b){a="#"+c[b.item.index],window.location=a,e.removeClass("active"),$('li[href="'+a+'"]').addClass("active"),$(".tag").text(a.replace("#",""))}),b.on("resized.owl.carousel",function(){b.trigger("refresh.owl.carousel")})});var screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,videoDiv=$("#destruction-video-container"),destructionVideoAppended=!1;$("body").hasClass("homepage")&&!$("body").hasClass("old")&&$(document).ready(function(){appendDestructionVid(),$(window).on("resize",appendDestructionVid)});var inCanadaFolder=window.location.href.includes("ca-en"),cart,cartItems,giftCardCartItems,quantity=1,quantityElement=$(".quantity"),finalCostElement=$("#mol-price"),filterCostElement=$("#filter-price"),filterCost,finalCost,shopClient,regularPriceElement=$("#regular-price"),utmString="",moldVideoAppended=!1,deviceVideoDiv=$(".destruction-animation-container"),katrinaVideoDiv=$(".katrina-module"),deviceVideoAppended=!1,katrinaVideoAppended=!1,resizeTimer;$("body").hasClass("ab")&&($(document).ready(function(){appendDeviceVideo(),appendKatrinaVideo(),reviewButtonsListeners()}),$(window).on("resize",function(a){clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){appendDeviceVideo(),appendKatrinaVideo()},250)})),function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("./util.js"),e=a("./targetWidths.js"),f=function(){function a(a,b){if(this.el=a,this.settings=b||{},!this.el)throw new Error("ImgixTag must be passed a DOM element.");if(!this.el.hasAttribute("ix-initialized")||this.settings.force){if(this.ixPathVal=a.getAttribute(this.settings.pathInputAttribute),this.ixParamsVal=a.getAttribute(this.settings.paramsInputAttribute),this.ixSrcVal=a.getAttribute(this.settings.srcInputAttribute),this.ixHostVal=a.getAttribute(this.settings.hostInputAttribute)||this.settings.host,this.ixPathVal&&!this.ixHostVal)throw new Error("You must set a value for `imgix.config.host` or specify an `ix-host` attribute to use `ix-path` and `ix-params`.");this.baseParams=this._extractBaseParams(),this.baseUrl=this._buildBaseUrl(),this.baseUrlWithoutQuery=this.baseUrl.split("?")[0],d.isString(this.settings.sizesAttribute)&&this.el.setAttribute(this.settings.sizesAttribute,this.sizes()),d.isString(this.settings.srcsetAttribute)&&this.el.setAttribute(this.settings.srcsetAttribute,this.srcset()),d.isString(this.settings.srcAttribute)&&"IMG"==this.el.nodeName&&this.el.setAttribute(this.settings.srcAttribute,this.src()),this.el.setAttribute("ix-initialized","ix-initialized")}}return a.prototype._extractBaseParams=function(){var a;if(this.ixPathVal){a=JSON.parse(this.ixParamsVal)||{};for(var b in a)"64"===b.substr(-2)&&(a[b]=d.encode64(a[b]))}else{var c=this.ixSrcVal.lastIndexOf("?");if(a={},c>-1)for(var e,f=this.ixSrcVal.substr(c+1),g=f.split("&"),h=0;h<g.length;h++)e=g[h].split("="),a[e[0]]=e[1]}return this.settings.includeLibraryParam&&(a.ixlib="imgixjs-"+imgix.VERSION),a},a.prototype._buildBaseUrl=function(){if(this.ixSrcVal)return this.ixSrcVal;var a=this.ixPathVal,b=this.settings.useHttps?"https":"http",c=b+"://"+this.ixHostVal,d="/"===this.ixHostVal.substr(-1),e="/"===a[0];c+=d&&e?a.substr(1):d||e?a:"/"+a,c+="?";var f,g=[];for(var h in this.baseParams)f=this.baseParams[h],"undefined"==typeof f?g.push(encodeURIComponent(h)):g.push(encodeURIComponent(h)+"="+encodeURIComponent(f));return c+=g.join("&")},a.prototype._buildSrcsetPair=function(a){var b=d.shallowClone(this.baseParams);b.w=a,null!=this.baseParams.w&&null!=this.baseParams.h&&(b.h=Math.round(a*(this.baseParams.h/this.baseParams.w)));var c,e=this.baseUrlWithoutQuery+"?",f=[];for(var g in b)c=b[g],f.push(g+"="+c);return e+=f.join("&"),e+" "+a+"w"},a.prototype.src=function(){return this.baseUrl},a.prototype.srcset=function(){for(var a=[],b=0;b<e.length;b++)a.push(this._buildSrcsetPair(e[b]));return a.join(", ")},a.prototype.sizes=function(){var a=this.el.getAttribute("sizes");return a?a:"100vw"},a}();b.exports=f},{"./targetWidths.js":4,"./util.js":5}],2:[function(a,b,c){b.exports={host:null,useHttps:!0,includeLibraryParam:!0,srcAttribute:"src",srcsetAttribute:"srcset",sizesAttribute:"sizes",srcInputAttribute:"ix-src",pathInputAttribute:"ix-path",paramsInputAttribute:"ix-params",hostInputAttribute:"ix-host"}},{}],3:[function(a,b,c){(function(b){function c(a){var b,c=document.querySelector('meta[property="ix:'+a+'"]');if(c)return b=c.getAttribute("content"),"true"===b||"false"!==b&&(""===b||"null"===b?null:b)}var d=a("./ImgixTag.js"),e=a("./util.js"),f=a("./defaultConfig"),g="3.3.2";b.imgix={init:function(a){var b=e.shallowClone(this.config);e.extend(b,a||{});for(var c=["img["+b.srcInputAttribute+"]","source["+b.srcInputAttribute+"]","img["+b.pathInputAttribute+"]","source["+b.pathInputAttribute+"]"].join(","),f=document.querySelectorAll(c),g=0;g<f.length;g++)new d(f[g],b)},config:f,VERSION:g},e.domReady(function(){e.objectEach(f,function(a,d){var e=c(d);"undefined"!=typeof e&&("boolean"==typeof f[d]?b.imgix.config[d]=!!e:b.imgix.config[d]=e)}),c("autoInit")!==!1&&b.imgix.init()})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ImgixTag.js":1,"./defaultConfig":2,"./util.js":5}],4:[function(a,b,c){function d(){return M.concat(O,N,P)}function e(){var a,b,c,e=d(),f=[];for(b=0,c=e.length;b<c;b++)a=e[b],f.push(a.cssWidth*a.dpr);return f}function f(){for(var a=[],b=j;b<i;b+=j)a.push(b);return a.push(i),a}function g(){var a,b,c="undefined"!=typeof window,d=e().concat(f()),g=[],k=c&&window.devicePixelRatio?window.devicePixelRatio:1,l=c?Math.max(window.screen.availWidth,window.screen.availHeight):i,m=j,n=c?Math.floor(l*k):i;for(b=0;b<d.length;b++)a=d[b],a<=n&&a>=m&&g.push(a);return g.push(n),h.uniq(g).sort(function(a,b){return a-b})}var h=a("./util.js"),i=5120,j=100,k={cssWidth:320,dpr:1},l={cssWidth:320,dpr:2},m={cssWidth:375,dpr:2},n={cssWidth:360,dpr:4},o={cssWidth:414,dpr:3},p={cssWidth:736,dpr:3},q={cssWidth:412,dpr:3.5},r={cssWidth:690,dpr:3.5},s={cssWidth:432,dpr:2.5},t={cssWidth:768,dpr:2.5},u={cssWidth:360,dpr:3},v={cssWidth:640,dpr:3},w={cssWidth:360,dpr:4},x={cssWidth:640,dpr:4},y={cssWidth:768,dpr:1},z={cssWidth:1024,dpr:1},A={cssWidth:768,dpr:2},B={cssWidth:1024,dpr:2},C={cssWidth:1024,dpr:2},D={cssWidth:1366,dpr:2},E={cssWidth:576,dpr:1},F={cssWidth:576,dpr:2},G={cssWidth:720,dpr:1},H={cssWidth:720,dpr:2},I={cssWidth:940,dpr:1},J={cssWidth:940,dpr:2},K={cssWidth:1140,dpr:1},L={cssWidth:1140,dpr:2},M=[k,l,m,n],N=[y,z,A,B,C,D],O=[o,p,q,r,s,t,u,v,w,x],P=[E,F,G,H,I,J,K,L];b.exports=g()},{"./util.js":5}],5:[function(a,b,c){b.exports={compact:function(a){for(var b=[],c=0;c<a.length;c++)a[c]&&b.push(a[c]);return b},shallowClone:function(a){var b={};for(var c in a)b[c]=a[c];return b},extend:function(a,b){for(var c in b)a[c]=b[c];return a},uniq:function(a){var b,c={},d=[];for(b=0;b<a.length;b++)c[a[b]]||(c[a[b]]=!0,d.push(a[b]));return d},objectEach:function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(a[c],c)},isString:function(a){return"string"==typeof a},encode64:function(a){var b=unescape(encodeURIComponent(a)),c=btoa(b),d=c.replace(/\+/g,"-");return d=d.replace(/\//g,"_").replace(/\//g,"_").replace(/\=+$/,"")},decode64:function(a){var b=a.replace(/-/g,"+").replace(/_/g,"/"),c=atob(b),d=decodeURIComponent(escape(c));return d},domReady:function(a){"complete"===document.readyState?setTimeout(a,0):document.addEventListener?document.addEventListener("DOMContentLoaded",a,!1):document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&a()})}}},{}]},{},[3]);